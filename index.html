<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Games Portal</title>
  <style>
    /* same styling as before */
  </style>
</head>
<body>
  <header>
    <h1>Games Portal</h1>
    <p>Select a game below. Each link opens the folderâ€™s <code>index.html</code>.</p>
    <div class="search">
      <input id="search" type="search" placeholder="Search games" aria-label="Search games" />
    </div>
  </header>

  <main>
    <!-- This will be populated dynamically -->
    <div id="game-sections"></div>
  </main>

  <footer>
    &copy; 2025 Games Portal
  </footer>

  <script>
    async function loadGames() {
      const response = await fetch('games.json');
      const data = await response.json();

      const container = document.getElementById('game-sections');
      container.innerHTML = '';

      for (const [genre, games] of Object.entries(data)) {
        const h2 = document.createElement('h2');
        h2.textContent = genre;
        container.appendChild(h2);

        const ul = document.createElement('ul');
        ul.className = 'grid';

        games.forEach(game => {
          const li = document.createElement('li');
          li.innerHTML = `<a href="${game.folder}">${game.name}</a>`;
          ul.appendChild(li);
        });

        container.appendChild(ul);
      }
    }

    // search filter
    document.getElementById('search').addEventListener('input', function () {
      const query = this.value.toLowerCase();
      document.querySelectorAll('ul.grid li').forEach(li => {
        li.style.display = li.textContent.toLowerCase().includes(query) ? '' : 'none';
      });
    });

    loadGames();
  </script>
</body>
</html>

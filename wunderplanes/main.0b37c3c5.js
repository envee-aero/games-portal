parcelRequire=function(e){var r="function"==typeof parcelRequire&&parcelRequire,n="function"==typeof require&&require,i={};function u(e,u){if(e in i)return i[e];var t="function"==typeof parcelRequire&&parcelRequire;if(!u&&t)return t(e,!0);if(r)return r(e,!0);if(n&&"string"==typeof e)return n(e);var o=new Error("Cannot find module '"+e+"'");throw o.code="MODULE_NOT_FOUND",o}return u.register=function(e,r){i[e]=r},i=e(u),u.modules=i,u}(function (require) {function xb(a){return a&&a.__esModule?{d:a.default}:{d:a}}var Bc=this;function Um(e){return(Um="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Vm(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function eh(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function Wm(e,t,r){return t&&eh(e.prototype,t),r&&eh(e,r),e}function Xm(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ym(e,t)}function Ym(e,t){return(Ym=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Zm(e){var t=an();return function(){var r,i=fh(e);if(t){var n=fh(this).constructor;r=Reflect.construct(i,arguments,n)}else r=i.apply(this,arguments);return $m(this,r)}}function $m(e,t){return!t||"object"!==Um(t)&&"function"!=typeof t?_m(e):t}function _m(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function an(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function fh(e){return(fh=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function bn(e,a){if(!(e instanceof a))throw new TypeError("Cannot call a class as a function")}function gh(e,a){for(var n=0;n<a.length;n++){var r=a[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function cn(e,a,n){return a&&gh(e.prototype,a),n&&gh(e,n),e}var dn=null,hb=function(){function e(){bn(this,e)}return cn(e,[{key:"onEnterCoverFirstTime",value:function(){console.warn("GameFlowManager: implement")}},{key:"onEnterGameOverFirstTime",value:function(){console.warn("GameFlowManager: implement")}},{key:"onEnterGameplayFirstTime",value:function(){console.warn("GameFlowManager: implement")}},{key:"onEnterCoverEverytime",value:function(){console.warn("GameFlowManager: implement")}},{key:"onEnterGameplayEverytime",value:function(e){console.warn("GameFlowManager: implement")}},{key:"onEnterGameOverEverytime",value:function(){console.warn("GameFlowManager: implement")}},{key:"onUpdateGameplayPlaytime",value:function(e){}},{key:"onUpdateGamePlaytime",value:function(e){}},{key:"onGameplayFinished",value:function(){console.warn("GameFlowManager: implement")}},{key:"onCustomInfo",value:function(e,a){}}],[{key:"SetFlowManager",value:function(e){dn=e}},{key:"GetFlowManager",value:function(){return dn}}]),e}();function en(e,o){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}function hh(e,o){for(var r=0;r<o.length;r++){var t=o[r];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(e,t.key,t)}}function fn(e,o,r){return o&&hh(e.prototype,o),r&&hh(e,r),e}function gn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ih(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function hn(e,t,a){return t&&ih(e.prototype,t),a&&ih(e,a),e}function jn(e,a){if(!(e instanceof a))throw new TypeError("Cannot call a class as a function")}function jh(e,a){for(var n=0;n<a.length;n++){var s=a[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}function kn(e,a,n){return a&&jh(e.prototype,a),n&&jh(e,n),e}function ln(t){return(ln="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function mn(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function kh(t,e){for(var r=0;r<e.length;r++){var o=e[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function nn(t,e,r){return e&&kh(t.prototype,e),r&&kh(t,r),t}function lh(t,e,r){return(lh="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,r){var o=on(t,e);if(o){var a=Object.getOwnPropertyDescriptor(o,e);return a.get?a.get.call(r):a.value}})(t,e,r||t)}function on(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=fd(t)););return t}function pn(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&qn(t,e)}function qn(t,e){return(qn=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function rn(t){var e=un();return function(){var r,o=fd(t);if(e){var a=fd(this).constructor;r=Reflect.construct(o,arguments,a)}else r=o.apply(this,arguments);return sn(this,r)}}function sn(t,e){return!e||"object"!==ln(e)&&"function"!=typeof e?tn(t):e}function tn(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function un(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function fd(t){return(fd=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function vn(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function mh(t,e){for(var n=0;n<e.length;n++){var s=e[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,s.key,s)}}function wn(t,e,n){return e&&mh(t.prototype,e),n&&mh(t,n),t}var gd={setEventEmitter:function(t,e){return void 0===e&&(e=Phaser.Events.EventEmitter),this._privateEE=void 0===t,this._eventEmitter=this._privateEE?new e:t,this},destroyEventEmitter:function(){return this._eventEmitter&&this._privateEE&&this._eventEmitter.shutdown(),this},getEventEmitter:function(){return this._eventEmitter},on:function(){return this._eventEmitter&&this._eventEmitter.on.apply(this._eventEmitter,arguments),this},once:function(){return this._eventEmitter&&this._eventEmitter.once.apply(this._eventEmitter,arguments),this},off:function(){return this._eventEmitter&&this._eventEmitter.off.apply(this._eventEmitter,arguments),this},emit:function(t){return this._eventEmitter&&t&&this._eventEmitter.emit.apply(this._eventEmitter,arguments),this},addListener:function(){return this._eventEmitter&&this._eventEmitter.addListener.apply(this._eventEmitter,arguments),this},removeListener:function(){return this._eventEmitter&&this._eventEmitter.removeListener.apply(this._eventEmitter,arguments),this},removeAllListeners:function(){return this._eventEmitter&&this._eventEmitter.removeAllListeners.apply(this._eventEmitter,arguments),this},listenerCount:function(){return this._eventEmitter?this._eventEmitter.listenerCount.apply(this._eventEmitter,arguments):0},listeners:function(){return this._eventEmitter?this._eventEmitter.listeners.apply(this._eventEmitter,arguments):[]}};var xn=Phaser.Scene,hd=function(e){return e instanceof xn};var Kd=function(e){return hd(e)?e:e.scene&&hd(e.scene)?e.scene:e.parent&&e.parent.scene&&hd(e.parent.scene)?e.parent.scene:void 0};var yn=Phaser.GameObjects.GameObject,id=function(e){return e instanceof yn};var zn=Phaser.Utils.Objects.GetValue,nh=function(){function t(e,n){vn(this,t),this.parent=e,this.scene=Kd(e);var s=zn(n,"eventEmitter",!1);!0===s&&(s=void 0),this.setEventEmitter(s),this.boot()}return wn(t,[{key:"boot",value:function(){id(this.parent)?this.parent.once&&this.parent.on("destroy",this.destroy,this):hd(this.parent)&&this.parent.events.once("shutdown",this.destroy,this)}},{key:"shutdown",value:function(){return this.stop(),hd(this.parent)&&this.parent.events.off("shutdown",this.destroy,this),this.destroyEventEmitter(),this.parent=void 0,this.scene=void 0,this}},{key:"destroy",value:function(){return this.shutdown(),this}},{key:"start",value:function(t){return this.isRunning?this:(this.tween=this.scene.tweens.add(t).on("complete",this.complete,this),!1===this.getEventEmitter()&&this.setEventEmitter(this.tween),this)}},{key:"restart",value:function(){return this.stop().start(),this}},{key:"stop",value:function(){return this.tween?(this.getEventEmitter()===this.tween&&this.setEventEmitter(!1),this.tween.remove(),this.tween=void 0,this):this}},{key:"complete",value:function(){return this.stop(),this.getEventEmitter()&&this.emit("complete"),this}},{key:"isRunning",get:function(){return!!this.tween}}]),t}();Object.assign(nh.prototype,gd);var oh=Phaser.Utils.Objects.GetValue,Sb=Phaser.Utils.Objects.GetAdvancedValue,jd=function(t){pn(r,nh);var e=rn(r);function r(t,o){var a;return mn(this,r),(a=e.call(this,t)).gameObject=t,a.resetFromJSON(o),a}return nn(r,[{key:"resetFromJSON",value:function(t){if(this.setMode(oh(t,"mode",0)),t&&(t.hasOwnProperty("x")||t.hasOwnProperty("y"))){var e=Sb(t,"x",void 0),r=Sb(t,"y",void 0);this.setTargetPosition(e,r)}else this.setTargetPosition(t);return this.setDelay(Sb(t,"delay",0)),this.setDuration(Sb(t,"duration",1e3)),this.setEase(oh(t,"ease",void 0)),this}},{key:"toJSON",value:function(){return{mode:this.mode,startX:this.startX,startY:this.startY,endX:this.endX,endY:this.endY,delay:this.delay,duration:this.duration}}},{key:"setMode",value:function(t){return"string"==typeof t&&(t=An[t]),this.mode=t,this}},{key:"setTargetPosition",value:function(t,e){if("number"==typeof t||"number"==typeof e)this.startX=this.gameObject.x,this.startY=this.gameObject.y,this.endX=t,this.endY=e;else{var r=t;this.startX=Sb(r,"startX",void 0),this.startY=Sb(r,"startY",void 0),this.endX=Sb(r,"endX",void 0),this.endY=Sb(r,"endY",void 0)}return this}},{key:"setDelay",value:function(t){return this.delay=t,this}},{key:"setDuration",value:function(t){return this.duration=t,this}},{key:"setEase",value:function(t){return void 0===t&&(t="Linear"),this.ease=t,this}},{key:"start",value:function(){if(this.isRunning)return this;var t={targets:this.gameObject,delay:this.delay,duration:this.duration,ease:this.ease,yoyo:2==this.mode,repeat:2==this.mode?-1:0};return void 0!==this.startX&&void 0!==this.endX&&(t.x={start:this.startX,to:this.endX}),void 0!==this.startY&&void 0!==this.endY&&(t.y={start:this.startY,to:this.endY}),lh(fd(r.prototype),"start",this).call(this,t),this}},{key:"complete",value:function(){return lh(fd(r.prototype),"complete",this).call(this),1===this.mode&&this.gameObject.destroy(),this}}]),r}(),An={stop:0,destroy:1,yoyo:2};var Ld=function(e,o,r,t,$,a,s){a instanceof jd&&(s=a,a=void 0),void 0===a&&(a=!1);var v={};return v.mode=a?1:0,void 0!==r&&(v.startX=e.x,v.endX=Md(r,e.x)),void 0!==t&&(v.startY=e.y,v.endY=Md(t,e.y)),v.duration=o,v.ease=void 0===$?"Linear":$,void 0===s?s=new jd(e,v):s.resetFromJSON(v),s.restart(),s},Bn=function(e,o,r,t,$,a){return Ld(e,o,r,t,$,!0,a)},ph=function(e,o,r,t,$,a,s){a instanceof jd&&(s=a,a=void 0),void 0===a&&(a=!1);var v={};return v.mode=a?1:0,void 0!==r&&(v.startX=Md(r,e.x),v.endX=e.x),void 0!==t&&(v.startY=Md(t,e.y),v.endY=e.y),v.duration=o,v.ease=void 0===$?"Linear":$,void 0===s?s=new jd(e,v):s.resetFromJSON(v),s.restart(),s},Cn=function(e,o,r,t,$,a){return ph(e,o,r,t,$,!0,a)},Md=function(e,o){if("number"==typeof e)return e;var r=e[0],t=parseFloat(e.substr(2));switch(r){case"+":return o+t;case"-":return o-t;case"*":return o*t;case"/":return o/t;}};var Bb=function(){function e(){jn(this,e)}return kn(e,null,[{key:"InjectIntoActor",value:function(a){a.vals.rexEaseMove={},a.vals.rexEaseMove.axisX=null,a.vals.rexEaseMove.axisY=null,a.vals.components[e.Name]=!0}},{key:"Bake",value:function(e){}},{key:"PostBake",value:function(e){}},{key:"MoveOnHorizontalWithSpeedPerSecond",value:function(e,a,n){e.vals.rexEaseMove.axisX&&e.vals.rexEaseMove.axisX.stop();var s=Phaser.Math.Distance.Between(a,0,e.displayed.x,0)/n*1e3;e.vals.rexEaseMove.axisX=Ld(e.displayed,s,a,void 0,"Quad.easeInOut")}},{key:"IsTweeningOnHorizontal",value:function(e){return!!e.vals.rexEaseMove.axisX&&e.vals.rexEaseMove.axisX.isRunning}},{key:"MoveOnVerticalWithSpeedPerSecond",value:function(e,a,n){e.vals.rexEaseMove.axisY&&e.vals.rexEaseMove.axisY.stop();var s=Phaser.Math.Distance.Between(0,a,0,e.displayed.y)/n*1e3;e.displayed.y>a&&(s*=1.5),e.vals.rexEaseMove.axisY=Ld(e.displayed,s,void 0,a,"Quad.easeInOut")}},{key:"IsTweeningOnVertical",value:function(e){return!!e.vals.rexEaseMove.axisY&&e.vals.rexEaseMove.axisY.isRunning}},{key:"Cleanup",value:function(e){}},{key:"Name",get:function(){return"RexEaseMovePlugin"}}]),e}();function Dn(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function qh(e,r){for(var a=0;a<r.length;a++){var n=r[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function En(e,r,a){return r&&qh(e.prototype,r),a&&qh(e,a),e}var Ta=function(){function e(){Dn(this,e)}return En(e,null,[{key:"CreateTriggerIfNotExisting",value:function(e,r){e.vals.actions.triggerOn[r]||(e.vals.actions.triggerOn[r]=[])}}]),e}();var Cc=function(){function e(){gn(this,e)}return hn(e,null,[{key:"InjectIntoActor",value:function(t,a,n,o,i,r,c){Ta.CreateTriggerIfNotExisting(t,a);var l={};l.targetListY=n,l.verticalSpeed=o,l.verticalListIndex=0,l.targetListX=i,l.horizontalSpeed=r,l.horizontalListIndex=0,t.vals.actions.triggerOn[a].push({name:e.Name,data:l}),c&&c.randomizeIndex_X&&(l.horizontalListIndex=Phaser.Math.Between(0,l.targetListX.length)),t.vals.actions.dict[e.Name]=!0}},{key:"OnAct",value:function(e,t,a){Bb.IsTweeningOnVertical(e)||(Bb.MoveOnVerticalWithSpeedPerSecond(e,t.data.targetListY[t.data.verticalListIndex],t.data.verticalSpeed),t.data.verticalListIndex+=1,t.data.verticalListIndex>=t.data.targetListY.length&&(t.data.verticalListIndex=0)),Bb.IsTweeningOnHorizontal(e)||(Bb.MoveOnHorizontalWithSpeedPerSecond(e,t.data.targetListX[t.data.horizontalListIndex],t.data.horizontalSpeed),t.data.horizontalListIndex+=1,t.data.horizontalListIndex>=t.data.targetListX.length&&(t.data.horizontalListIndex=0))}},{key:"Name",get:function(){return"StayAtTopMovement"}}]),e}();function Fn(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function rh(e,n){for(var a=0;a<n.length;a++){var r=n[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Gn(e,n,a){return n&&rh(e.prototype,n),a&&rh(e,a),e}var Hf="ACT_ANIMATION_COMPLETED";var kd=function(){function e(){Fn(this,e)}return Gn(e,null,[{key:"InjectIntoActor",value:function(n,a){Ta.CreateTriggerIfNotExisting(n,Hf),n.vals.actions.triggerOn[Hf].push({name:e.Name,data:a}),n.vals.actions.dict[e.Name]=!0}},{key:"OnAct",value:function(e,n,a){n.data[a.animationName]&&e.triggerActions(n.data[a.animationName])}},{key:"Name",get:function(){return"CallTriggerOnAnimationDone"}}]),e}();function Hn(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function sh(n,e){for(var i=0;i<e.length;i++){var a=e[i];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(n,a.key,a)}}function In(n,e,i){return e&&sh(n.prototype,e),i&&sh(n,i),n}function Jn(a,e){if(!(a instanceof e))throw new TypeError("Cannot call a class as a function")}function th(a,e){for(var n=0;n<e.length;n++){var t=e[n];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(a,t.key,t)}}function Kn(a,e,n){return e&&th(a.prototype,e),n&&th(a,n),a}function Ln(n,a){if(!(n instanceof a))throw new TypeError("Cannot call a class as a function")}function uh(n,a){for(var e=0;e<a.length;e++){var i=a[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}}function Mn(n,a,e){return a&&uh(n.prototype,a),e&&uh(n,e),n}function Nn(e,a){if(!(e instanceof a))throw new TypeError("Cannot call a class as a function")}function vh(e,a){for(var l=0;l<a.length;l++){var s=a[l];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}function On(e,a,l){return a&&vh(e.prototype,a),l&&vh(e,l),e}var Ua;function Va($,_,r){return _ in $?Object.defineProperty($,_,{value:r,enumerable:!0,configurable:!0,writable:!0}):$[_]=r,$}var ld="LAYER_NAME_GAMEPLAY_ELEMS";var Pn="LAYER_NAME_GUI";var Cb="LAYER_NAME_TOP_GUI";var wh="LAYER_NAME_FADE_SCREEN";var xh="LAYER_NAME_PAUSE_SCREEN";var If="LAYER_NAME_ROTATION_SCREEN";var Qn=100;var Rn="LAYER_GAMEPLAY_11";var Ea="LAYER_GAMEPLAY_21";var Sn="LAYER_GAMEPLAY_22";var Tn="LAYER_GAMEPLAY_23";var fc="LAYER_TOP_GUI_11";var Un="LAYER_TOP_GUI_12";var Vn="LAYER_TOP_GUI_13";var yh="LAYER_TOP_GUI_21";var Na="LAYER_TOP_GUI_22";var gc="LAYER_TOP_GUI_23";var Nd="LAYER_TOP_GUI_31";var Wn="LAYER_TOP_GUI_32";var Xn="LAYER_TOP_GUI_33";var zh="LAYER_ROTATION_SCREEN_11";var Ah="LAYER_ROTATION_SCREEN_22";var Bh="LAYER_FADE_SCREEN_22";var Od="LAYER_PAUSE_SCREEN_22";var Jf=(Va(Ua={},Rn,{layerName:ld,anchorAxisX:1,anchorAxisY:1,workaroundDepth:1e5}),Va(Ua,Ea,{layerName:ld,anchorAxisX:2,anchorAxisY:1,workaroundDepth:1e5}),Va(Ua,Sn,{layerName:ld,anchorAxisX:2,anchorAxisY:2,workaroundDepth:1e5}),Va(Ua,Tn,{layerName:ld,anchorAxisX:2,anchorAxisY:3,workaroundDepth:1e5}),Va(Ua,fc,{layerName:Cb,anchorAxisX:1,anchorAxisY:1,workaroundDepth:2e5}),Va(Ua,Un,{layerName:Cb,anchorAxisX:1,anchorAxisY:2,workaroundDepth:2e5}),Va(Ua,Vn,{layerName:Cb,anchorAxisX:1,anchorAxisY:3,workaroundDepth:2e5}),Va(Ua,yh,{layerName:Cb,anchorAxisX:2,anchorAxisY:1,workaroundDepth:2e5}),Va(Ua,Na,{layerName:Cb,anchorAxisX:2,anchorAxisY:2,workaroundDepth:2e5}),Va(Ua,gc,{layerName:Cb,anchorAxisX:2,anchorAxisY:3,workaroundDepth:2e5}),Va(Ua,Nd,{layerName:Cb,anchorAxisX:3,anchorAxisY:1,workaroundDepth:2e5}),Va(Ua,Wn,{layerName:Cb,anchorAxisX:3,anchorAxisY:2,workaroundDepth:2e5}),Va(Ua,Xn,{layerName:Cb,anchorAxisX:3,anchorAxisY:3,workaroundDepth:2e5}),Va(Ua,Bh,{layerName:wh,anchorAxisX:2,anchorAxisY:2,workaroundDepth:3e5}),Va(Ua,Od,{layerName:xh,anchorAxisX:2,anchorAxisY:2,workaroundDepth:4e5}),Va(Ua,zh,{layerName:If,anchorAxisX:1,anchorAxisY:1,workaroundDepth:5e5}),Va(Ua,Ah,{layerName:If,anchorAxisX:2,anchorAxisY:2,workaroundDepth:5e5}),Ua);function Ch(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Dh(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Eh(e,t,a){return t&&Dh(e.prototype,t),a&&Dh(e,a),e}var wa={NeedLandscape:"NeedLandscape",NeedPortrait:"NeedPortrait",RotateBG:"RotateBG",DebugHelper_1:"DebugHelper_1",ZaslonkaFade:"ZaslonkaFade",BG:"BG",BMLogo:"BMLogo",Btn_Continue:"Btn_Continue",Btn_Pause:"Btn_Pause",Btn_Play:"Btn_Play",Btn_SoundOff:"Btn_SoundOff",Btn_SoundOn:"Btn_SoundOn",GameTitle:"GameTitle",HighscoreBigIcon:"HighscoreBigIcon",HighscoreIcon:"HighscoreIcon",ScoreIcon:"ScoreIcon",PauseCurtain:"PauseCurtain",PauseIcon:"PauseIcon",GameOverIcon:"GameOverIcon",Zarowa:"Zarowa",ScorePanel:"ScorePanel",TryAgain:"TryAgain",Rewards_CloseBtn:"Rewards_CloseBtn",Rewards_Firanka:"Rewards_Firanka",Rewards_Panel:"Rewards_Panel",Rewards_PlayAd_Button:"Rewards_PlayAd_Button",Rewards_ProgressBar:"Rewards_ProgressBar",Rewards_ProgressPanel:"Rewards_ProgressPanel",Rewards_UpgradePanel:"Rewards_UpgradePanel",Rewards_UpgradesCountPanel:"Rewards_UpgradesCountPanel",Rewards_WhatYouGet:"Rewards_WhatYouGet"};function Yn(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function Fh(e,n){for(var a=0;a<n.length;a++){var o=n[a];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function Zn(e,n,a){return n&&Fh(e.prototype,n),a&&Fh(e,a),e}var ib=function(){function e(){Yn(this,e)}return Zn(e,null,[{key:"InjectIntoActor",value:function(n,a){n.vals.alias=a,n.vals.components[e.Name]=!0}},{key:"GetAlias",value:function(e){return e.vals.alias}},{key:"Bake",value:function(e){}},{key:"PostBake",value:function(e){}},{key:"Cleanup",value:function(e){}},{key:"Name",get:function(){return"AliasComponent"}}]),e}();function $n(e,a){if(!(e instanceof a))throw new TypeError("Cannot call a class as a function")}function Gh(e,a){for(var t=0;t<a.length;t++){var r=a[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _n(e,a,t){return a&&Gh(e.prototype,a),t&&Gh(e,t),e}function Hh(a,t){for(var e=0;e<t.length;e++){var i=t[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(a,i.key,i)}}function Kf(a,t,e){return t&&Hh(a.prototype,t),e&&Hh(a,e),a}function Pd(a,t){if(!(a instanceof t))throw new TypeError("Cannot call a class as a function")}var ao=function a(){Pd(this,a),this.bags={},this.entitiesByAliasDictionary={},this.entitiesByGUIDDictionary={}},Ba=new ao,Dc=function(){function a(){Pd(this,a)}return Kf(a,null,[{key:"_MakeBagIfNotExisting",value:function(a){if(!Ba.bags[a]){var t={itemsDictionary:{},keys:[],itemsList:[]};Ba.bags[a]=t}}},{key:"_AddActorToBagAtKey",value:function(a,t){this._MakeBagIfNotExisting(t);var e=Ba.bags[t];e.itemsDictionary[a.vals.guid]||(Ba.entitiesByGUIDDictionary[a.vals.guid]=a,e.itemsDictionary[a.vals.guid]=a,e.keys.push(a.vals.guid),e.itemsList.push(a))}},{key:"_DeleteActorFromBag",value:function(a,t){var e=Ba.bags[t];delete e.itemsDictionary[a.vals.guid],e.keys.indexOf(a.vals.guid)>-1&&e.keys.splice(e.keys.indexOf(a.vals.guid),1),e.itemsList.indexOf(a)>-1&&e.itemsList.splice(e.itemsList.indexOf(a),1)}}]),a}(),bo=function(){function a(){Pd(this,a)}return Kf(a,null,[{key:"DumpBag",value:function(a){console.log(Ba.bags[a])}},{key:"DumpBags",value:function(){console.log(Ba.bags)}},{key:"DumpBagLength",value:function(a){Ba.bags[a]&&Ba.bags[a].keys&&console.log("Bag:"+a+" length: "+Ba.bags[a].keys.length)}},{key:"DumpAllActorsBagLength",value:function(){Dc._MakeBagIfNotExisting("ALL"),console.log(Ba.bags.ALL.keys.length)}}]),a}();var ha=function(){function a(){Pd(this,a)}return Kf(a,null,[{key:"AddActorToBags",value:function(a){a.vals.alias&&(Ba.entitiesByAliasDictionary[a.vals.alias]||(Ba.entitiesByAliasDictionary[a.vals.alias]=a));for(var t=0;t<a.vals.bags.length;t++)Dc._AddActorToBagAtKey(a,a.vals.bags[t]);Dc._AddActorToBagAtKey(a,"ALL")}},{key:"GetActorByAlias",value:function(a){return console.assert(Ba.entitiesByAliasDictionary[a],"MoonEntity.GetActorByAlias failure: "+a),Ba.entitiesByAliasDictionary[a]}},{key:"GetActorByAliasIfExists",value:function(a){return this.IsActorByAliasExisting(a)?this.GetActorByAlias(a):(console.warn("Entity with alias: ",a," doesn't seem to exist"),null)}},{key:"IsActorByAliasExisting",value:function(a){return!!Ba.entitiesByAliasDictionary[a]}},{key:"IsActorByGuidExisting",value:function(a){return!!Ba.entitiesByGUIDDictionary[a]}},{key:"GetActorByGUID",value:function(a){return console.assert(Ba.entitiesByGUIDDictionary[a],"ActorBagsModel->GetActorByGUID:: no entity of guid: ",a),Ba.entitiesByGUIDDictionary[a]}},{key:"DeleteActorInAllBags",value:function(a){var t=a.vals.guid;if(a.vals.bags.length<=0)console.assert(!1,"entity is not in any bags");else{for(var e=0;e<a.vals.bags.length;e++){var i=a.vals.bags[e];Dc._DeleteActorFromBag(a,i)}Dc._DeleteActorFromBag(a,"ALL"),Ba.entitiesByAliasDictionary[a.vals.alias]&&delete Ba.entitiesByAliasDictionary[a.vals.alias],delete Ba.entitiesByGUIDDictionary[t]}}},{key:"GetBagItemCount",value:function(a){return Ba.bags[a]?(console.assert(Ba.bags[a],"ActorBagsModel->GetBagItemCount:: no bag of alias: ",a," debug ActorBagsModel:",this),Ba.bags[a].keys.length):0}},{key:"GetBagItemsList",value:function(a){return Dc._MakeBagIfNotExisting(a),Ba.bags[a].itemsList}},{key:"PerformFunctionOnEachActorInBag",value:function(a,t){var e=Ba.bags[a];if(console.assert(e,"ActorBagsModel::PerformFunctionOnEachActorInBag-> no bag for alias:",a),e)for(var i=0;i<e.keys.length;i++)t(e.itemsDictionary[e.keys[i]])}},{key:"TriggerActionOnAllActorsInBag",value:function(t,e){for(var i=a.GetBagItemsList(e),r=0;r<i.length;r++){i[r].triggerActions(t)}}}]),a}();function Ec(a){return ha.GetActorByAlias(a)}var ia=function(){function e(){$n(this,e)}return _n(e,null,[{key:"_ActorHasBag",value:function(e,a){return e.vals.bags.indexOf(a)>-1}},{key:"InjectIntoActor",value:function(a,t){if(a.vals.bags||(a.vals.bags=[]),Array.isArray(t))for(var r=0;r<t.length;r++)e._ActorHasBag(a,t[r])||a.vals.bags.push(t[r]);else e._ActorHasBag(a,t)||a.vals.bags.push(t);a.baked&&ha.AddActorToBags(a),a.vals.components[e.Name]=!0}},{key:"Bake",value:function(e){}},{key:"PostBake",value:function(e){ha.AddActorToBags(e)}},{key:"Cleanup",value:function(e){}},{key:"Name",get:function(){return"BagComponent"}}]),e}();function co(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function Ih(e,n){for(var a=0;a<n.length;a++){var r=n[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function eo(e,n,a){return n&&Ih(e.prototype,n),a&&Ih(e,a),e}function fo(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Jh(e,t){for(var s=0;s<t.length;s++){var i=t[s];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function go(e,t,s){return t&&Jh(e.prototype,t),s&&Jh(e,s),e}function Kh(r,n,$){var e=n&&$||0;"string"==typeof r&&(n="binary"==r?new Array(16):null,r=null);var o=(r=r||{}).random||(r.rng||Lh)();if(o[6]=15&o[6]|64,o[8]=63&o[8]|128,n)for(var t=0;t<16;++t)n[e+t]=o[t];return n||ho(o)}var Lh;var Lf="undefined"!=typeof Bc&&(Bc.crypto||Bc.msCrypto);if(Lf&&Lf.getRandomValues){var Mh=new Uint8Array(16);Lh=function(){return Lf.getRandomValues(Mh),Mh}}if(!Lh){var Nh=new Array(16);Lh=function(){for(var $,r=0;r<16;r++)0==(3&r)&&($=4294967296*Math.random()),Nh[r]=$>>>((3&r)<<3)&255;return Nh}}for(var Oh=[],Qd=0;Qd<256;++Qd)Oh[Qd]=(Qd+256).toString(16).substr(1);function ho($,r){var u=r||0,t=Oh;return t[$[u++]]+t[$[u++]]+t[$[u++]]+t[$[u++]]+"-"+t[$[u++]]+t[$[u++]]+"-"+t[$[u++]]+t[$[u++]]+"-"+t[$[u++]]+t[$[u++]]+"-"+t[$[u++]]+t[$[u++]]+t[$[u++]]+t[$[u++]]+t[$[u++]]+t[$[u++]]}function io(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function Ph(e,r){for(var a=0;a<r.length;a++){var t=r[a];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(e,t.key,t)}}function jo(e,r,a){return r&&Ph(e.prototype,r),a&&Ph(e,a),e}var ko=function(){function e(){io(this,e),this.actions={}}return jo(e,[{key:"register",value:function(e,r){this.actions[e]=r}},{key:"getActionClass",value:function(e){return this.actions[e]}}]),e}();var Oa=new ko;function lo(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function Qh(e,r){for(var o=0;o<r.length;o++){var n=r[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function mo(e,r,o){return r&&Qh(e.prototype,r),o&&Qh(e,o),e}var no=function(){function e(){lo(this,e),this.components={}}return mo(e,[{key:"register",value:function(e,r){this.components[e]=r}},{key:"getComponentClass",value:function(e){return this.components[e]}}]),e}();var qa=new no;var Ia="ACT_POST_BAKE";function oo(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Rh(e,t){for(var r=0;r<t.length;r++){var s=t[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}function po(e,t,r){return t&&Rh(e.prototype,t),r&&Rh(e,r),e}function Sh(e,i){for(var t=0;t<i.length;t++){var a=i[t];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function qo(e,i,t){return i&&Sh(e.prototype,i),t&&Sh(e,t),e}function Th(e,i){if(!(e instanceof i))throw new TypeError("Cannot call a class as a function")}var ro=function e(){Th(this,e),this._entitiesToDisposeOfArray=[],this._delayed=[]},_a=new ro,Da=function(){function e(){Th(this,e)}return qo(e,null,[{key:"IfEntityByAliasExistsThenDispose",value:function(i){ha.IsActorByAliasExisting(i)&&e.queueEntity(ha.GetActorByAlias(i))}},{key:"MassQueueDisposeEntities",value:function(i){ha.PerformFunctionOnEachActorInBag(i,function(i){e.queueEntity(i)})}},{key:"update",value:function(e,i){if(_a._delayed.length>0)for(var t=_a._delayed.length-1;t>=0;t--){var a=_a._delayed[t];a.delay-=i,a.delay<=0&&(_a._delayed.splice(_a._delayed.indexOf(a),1),this.queueEntity(a.gameEntity))}if(_a._entitiesToDisposeOfArray.length>0)for(var r=_a._entitiesToDisposeOfArray.length-1;r>=0;r--){_a._entitiesToDisposeOfArray[r].dispose()}_a._entitiesToDisposeOfArray.length>0&&(_a._entitiesToDisposeOfArray=[])}},{key:"queueEntity",value:function(e){if(console.assert(e,"MoonEngineEntityDisposeSystem::queueEntity-> param is: ",e),e)if(null!=e.refSelfGameEntity){if(1==e.refSelfGameEntity.disposed)return void console.warn("tried to dispose entity that is already disposed of.");_a._entitiesToDisposeOfArray.indexOf(e.refSelfGameEntity)<0&&(e.refSelfGameEntity.disposeQueued=!0,_a._entitiesToDisposeOfArray.push(e.refSelfGameEntity))}else{if(1==e.disposed)return void console.warn("tried to dispose entity that is already disposed of.");_a._entitiesToDisposeOfArray.indexOf(e)<0&&(e.disposeQueued=!0,_a._entitiesToDisposeOfArray.push(e))}}},{key:"queueEntityWithDelay",value:function(e,i){var t={};t.gameEntity=e,t.delay=i,_a._delayed.push(t)}}]),e}();var Mf=function(){function e(){oo(this,e)}return po(e,null,[{key:"InjectIntoActor",value:function(t,r){Ta.CreateTriggerIfNotExisting(t,r),t.vals.actions.triggerOn[r].push({name:e.Name}),t.vals.actions.dict[e.Name]=!0}},{key:"OnAct",value:function(e,t){Da.queueEntity(e)}},{key:"Name",get:function(){return"QueueDispose"}}]),e}();var Fc="ACT_DISPOSE";var ra=function(){function e(){fo(this,e),this.vals=null,this.plugins=null,this.tweens=null,this.baked=!1,this.disposed=!1,this.disposeQueued=!1,this.onDisposeArr=[],this.displayed=null,this.cache=null,this.opt={textField:null,spineData:null}}return go(e,[{key:"registerDisposeCallback",value:function(e){this.onDisposeArr.push(e)}},{key:"generateGUID",value:function(){this.vals.guid?console.warn("Actor already has guid"):this.vals.guid=Kh()}},{key:"initialize",value:function(){this.vals={},this.vals.bags=[],this.vals.components={},this.vals.actions={},this.vals.actions.triggerOn={},this.vals.actions.dict={},this.tweens={},this.plugins={},this.cache={}}},{key:"triggerActions",value:function(e,t){if(this.vals.actions&&this.vals.actions.triggerOn[e])for(var s=0;s<this.vals.actions.triggerOn[e].length;s++){var i=this.vals.actions.triggerOn[e][s];console.assert(Oa.getActionClass(i.name),"No ActionClass: ",i.name,i),Oa.getActionClass(i.name).OnAct(this,i,t)}}},{key:"parseOnTweenComplete",value:function(e){for(var t=0;t<e.length;t++){var s=e[t];"trigger"==s.type&&this.triggerActions(s.trigger)}}},{key:"dispose",value:function(){for(var e=0;e<this.onDisposeArr.length;e++)this.onDisposeArr[e](this);for(var t in this.vals.components){qa.getComponentClass(t).Cleanup(this)}if(this.vals.bags.length>0&&ha.DeleteActorInAllBags(this),null!=this.displayed){var s=this.displayed;s.refSelfActor=null,s.destroy(),this.displayed=null}else console.warn("fKillvis -> displayed is already destroyed");this.tweens&&(this.tweens.position&&(this.tweens.position.stop(0),this.tweens.position.remove()),this.tweens.scale&&(this.tweens.scale.stop(0),this.tweens.scale.remove())),this.tweens=null,this.plugins=null,this.vals=null,this.disposed=!0,delete this.opt}},{key:"bake",value:function(){for(var e in this.vals.guid||this.generateGUID(),this.vals.components){var t=qa.getComponentClass(e);console.assert(t,"no component Class: ",e," in gComponentLibraryModel"),t.PreBake&&t.PreBake(this)}for(var s in this.vals.components){var i=qa.getComponentClass(s);console.assert(i,"no component Class: ",s," in gComponentLibraryModel"),i.Bake(this)}for(var o in this.baked=!0,this.vals.components){var n=qa.getComponentClass(o);console.assert(n,"no component Class: ",o," in gComponentLibraryModel"),n.PostBake(this)}return Mf.InjectIntoActor(this,Fc),this.triggerActions(Ia),this}},{key:"getJSON",value:function(){return JSON.stringify(this.vals)}},{key:"loadFromJSON",value:function(e){this.vals=JSON.parse(e)}}],[{key:"GetEmptyActor",value:function(){var t=new e;return t.initialize(),t}}]),e}();var Uh="transform",Nf="TransformComponent",yb="TransformComponent";var oa=function(){function e(){co(this,e)}return eo(e,null,[{key:"InjectIntoActor",value:function(e,n,a){e.vals.x=n,e.vals.y=a,e.vals.components[Nf]=!0}},{key:"SetFromData",value:function(e,n){void 0!==n.x&&(e.vals.x=n.x),void 0!==n.y&&(e.vals.y=n.y)}},{key:"SetPosition",value:function(e,n,a){e.vals.x=n,e.vals.y=a,e.baked}},{key:"GetX",value:function(e){return e.vals.x}},{key:"GetY",value:function(e){return e.vals.y}},{key:"Bake",value:function(e){}},{key:"PostBake",value:function(e){}},{key:"Cleanup",value:function(e){}},{key:"Has",value:function(e){return 1==e.vals.components[Nf]}},{key:"SetEnabled",value:function(e,n){e.vals[Uh].enabled=n}},{key:"IsEnabled",value:function(e){return e.vals[Uh].enabled}},{key:"Name",get:function(){return Nf}}]),e}();function so(e,a){if(!(e instanceof a))throw new TypeError("Cannot call a class as a function")}function Vh(e,a){for(var n=0;n<a.length;n++){var r=a[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function to(e,a,n){return a&&Vh(e.prototype,a),n&&Vh(e,n),e}var Ja=function(){function e(){so(this,e)}return to(e,null,[{key:"InjectIntoActor",value:function(a,n,r){console.assert(n,n),a.vals.image={},a.vals.image.texture=n,a.vals.image.layer=r,a.vals.image.inLayerDepth=0,a.vals.components[e.Name]=!0,a.vals.visualBase=a.vals.image}},{key:"Bake",value:function(e){var a=fa.InBakeGetSceneFromLayerCfg(e).make.image({x:0,y:0,key:e.vals.image.texture,add:!1},!1);fa.InBakeAddDisplayedAndSetSelfRef(e,a),fa.SynchDisplayedToSavedTransformPosition(e)}},{key:"PostBake",value:function(e){}},{key:"Cleanup",value:function(e){}},{key:"Name",get:function(){return"Image"}}]),e}();var jb={game:null};function Wh(e,a){for(var t=0;t<a.length;t++){var o=a[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function uo(e,a,t){return a&&Wh(e.prototype,a),t&&Wh(e,t),e}function Xh(e,a){if(!(e instanceof a))throw new TypeError("Cannot call a class as a function")}var md="SCENE_GAME";function vo(e,a){if(!(e instanceof a))throw new TypeError("Cannot call a class as a function")}function Yh(e,a){for(var n=0;n<a.length;n++){var r=a[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function wo(e,a,n){return a&&Yh(e.prototype,a),n&&Yh(e,n),e}var Tb={scenesKeyList:[],scenesDict:{},scenesArr:[],pauseCfg:{}},$a=function(){function e(){vo(this,e)}return wo(e,null,[{key:"RegisterScene",value:function(e,a,n){Tb.scenesArr.push(e),Tb.scenesDict[a]=e,Tb.scenesKeyList.push(a),Tb.pauseCfg[a]=n}},{key:"GetSceneByKey",value:function(e){return Tb.scenesDict[e]}},{key:"GetSceneArr",value:function(){return Tb.scenesArr}},{key:"GetSceneKeyListArr",value:function(){return Tb.scenesKeyList}},{key:"CanSceneBePaused",value:function(e){return 1==Tb.pauseCfg[e]}}]),e}();var xo=function e(){Xh(this,e),this.audioState=1,this.cachedSounds={},this.wasMutedAutomatically=!1,this.wasMutedManually=!1,this.musicStateKey=""},Pa=new xo,Kb=function(){function e(){Xh(this,e)}return uo(e,null,[{key:"PlayAudio",value:function(e,a){console.assert(e,"AudioModel::playAudio-> pAudioName is: ",e);var t=$a.GetSceneByKey(md);a[e]||(a[e]={cfg:{volume:1}});var o=a[e];if(Pa.cachedSounds[e])Pa.cachedSounds[e].play();else{if(!jb.game.cache.audio.exists(e))return;var i=t.sound.add(e,o.cfg);i.play(),Pa.cachedSounds[e]=i}}},{key:"StopAudio",value:function(e){Pa.cachedSounds[e]&&jb.game.cache.audio.exists(e)&&Pa.cachedSounds[e].stop()}},{key:"_DoMuteAudio",value:function(){console.log("AudioModel->muteAudio()"),Pa.audioState=-1,$a.GetSceneByKey(md).sound.setMute(!0)}},{key:"_DoUnmuteAudio",value:function(){console.log("AudioModel->unmuteAudio()"),Pa.audioState=1,$a.GetSceneByKey(md).sound.setMute(!1)}},{key:"MuteAudioManuallyByUser",value:function(){Pa.wasMutedManually=!0,e.SaveAudioDisabled(),e._DoMuteAudio()}},{key:"UnmuteAudioManuallyByUser",value:function(){Pa.wasMutedManually=!1,e.SaveAudioEnabled(),e._DoUnmuteAudio()}},{key:"TryToAutomaticallyMuteIfNotMutedManually",value:function(){Pa.wasMutedManually||Pa.wasMutedAutomatically||(Pa.wasMutedAutomatically=!0,e._DoMuteAudio())}},{key:"TryAutomaticallyUnmuteIfWasMutedAlsoAutomatically",value:function(){Pa.wasMutedManually||Pa.wasMutedAutomatically&&(Pa.wasMutedAutomatically=!1,e._DoUnmuteAudio())}},{key:"IsMuted",value:function(){return-1==Pa.audioState}},{key:"GetAudioState",value:function(){return console.log("audio state:",Pa.audioState),Pa.audioState}},{key:"InterpretInitialAudioState",value:function(a){var t="MusicState_"+a;Pa.musicStateKey=t;var o=localStorage.getItem(t);pa.GetOverrideToggles().disableSavedAudioState&&(o="enabled"),"disabled"==o?e.MuteAudioManuallyByUser():"enabled"==o||(o="enabled"),localStorage.setItem(t,o)}},{key:"SaveAudioDisabled",value:function(){localStorage.setItem(Pa.musicStateKey,"disabled")}},{key:"SaveAudioEnabled",value:function(){localStorage.setItem(Pa.musicStateKey,"enabled")}}]),e}();function Zh(e){var i=jb.game.canvas.getBoundingClientRect();e.innerWidth=i.width,e.innerHeight=window.innerHeight+Math.abs(i.top),e.relsvg=i,e._scaleWidth=e.innerWidth/e.desiredWidth,e._scaleHeight=e.innerHeight/e.desiredHeight,e._higherScale,e._lowerScale,e._scaleWidth>e._scaleHeight?(e._higherScale=e._scaleWidth,e._lowerScale=e._scaleHeight):(e._higherScale=e._scaleHeight,e._lowerScale=e._scaleWidth),e._multiplierWidth=1/e._scaleWidth,e._multiplierHeight=1/e._scaleHeight,e._higherMultiplier,e._lowerMultiplier,e._multiplierWidth>e._multiplierHeight?(e._higherMultiplier=e._multiplierWidth,e._lowerMultiplier=e._multiplierHeight):(e._higherMultiplier=e._multiplierHeight,e._lowerMultiplier=e._multiplierWidth),e._newScale=e._lowerScale,e._reverseNewScale=1/e._newScale,e.screenScaleForGame=e._newScale,e.screenMaxWidthForGame=e.innerWidth*e._higherMultiplier,e.screenMaxHeightForGame=e.innerHeight*e._higherMultiplier,e.scaleMode==Phaser.Scale.FIT&&(e.screenScaleForGame=1,e.screenMaxWidthForGame=e.desiredWidth,e.screenMaxHeightForGame=e.desiredHeight)}var $h="BAG_GUI_ROTATION";var Of="ROTATION_LANDSCAPE";var Rd="ROTATION_PORTRAIT";var Sd=2;var Gc=1;var yo=function(){function e(){Ch(this,e)}return Eh(e,[{key:"setGameDisplayMode",value:function(e,t,a,n,r){this.screenData||(this.screenData={}),this.mode=Gc,this.screenData.desiredWidth=e,this.screenData.desiredHeight=t,this.screenData.desiredOrientation=a,this.screenData.allowRotationScreen=n,this.screenData.scaleMode=r,this.displayObjects={},this.displayObjects.objectsInArray=[],this.displayObjects.objectsKeyArray=[],this.displayObjects.objectsInDictByName={},this._sceneNamesByLayersNamesDict={},this.rotationScreen={},this.rotationScreen.displayedMode="none",this.rotationScreen.displayedRotationScreen=!1,this._getAndUpdateScreenSizeData()}},{key:"_getAndUpdateScreenSizeData",value:function(){return console.assert(this.screenData,"DisplaySystem->_getAndUpdateScreenSizeData:: screenData isn't defined, call SetGameDisplayMode with params first!"),Zh(this.screenData),this.screenData}},{key:"addScalingListeners",value:function(e){window.addEventListener("resize",Wa._onEventResize.bind(this))}},{key:"callResize",value:function(){this._resize()}},{key:"_resize",value:function(){var e=jb.game.canvas.getBoundingClientRect();jb.game.scale.resize(Math.round(window.innerWidth)+Math.abs(e.left),Math.round(window.innerHeight+Math.abs(e.top))),this._getAndUpdateScreenSizeData();for(var t=0;t<jb.game.scene.scenes.length;t++){jb.game.scene.scenes[t].cameras.resize(this.screenData.innerWidth,this.screenData.innerHeight)}for(var a=0;a<this.displayObjects.objectsInArray.length;a++){this.displayObjects.objectsInArray[a].onResize(this.screenData)}}},{key:"_onEventResize",value:function(){this._resize()}},{key:"_resizeOnOrientationChange",value:function(){this._resize()}},{key:"registerSceneDisplayObject",value:function(e){this.displayObjects.objectsInArray.push(e),this.displayObjects.objectsKeyArray.push(e.sceneName),this.displayObjects.objectsInDictByName[e.sceneName]=e}},{key:"getLayerContainerLite",value:function(e,t){var a=this.getSceneNameByLayerName(e.layerName);return this.displayObjects.objectsInDictByName[a].getOrCreateContainerLiteLayer(e,t,this.screenData)}},{key:"getSceneNameByLayerName",value:function(e){return this._sceneNamesByLayersNamesDict[e]}},{key:"getValueScaledByScreenScale",value:function(e){return console.assert(this.mode,"MoonEngineDisplayModel->GetValueScaledByScreenScale:: this.mode is: ",this.mode),this.mode==Gc||void 0===this.mode?e*this.screenData.screenScaleForGame:this.mode==Sd?e:void 0}},{key:"getValueScaled_VerticalAxis",value:function(e){if(console.assert(this.mode,"MoonEngineDisplayModel:: this.mode is: ",this.mode),this.mode==Gc||void 0===this.mode){var t=jb.game.canvas.getBoundingClientRect();return e*this.screenData.screenScaleForGame+Math.abs(t.top)}if(this.mode==Sd)return e}},{key:"getValueScaledByReverseScreenScale",value:function(e){return this.mode==Gc||void 0===this.mode?e*(1/this.screenData.screenScaleForGame):this.mode==Sd?e:void 0}},{key:"getCameraPosYForScene",value:function(){}},{key:"setCameraPosYForScene",value:function(e,t){console.assert(e,"MoonEngineDisplayModel::SetCameraPosYForScene-> param pSceneEnum is:",e),null==t&&(console.warn(t,"MoonEngineDisplayModel::SetCameraPosYForScene-> param pPosY is: ",t," fallback set to 0"),t=0),this.displayObjects.objectsInDictByName[e].setCameraPosY(t,this.screenData)}},{key:"updateRotateScreen",value:function(){if(this.screenData.allowRotationScreen)if(this._getAndUpdateScreenSizeData(),this.screenData.desiredOrientation==Rd){if(this.screenData.innerWidth>this.screenData.innerHeight){if(this.rotationScreen.displayedMode!=Of){this.rotationScreen.displayedMode=Of,this.rotationScreen.displayedRotationScreen=!0,console.log("Rotation Screen: Show");var e=ra.GetEmptyActor();oa.InjectIntoActor(e,0,0),Ja.InjectIntoActor(e,wa.RotateBG,zh),ia.InjectIntoActor(e,[$h]),ib.InjectIntoActor(e,"alias_background_rotate"),e.bake(),fa.SetDisplaySize(e,8192,8192),e=ra.GetEmptyActor(),oa.InjectIntoActor(e,0,0),Ja.InjectIntoActor(e,wa.NeedPortrait,Ah),ia.InjectIntoActor(e,[$h]),ib.InjectIntoActor(e,"alias_img_rotate_device"),e.bake(),Kb.TryToAutomaticallyMuteIfNotMutedManually(),pa.GetGameRemix().tryCallPause()}}else this.rotationScreen.displayedMode!=Rd&&(this.rotationScreen.displayedMode=Rd,this.rotationScreen.displayedRotationScreen&&(console.log("Rotation Screen: Hide"),this.rotationScreen.displayedRotationScreen=!1,Da.queueEntity(ha.GetActorByAlias("alias_background_rotate")),Da.queueEntity(ha.GetActorByAlias("alias_img_rotate_device")),Kb.TryAutomaticallyUnmuteIfWasMutedAlsoAutomatically(),pa.GetGameRemix().tryCallUnpause()));}else this.screenData.desiredOrientation==Of&&console.log("TODO: MoonEngineDisplayModel->UpdateRotateScreen:: landscape mode not implemented!")}}]),e}(),Wa=new yo,ta=function(){function e(){Ch(this,e)}return Eh(e,null,[{key:"IsRotationScreenDisplayed",value:function(){return Wa.rotationScreen.displayedRotationScreen}},{key:"SetGameDisplayMode",value:function(e,t,a,n,r){Wa.setGameDisplayMode(e,t,a,n,r)}},{key:"GetScreenMaxWidth",value:function(){return Wa.screenData.screenMaxWidthForGame}},{key:"GetScreenMaxHeight",value:function(){return Wa.screenData.screenMaxHeightForGame}},{key:"AddScalingListeners",value:function(e){Wa.addScalingListeners(e)}},{key:"CallResize",value:function(){Wa.callResize()}},{key:"RegisterSceneDisplayObject",value:function(e){Wa.registerSceneDisplayObject(e)}},{key:"AddLayerToScene",value:function(e,t){Wa._sceneNamesByLayersNamesDict[e]=t}},{key:"GetLayerContainerLite",value:function(e,t){return Wa.getLayerContainerLite(e,t)}},{key:"GetSceneNameByLayerName",value:function(e){return Wa.getSceneNameByLayerName(e)}},{key:"GetValueScaledByScreenScale",value:function(e){return Wa.getValueScaledByScreenScale(e)}},{key:"GetValueScaled_VerticalAxis",value:function(e){return Wa.getValueScaled_VerticalAxis(e)}},{key:"GetValueScaledByReverseScreenScale",value:function(e){return Wa.getValueScaledByReverseScreenScale(e)}},{key:"SetCameraPosYForScene",value:function(e,t){Wa.setCameraPosYForScene(e,t)}},{key:"UpdateRotateScreen",value:function(){Wa.updateRotateScreen()}},{key:"GetScreenData",value:function(){return Wa.screenData}}]),e}();function _h(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function ai(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function bi(e,r,t){return r&&ai(e.prototype,r),t&&ai(e,t),e}function zo(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function ci(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ao(e,n,t){return n&&ci(e.prototype,n),t&&ci(e,t),e}function Bo(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function di(e,n){for(var t=0;t<n.length;t++){var a=n[t];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function Co(e,n,t){return n&&di(e.prototype,n),t&&di(e,t),e}var Pf=!0,ei=function(){function e(){Bo(this,e)}return Co(e,[{key:"_checkAddPositionFallback",value:function(e){null==e._x&&(e._x=0,console.warn("Fallback: ",e._x=0)),null==e._y&&(e._y=0,console.warn("Fallback: ",e._y=0)),null==e._d&&(e._d=1e3)}},{key:"_tweenPositionTo",value:function(e,n,t){var a=e.displayed.scene;return this._checkAddPositionFallback(n),this._doPositionTween(a,e,{targets:e.displayed,x:n._x,y:n._y,ease:"Cubic.InOut",duration:n._d},n,null,t)}},{key:"_doPositionTween",value:function(e,n,t,a,s,i){if(n.tweens.position&&i&&this._fastTrackPositionTween(n),n.tweens.position&&!i){var o=n.tweens.position;26!=o.state&&o.stop(),n.tweens.position=null}if(a&&this._tweenParseArgs(t,a),s&&s.func(e,n),!Pf)return null;var r=e.tweens.add(t);return n.tweens.position=r,r}},{key:"_fastTrackPositionTween",value:function(e){var n=e.tweens.position;if(26!=n.state){n.stop();for(var t=0;t<n.data.length;t++){var a=n.data[t];a.target[a.key]=a.end}}e.tweens.position=null}},{key:"tweenPositionTo",value:function(e,n){return this._tweenPositionTo(e,n,!1)}},{key:"tweenPositionToWithFastTrack",value:function(e,n){return this._tweenPositionTo(e,n,!0)}},{key:"tweenPositionByDeltaFrom",value:function(e,n){var t=e.displayed.scene;return this._doPositionTween(t,e,{targets:e.displayed,x:e.displayed.x,y:e.displayed.y,ease:"Cubic.InOut",duration:n._d},n,{func:function(e,n){n.displayed.x=n.displayed.x+this.delta_x,n.displayed.y=n.displayed.y+this.delta_y},delta_x:n._x,delta_y:n._y},!0)}},{key:"tweenPositionByDeltaTo",value:function(e,n){var t=e.displayed.scene;return this._doPositionTween(t,e,{targets:e.displayed,x:e.displayed.x+n._x,y:e.displayed.y+n._y,ease:"Cubic.InOut",duration:n._d},n,null,!0)}},{key:"tweenPositionYoyo",value:function(e,n){var t=e.displayed.scene;return this._doPositionTween(t,e,{targets:e.displayed,x:e.displayed.x+n._x,y:e.displayed.y+n._y,ease:"Quadratic.In",duration:n._d,repeat:-1,yoyo:!0},n,null,!0)}},{key:"tweenScaleTo",value:function(e,n){var t=e.displayed.scene,a={targets:e.displayed,scale:n._s,ease:"Cubic.InOut",duration:n._d};return this._doScaleTween(t,e,a,n)}},{key:"tweenAlphaTo",value:function(e,n){var t=e.displayed.scene,a={targets:e.displayed,alpha:n._alpha,ease:"Cubic.InOut",duration:n._d};return this._doAlphaTween(t,e,a,n)}},{key:"effectPingScale",value:function(e,n){fa.SetScale(e,.95);var t=e.displayed.scene,a={targets:e.displayed,scale:1,duration:200,yoyo:!0};return this._doScaleTween(t,e,a,n)}},{key:"_doScaleTween",value:function(e,n,t,a){if(n.tweens.scale&&a.ifTweens&&("fast"==a.ifTweens?console.log("implement: fast at tweenScaleTo"):"stop"==a.ifTweens&&(n.tweens.scale.stop(),n.tweens.scale=null)),a&&this._tweenParseArgs(t,a),Pf){var s=e.tweens.add(t);return n.tweens.scale=s,s}}},{key:"_doAlphaTween",value:function(e,n,t,a){if(a&&this._tweenParseArgs(t,a),Pf){var s=e.tweens.add(t);return n.tweens.alpha=s,s}}},{key:"_tweenParseArgs",value:function(e,n){for(var t in null!=n.scaleX&&delete e.scale,null!=n.scaleY&&delete e.scale,n)e[t]=n[t];n._onComplete&&(e.onComplete=function(){this.targets[0].refSelfActor.parseOnTweenComplete(n._onComplete)})}}],[{key:"IsTweeningPosition",value:function(e){var n=e.tweens.position;if(!n)return!1;return 26!=n.state}},{key:"GetPositionTweenProgress",value:function(e){return e.tweens.position?e.tweens.position.progress:1}},{key:"StopPositionTween",value:function(e){var n=e.tweens.position;n&&n.stop()}},{key:"IsTweeningScale",value:function(e){var n=e.tweens.scale;if(!n)return!1;return 26!=n.state}}]),e}();var Db=new ei;var Hc=function(){function e(){zo(this,e)}return Ao(e,null,[{key:"InjectIntoActor",value:function(n,t,r){Ta.CreateTriggerIfNotExisting(n,t),n.vals.actions.triggerOn[t].push({name:e.Name,tweenCfg:r}),n.vals.actions.dict[e.Name]=!0}},{key:"OnAct",value:function(e,n){var t=JSON.parse(JSON.stringify(n.tweenCfg));Db.tweenAlphaTo(e,t)}},{key:"Name",get:function(){return"TweenAlphaTo"}}]),e}();function Do(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function fi(e,n){for(var t=0;t<n.length;t++){var o=n[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function Eo(e,n,t){return n&&fi(e.prototype,n),t&&fi(e,t),e}var Ic=function(){function e(){Do(this,e)}return Eo(e,null,[{key:"InjectIntoActor",value:function(n,t,o){Ta.CreateTriggerIfNotExisting(n,t),n.vals.actions.triggerOn[t].push({name:e.Name,tweenCfg:o}),n.vals.actions.dict[e.Name]=!0}},{key:"OnAct",value:function(e,n){var t=JSON.parse(JSON.stringify(n.tweenCfg));Db.tweenPositionByDeltaFrom(e,t)}},{key:"Name",get:function(){return"TweenPositionByDeltaFromAction"}}]),e}();function Fo(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function gi(e,n){for(var i=0;i<n.length;i++){var t=n[i];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(e,t.key,t)}}function Go(e,n,i){return n&&gi(e.prototype,n),i&&gi(e,i),e}var Qf=function(){function e(){Fo(this,e)}return Go(e,null,[{key:"InjectIntoActor",value:function(n,i,t){Ta.CreateTriggerIfNotExisting(n,i),n.vals.actions.triggerOn[i].push({name:e.Name,tweenCfg:t}),n.vals.actions.dict[e.Name]=!0}},{key:"OnAct",value:function(e,n){var i=JSON.parse(JSON.stringify(n.tweenCfg));Db.tweenPositionYoyo(e,i)}},{key:"Name",get:function(){return"TweenPositionYoYoAction"}}]),e}();function Ho(e,s){if(!(e instanceof s))throw new TypeError("Cannot call a class as a function")}function hi(e,s){for(var a=0;a<s.length;a++){var t=s[a];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(e,t.key,t)}}function Io(e,s,a){return s&&hi(e.prototype,s),a&&hi(e,a),e}var Fa=function(){function e(){Ho(this,e)}return Io(e,null,[{key:"InjectIntoActor",value:function(s){s.vals.physics={},s.vals.physics.body="standard",s.vals.components[e.Name]=!0,s.baked&&(this.Bake(s),this.PostBake(s))}},{key:"SetAsCircle",value:function(e,s){e.vals.physics.circle=!0,e.vals.physics.circleSize=s}},{key:"SetOffset",value:function(e,s,a){console.assert(e,"pActor is: ",e),console.assert(e.vals,"pActor.vals is: ",e,e.vals),console.assert(e.vals.physics,"pActor.vals.physics is: ",e,e.vals.physics),e.vals.physics.offsetX=s,e.vals.physics.offsetY=a,e.baked&&e.displayed.body.setOffset(s,a)}},{key:"SetBodySize",value:function(e,s,a){e.displayed.body.setSize(s,a,!0)}},{key:"SetBodyCircle",value:function(e,s){e.displayed.body.setCircle(s)}},{key:"SetSizeScaled",value:function(e,s){var a=e.displayed.body.sourceWidth*s,t=e.displayed.body.sourceHeight*s;e.displayed.body.setSize(a,t,!0)}},{key:"Bake",value:function(s){s.displayed.scene.physics.add.existing(s.displayed),s.vals.physics.circle&&e.SetBodyCircle(s,s.vals.physics.circleSize),null!=s.vals.physics.offsetX&&null!=s.vals.physics.offsetY&&e.SetOffset(s,s.vals.physics.offsetX,s.vals.physics.offsetY)}},{key:"DestroyBody",value:function(e){e.displayed.body.destroy()}},{key:"PostBake",value:function(e){}},{key:"Cleanup",value:function(e){}},{key:"Name",get:function(){return"Physics"}}]),e}();function Jo(e,a){if(!(e instanceof a))throw new TypeError("Cannot call a class as a function")}function ii(e,a){for(var n=0;n<a.length;n++){var s=a[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}function Ko(e,a,n){return a&&ii(e.prototype,a),n&&ii(e,n),e}var Lb=function(){function e(){Jo(this,e)}return Ko(e,null,[{key:"InjectIntoActor",value:function(a,n,s,o,t){console.assert(n,n),a.vals.spine={},a.vals.spine.key=n,a.vals.spine.baseAnimation=s,a.vals.spine.baseLoops=o,a.vals.spine.layer=t,a.vals.spine.inLayerDepth=0,a.vals.spine.maxWidth=0,a.vals.spine.maxHeight=0,a.vals.components[e.Name]=!0,a.vals.visualBase=a.vals.spine}},{key:"Has",value:function(a){return!!a.vals.components[e.Name]}},{key:"ListAnimations",value:function(e){for(var a=0;a<e.displayed.stateData.skeletonData.animations.length;a++){var n=e.displayed.stateData.skeletonData.animations[a].name;console.log(n)}}},{key:"Bake",value:function(e){var a=fa.InBakeGetSceneFromLayerCfg(e).make.spine({x:0,y:0,key:e.vals.spine.key,animationName:e.vals.spine.baseAnimation,loop:e.vals.spine.baseLoops,add:!1},!1);fa.InBakeAddDisplayedAndSetSelfRef(e,a),fa.SynchDisplayedToSavedTransformPosition(e)}},{key:"PostBake",value:function(e){}},{key:"Cleanup",value:function(e){}},{key:"Name",get:function(){return"Spine"}}]),e}();function Lo(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ji(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Mo(e,t,a){return t&&ji(e.prototype,t),a&&ji(e,a),e}var Rf,Sf={},a=arguments[0];!function(e,u){"object"==typeof Sf?Sf=u():"function"==typeof Rf&&Rf.amd?Rf(u):e.v=u()}(Sf,function(){function e(e){return null==e}function u(u){var r=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return e(u)?r:Boolean(u)}function r(e){return"string"==typeof e}function n(u){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return e(u)?n:r(u)?u:String(u)}function t(e,r){var t=n(e),i=u(r);return""===t?"":(i&&(t=t.toLowerCase()),t.substr(0,1).toUpperCase()+t.substr(1))}function i(e){return n(e,"").toLowerCase()}var a="\\uDC00-\\uDFFF",o="\\u0300-\\u036F\\u1AB0-\\u1AFF\\u1DC0-\\u1DFF\\u20D0-\\u20FF\\uFE20-\\uFE2F",c="\\0-\\u02FF\\u0370-\\u1AAF\\u1B00-\\u1DBF\\u1E00-\\u20CF\\u2100-\\uD7FF\\uE000-\\uFE1F\\uFE30-\\uFFFF",f=new RegExp("(["+c+"]|[\\uD800-\\uDBFF]["+a+"]|[\\uD800-\\uDBFF](?!["+a+"])|(?:[^\\uD800-\\uDBFF]|^)["+a+"])(["+o+"]+)","g"),s=new RegExp("([\\uD800-\\uDBFF])([\\uDC00-\\uDFFF])","g"),l=new RegExp("((?:["+c+"]|[\\uD800-\\uDBFF]["+a+"]|[\\uD800-\\uDBFF](?!["+a+"])|(?:[^\\uD800-\\uDBFF]|^)["+a+"])(?:["+o+"]+))|([\\uD800-\\uDBFF]["+a+"])|([\\n\\r\\u2028\\u2029])|(.)","g"),p=new RegExp("[\\s\\uFEFF\\xA0]"),g=new RegExp("^[\\s\\uFEFF\\xA0]+"),h=new RegExp("[\\s\\uFEFF\\xA0]+$"),v=new RegExp("^\\d+$"),d=/[-[\]{}()*+!<=:?./\\^$|#,]/g,F=/[^A-Za-z0-9]/g,x=/[<>&"'`]/g,b=/(%{1,2})(?:(\d+)\$)?(\+)?([ 0]|'.{1})?(-)?(\d+)?(?:\.(\d+))?([bcdiouxXeEfgGs])?/g,y=/\.?0+$/g,w=/[gimuy]*$/,D=/<([A-Za-z0-9]+)>/g,A="a-z\\xB5\\xDF-\\xF6\\xF8-\\xFF\\u0101\\u0103\\u0105\\u0107\\u0109\\u010B\\u010D\\u010F\\u0111\\u0113\\u0115\\u0117\\u0119\\u011B\\u011D\\u011F\\u0121\\u0123\\u0125\\u0127\\u0129\\u012B\\u012D\\u012F\\u0131\\u0133\\u0135\\u0137\\u0138\\u013A\\u013C\\u013E\\u0140\\u0142\\u0144\\u0146\\u0148\\u0149\\u014B\\u014D\\u014F\\u0151\\u0153\\u0155\\u0157\\u0159\\u015B\\u015D\\u015F\\u0161\\u0163\\u0165\\u0167\\u0169\\u016B\\u016D\\u016F\\u0171\\u0173\\u0175\\u0177\\u017A\\u017C\\u017E-\\u0180\\u0183\\u0185\\u0188\\u018C\\u018D\\u0192\\u0195\\u0199-\\u019B\\u019E\\u01A1\\u01A3\\u01A5\\u01A8\\u01AA\\u01AB\\u01AD\\u01B0\\u01B4\\u01B6\\u01B9\\u01BA\\u01BD-\\u01BF\\u01C6\\u01C9\\u01CC\\u01CE\\u01D0\\u01D2\\u01D4\\u01D6\\u01D8\\u01DA\\u01DC\\u01DD\\u01DF\\u01E1\\u01E3\\u01E5\\u01E7\\u01E9\\u01EB\\u01ED\\u01EF\\u01F0\\u01F3\\u01F5\\u01F9\\u01FB\\u01FD\\u01FF\\u0201\\u0203\\u0205\\u0207\\u0209\\u020B\\u020D\\u020F\\u0211\\u0213\\u0215\\u0217\\u0219\\u021B\\u021D\\u021F\\u0221\\u0223\\u0225\\u0227\\u0229\\u022B\\u022D\\u022F\\u0231\\u0233-\\u0239\\u023C\\u023F\\u0240\\u0242\\u0247\\u0249\\u024B\\u024D\\u024F",E="\\x41-\\x5a\\xc0-\\xd6\\xd8-\\xde\\u0100\\u0102\\u0104\\u0106\\u0108\\u010a\\u010c\\u010e\\u0110\\u0112\\u0114\\u0116\\u0118\\u011a\\u011c\\u011e\\u0120\\u0122\\u0124\\u0126\\u0128\\u012a\\u012c\\u012e\\u0130\\u0132\\u0134\\u0136\\u0139\\u013b\\u013d\\u013f\\u0141\\u0143\\u0145\\u0147\\u014a\\u014c\\u014e\\u0150\\u0152\\u0154\\u0156\\u0158\\u015a\\u015c\\u015e\\u0160\\u0162\\u0164\\u0166\\u0168\\u016a\\u016c\\u016e\\u0170\\u0172\\u0174\\u0176\\u0178\\u0179\\u017b\\u017d\\u0181\\u0182\\u0184\\u0186\\u0187\\u0189-\\u018b\\u018e-\\u0191\\u0193\\u0194\\u0196-\\u0198\\u019c\\u019d\\u019f\\u01a0\\u01a2\\u01a4\\u01a6\\u01a7\\u01a9\\u01ac\\u01ae\\u01af\\u01b1-\\u01b3\\u01b5\\u01b7\\u01b8\\u01bc\\u01c4\\u01c5\\u01c7\\u01c8\\u01ca\\u01cb\\u01cd\\u01cf\\u01d1\\u01d3\\u01d5\\u01d7\\u01d9\\u01db\\u01de\\u01e0\\u01e2\\u01e4\\u01e6\\u01e8\\u01ea\\u01ec\\u01ee\\u01f1\\u01f2\\u01f4\\u01f6-\\u01f8\\u01fa\\u01fc\\u01fe\\u0200\\u0202\\u0204\\u0206\\u0208\\u020a\\u020c\\u020e\\u0210\\u0212\\u0214\\u0216\\u0218\\u021a\\u021c\\u021e\\u0220\\u0222\\u0224\\u0226\\u0228\\u022a\\u022c\\u022e\\u0230\\u0232\\u023a\\u023b\\u023d\\u023e\\u0241\\u0243-\\u0246\\u0248\\u024a\\u024c\\u024e",C=new RegExp("(?:["+E+"]["+o+"]*)?(?:["+A+"]["+o+"]*)+|(?:["+E+"]["+o+"]*)+(?!["+A+"])|[\\d]+|[\\u2700-\\u27BF]|[^\\x00-\\x2F\\x3A-\\x40\\x5B-\\x60\\x7b-\\xBF\\xD7\\xF7\\u2000-\\u206F\\s\\uFEFF\\xA0]+","g"),m=/[A-Z\xC0-\xD6\xD8-\xDE]?[a-z\xDF-\xF6\xF8-\xFF]+|[A-Z\xC0-\xD6\xD8-\xDE]+(?![a-z\xDF-\xF6\xF8-\xFF])|\d+/g,B=new RegExp("^(?:["+A+E+"]["+o+"]*)+$"),k=new RegExp("^((?:["+A+E+"]["+o+"]*)|[\\d])+$"),$=/^[\x01-\xFF]*$/;function S(e,u){return null==e?u:e}function O(u){return e(u)?null:r(u)?u:String(u)}function j(u,r,t){var i=n(u),a=void 0;if(e(r))a=$.test(i)?m:C;else if(r instanceof RegExp)a=r;else{var o=O(S(t,""));a=new RegExp(O(r),o)}return S(i.match(a),[])}function R(e,u){return 0===u?i(e):t(e,!0)}function U(e){var u=n(e);return""===u?"":j(u).map(i).join("-")}function L(e,u){var r=u.toLowerCase(),n=u.toUpperCase();return e+(u===r?n:r)}function N(e,u,r){return e<=u?u:e>=r?r:e}var P=9007199254740991;function z(e){return e===1/0?P:e===-1/0?-P:~~e}function q(u,r,t){var i=n(u),a=e(r)?i.length:N(z(r),0,P),o=n(t,"...");return a>=i.length?i:i.substr(0,r-o.length)+o}var I=55296,_=56319,V=56320,Y=57343;function Z(u){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e(u)?r:"number"==typeof u?u:Number(u)}function T(e,u){return e!=e?u:e}function W(e,u){var r=n(e),t=r.length,i=Z(u);if(!((i=T(i,0))<0||i>=t)){var a,o=r.charCodeAt(i),c=void 0;return(a=o)>=I&&a<=_&&t>i+1&&function(e){return e>=V&&e<=Y}(c=r.charCodeAt(i+1))?1024*(o-I)+c-V+65536:o}}var G=Array.prototype.reduce;function H(){this.index=0}H.prototype.increment=function(){this.index++},H.prototype.incrementOnEmptyPosition=function(u){e(u)&&this.increment()},H.prototype.getIndexByPosition=function(u){return e(u)?this.index:u-1};var J="i",X="b",K="c",M="d",Q="o",ee="u",ue="x",re="X",ne="e",te="E",ie="f",ae="g",oe="G",ce="s",fe="+",se="-",le=2,pe=8,ge=16;function he(u,r){for(var t=n(u),i=e(r)?1:N(z(r),0,P),a="";i;)1&i&&(a+=t),i>1&&(t+=t),i>>=1;return a}function ve(e,u){return he(e,z(u/e.length)+u%e.length).substr(0,u)}function de(u,r,t){var i=n(u),a=e(r)?0:N(z(r),0,P),o=n(t," ");return a<=i.length?i:ve(o,a-i.length)+i}function Fe(u,r,t){var i=n(u),a=e(r)?0:N(z(r),0,P),o=n(t," ");return a<=i.length?i:i+ve(o,a-i.length)}function xe(e,u,r){return r.signSpecifier===fe&&e>=0&&(u=fe+u),u}function be(e,u){var r=parseFloat(e),t=void 0;isNaN(r)&&(r=0);var i=Z(u.precision,6);switch(u.typeSpecifier){case ie:t=r.toFixed(i);break;case ne:t=r.toExponential(i);break;case te:t=r.toExponential(i).toUpperCase();break;case ae:case oe:t=function(e,u,r){if(0===e)return"0";var n=0===u?1:u,t=e.toPrecision(n).replace(y,"");r.typeSpecifier===oe&&(t=t.toUpperCase());return t}(r,i,u);}return n(t=xe(r,t,u))}function ye(e,u){var r=parseInt(e);switch(isNaN(r)&&(r=0),r>>>=0,u.typeSpecifier){case K:r=String.fromCharCode(r);break;case X:r=r.toString(le);break;case Q:r=r.toString(pe);break;case ue:r=r.toString(ge);break;case re:r=r.toString(ge).toUpperCase();}return n(r)}function we(e,u){var r=parseInt(e);return isNaN(r)&&(r=0),xe(r,O(r),u)}function De(u,r){var n=u,t=r.precision;return!e(t)&&n.length>t&&(n=q(n,t,"")),n}function Ae(u,r){var n=void 0;switch(r.typeSpecifier){case ce:n=De;break;case M:case J:n=we;break;case K:case X:case Q:case ue:case re:case ee:n=ye;break;case ie:case ne:case te:case ae:case oe:n=be;}return function(u,r){var n=r.width;return e(n)||u.length>=n?u:(r.alignmentSpecifier===se?Fe:de)(u,n,r.getPaddingCharacter())}(n(u,r),r)}function Ee(e){this.percent=e.percent,this.signSpecifier=e.signSpecifier,this.paddingSpecifier=e.paddingSpecifier,this.alignmentSpecifier=e.alignmentSpecifier,this.width=e.width,this.precision=e.precision,this.typeSpecifier=e.typeSpecifier}function Ce(u,r,n,t,i,a,o,c,f,s,l){var p=new Ee({percent:t,signSpecifier:a,paddingSpecifier:o,alignmentSpecifier:c,width:Z(f,null),precision:Z(s,null),typeSpecifier:l});if(p.isPercentLiteral())return n.slice(1);var g=u.getIndexByPosition(i);return u.incrementOnEmptyPosition(i),function(u,r,n){if(e(n.typeSpecifier))throw new Error("sprintf(): Unknown type specifier");if(u>r-1)throw new Error("sprintf(): Too few arguments");if(u<0)throw new Error("sprintf(): Argument number must be greater than zero")}(g,r.length,p),Ae(r[g],p)}function me(e){var u=n(e);if(""===u)return u;for(var r=arguments.length,t=Array(r>1?r-1:0),i=1;i<r;i++)t[i-1]=arguments[i];var a=Ce.bind(void 0,new H,t);return u.replace(b,a)}Ee.prototype.isPercentLiteral=function(){return"%%"===this.percent},Ee.prototype.getPaddingCharacter=function(){var e=S(this.paddingSpecifier," ");return 2===e.length&&"'"===e[0]&&(e=e[1]),e};var Be={"<":"&lt;",">":"&gt;","&":"&amp;","\"":"&quot;","'":"&#x27;","`":"&#x60;"};function ke(e){return Be[e]}function $e(e){return n(e).replace(d,"\\$&")}var Se={"<":/(&lt;)|(&#x0*3c;)|(&#0*60;)/gi,">":/(&gt;)|(&#x0*3e;)|(&#0*62;)/gi,"&":/(&amp;)|(&#x0*26;)|(&#0*38;)/gi,"\"":/(&quot;)|(&#x0*22;)|(&#0*34;)/gi,"'":/(&#x0*27;)|(&#0*39;)/gi,"`":/(&#x0*60;)|(&#0*96;)/gi},Oe=Object.keys(Se);function je(e,u){return e.replace(Se[u],u)}var Re={3:"\u039E\u03BE",8:"\u0398\u03B8",A:"A\xC0\xC1\xC2\xC3\xC4\xC5\u0100\u0102\u0104\u01CD\u01DE\u01E0\u01FA\u0200\u0202\u0226\u023A\u1E00\u1EA0\u1EA2\u1EA4\u1EA6\u1EA8\u1EAA\u1EAC\u1EAE\u1EB0\u1EB2\u1EB4\u1EB6\u24B6\u2C6F\uFF21\u0386\u0391\u0410",B:"B\u0181\u0182\u0243\u1E02\u1E04\u1E06\u24B7\uFF22\u0392\u0411",C:"C\xC7\u0106\u0108\u010A\u010C\u0187\u023B\u1E08\u24B8\uA73E\uFF23\u0426",D:"D\u010E\u0110\u0189\u018A\u018B\u1E0A\u1E0C\u1E0E\u1E10\u1E12\u24B9\uA779\uFF24\xD0\u0394\u0414",E:"E\xC8\xC9\xCA\xCB\u0112\u0114\u0116\u0118\u011A\u018E\u0190\u0204\u0206\u0228\u1E14\u1E16\u1E18\u1E1A\u1E1C\u1EB8\u1EBA\u1EBC\u1EBE\u1EC0\u1EC2\u1EC4\u1EC6\u24BA\uFF25\u0388\u0395\u0415\u042D",F:"F\u0191\u1E1E\u24BB\uA77B\uFF26\u03A6\u0424",G:"G\u011C\u011E\u0120\u0122\u0193\u01E4\u01E6\u01F4\u1E20\u24BC\uA77D\uA77E\uA7A0\uFF27\u0393\u0413\u0490",H:"H\u0124\u0126\u021E\u1E22\u1E24\u1E26\u1E28\u1E2A\u24BD\u2C67\u2C75\uA78D\uFF28\u0389\u0397\u0425",I:"I\xCC\xCD\xCE\xCF\u0128\u012A\u012C\u012E\u0130\u0197\u01CF\u0208\u020A\u1E2C\u1E2E\u1EC8\u1ECA\u24BE\uFF29\u038A\u0399\u03AA\u0406\u0418",J:"J\u0134\u0248\u24BF\uFF2A\u0419",K:"K\u0136\u0198\u01E8\u1E30\u1E32\u1E34\u24C0\u2C69\uA740\uA742\uA744\uA7A2\uFF2B\u039A\u041A",L:"L\u0139\u013B\u013D\u013F\u0141\u023D\u1E36\u1E38\u1E3A\u1E3C\u24C1\u2C60\u2C62\uA746\uA748\uA780\uFF2C\u039B\u041B",M:"M\u019C\u1E3E\u1E40\u1E42\u24C2\u2C6E\uFF2D\u039C\u041C",N:"N\xD1\u0143\u0145\u0147\u019D\u01F8\u0220\u1E44\u1E46\u1E48\u1E4A\u24C3\uA790\uA7A4\uFF2E\u039D\u041D",O:"O\xD2\xD3\xD4\xD5\xD6\xD8\u014C\u014E\u0150\u0186\u019F\u01A0\u01D1\u01EA\u01EC\u01FE\u020C\u020E\u022A\u022C\u022E\u0230\u1E4C\u1E4E\u1E50\u1E52\u1ECC\u1ECE\u1ED0\u1ED2\u1ED4\u1ED6\u1ED8\u1EDA\u1EDC\u1EDE\u1EE0\u1EE2\u24C4\uA74A\uA74C\uFF2F\u038C\u039F\u041E",P:"P\u01A4\u1E54\u1E56\u24C5\u2C63\uA750\uA752\uA754\uFF30\u03A0\u041F",Q:"Q\u024A\u24C6\uA756\uA758\uFF31",R:"R\u0154\u0156\u0158\u0210\u0212\u024C\u1E58\u1E5A\u1E5C\u1E5E\u24C7\u2C64\uA75A\uA782\uA7A6\uFF32\u03A1\u0420",S:"S\u015A\u015C\u015E\u0160\u0218\u1E60\u1E62\u1E64\u1E66\u1E68\u1E9E\u24C8\u2C7E\uA784\uA7A8\uFF33\u03A3\u0421",T:"T\u0162\u0164\u0166\u01AC\u01AE\u021A\u023E\u1E6A\u1E6C\u1E6E\u1E70\u24C9\uA786\uFF34\u03A4\u0422",U:"U\xD9\xDA\xDB\xDC\u0168\u016A\u016C\u016E\u0170\u0172\u01AF\u01D3\u01D5\u01D7\u01D9\u01DB\u0214\u0216\u0244\u1E72\u1E74\u1E76\u1E78\u1E7A\u1EE4\u1EE6\u1EE8\u1EEA\u1EEC\u1EEE\u1EF0\u24CA\uFF35\u0423\u042A",V:"V\u01B2\u0245\u1E7C\u1E7E\u24CB\uA75E\uFF36\u0412",W:"W\u0174\u1E80\u1E82\u1E84\u1E86\u1E88\u24CC\u2C72\uFF37\u038F\u03A9",X:"X\u1E8A\u1E8C\u24CD\uFF38\u03A7",Y:"Y\xDD\u0176\u0178\u01B3\u0232\u024E\u1E8E\u1EF2\u1EF4\u1EF6\u1EF8\u1EFE\u24CE\uFF39\u038E\u03A5\u03AB\u042B",Z:"Z\u0179\u017B\u017D\u01B5\u0224\u1E90\u1E92\u1E94\u24CF\u2C6B\u2C7F\uA762\uFF3A\u0396\u0417",a:"a\xE0\xE1\xE2\xE3\xE4\xE5\u0101\u0103\u0105\u01CE\u01DF\u01E1\u01FB\u0201\u0203\u0227\u0250\u1E01\u1E9A\u1EA1\u1EA3\u1EA5\u1EA7\u1EA9\u1EAB\u1EAD\u1EAF\u1EB1\u1EB3\u1EB5\u1EB7\u24D0\u2C65\uFF41\u03AC\u03B1\u0430",b:"b\u0180\u0183\u0253\u1E03\u1E05\u1E07\u24D1\uFF42\u03B2\u0431",c:"c\xE7\u0107\u0109\u010B\u010D\u0188\u023C\u1E09\u2184\u24D2\uA73F\uFF43\u0446",d:"d\u010F\u0111\u018C\u0256\u0257\u1E0B\u1E0D\u1E0F\u1E11\u1E13\u24D3\uA77A\uFF44\xF0\u03B4\u0434",e:"e\xE8\xE9\xEA\xEB\u0113\u0115\u0117\u0119\u011B\u01DD\u0205\u0207\u0229\u0247\u025B\u1E15\u1E17\u1E19\u1E1B\u1E1D\u1EB9\u1EBB\u1EBD\u1EBF\u1EC1\u1EC3\u1EC5\u1EC7\u24D4\uFF45\u03AD\u03B5\u0435\u044D",f:"f\u0192\u1E1F\u24D5\uA77C\uFF46\u03C6\u0444",g:"g\u011D\u011F\u0121\u0123\u01E5\u01E7\u01F5\u0260\u1D79\u1E21\u24D6\uA77F\uA7A1\uFF47\u03B3\u0433\u0491",h:"h\u0125\u0127\u021F\u0265\u1E23\u1E25\u1E27\u1E29\u1E2B\u1E96\u24D7\u2C68\u2C76\uFF48\u03AE\u03B7\u0445",i:"i\xEC\xED\xEE\xEF\u0129\u012B\u012D\u012F\u0131\u01D0\u0209\u020B\u0268\u1E2D\u1E2F\u1EC9\u1ECB\u24D8\uFF49\u0390\u03AF\u03B9\u03CA\u0438\u0456",j:"j\u0135\u01F0\u0249\u24D9\uFF4A\u0439",k:"k\u0137\u0199\u01E9\u1E31\u1E33\u1E35\u24DA\u2C6A\uA741\uA743\uA745\uA7A3\uFF4B\u03BA\u043A",l:"l\u013A\u013C\u013E\u0140\u0142\u017F\u019A\u026B\u1E37\u1E39\u1E3B\u1E3D\u24DB\u2C61\uA747\uA749\uA781\uFF4C\u03BB\u043B",m:"m\u026F\u0271\u1E3F\u1E41\u1E43\u24DC\uFF4D\u03BC\u043C",n:"n\xF1\u0144\u0146\u0148\u0149\u019E\u01F9\u0272\u1E45\u1E47\u1E49\u1E4B\u24DD\uA791\uA7A5\uFF4E\u03BD\u043D",o:"o\xF2\xF3\xF4\xF5\xF6\xF8\u014D\u014F\u0151\u01A1\u01D2\u01EB\u01ED\u01FF\u020D\u020F\u022B\u022D\u022F\u0231\u0254\u0275\u1E4D\u1E4F\u1E51\u1E53\u1ECD\u1ECF\u1ED1\u1ED3\u1ED5\u1ED7\u1ED9\u1EDB\u1EDD\u1EDF\u1EE1\u1EE3\u24DE\uA74B\uA74D\uFF4F\u03BF\u03CC\u043E",p:"p\u01A5\u1D7D\u1E55\u1E57\u24DF\uA751\uA753\uA755\uFF50\u03C0\u043F",q:"q\u024B\u24E0\uA757\uA759\uFF51",r:"r\u0155\u0157\u0159\u0211\u0213\u024D\u027D\u1E59\u1E5B\u1E5D\u1E5F\u24E1\uA75B\uA783\uA7A7\uFF52\u03C1\u0440",s:"s\xDF\u015B\u015D\u015F\u0161\u0219\u023F\u1E61\u1E63\u1E65\u1E67\u1E69\u1E9B\u24E2\uA785\uA7A9\uFF53\u03C2\u03C3\u0441",t:"t\u0163\u0165\u0167\u01AD\u021B\u0288\u1E6B\u1E6D\u1E6F\u1E71\u1E97\u24E3\u2C66\uA787\uFF54\u03C4\u0442",u:"u\xF9\xFA\xFB\xFC\u0169\u016B\u016D\u016F\u0171\u0173\u01B0\u01D4\u01D6\u01D8\u01DA\u01DC\u0215\u0217\u0289\u1E73\u1E75\u1E77\u1E79\u1E7B\u1EE5\u1EE7\u1EE9\u1EEB\u1EED\u1EEF\u1EF1\u24E4\uFF55\u0443\u044A",v:"v\u028B\u028C\u1E7D\u1E7F\u24E5\uA75F\uFF56\u0432",w:"w\u0175\u1E81\u1E83\u1E85\u1E87\u1E89\u1E98\u24E6\u2C73\uFF57\u03C9\u03CE",x:"x\u1E8B\u1E8D\u24E7\uFF58\u03C7",y:"y\xFD\xFF\u0177\u01B4\u0233\u024F\u1E8F\u1E99\u1EF3\u1EF5\u1EF7\u1EF9\u1EFF\u24E8\uFF59\u03B0\u03C5\u03CB\u03CD\u044B",z:"z\u017A\u017C\u017E\u01B6\u0225\u0240\u1E91\u1E93\u1E95\u24E9\u2C6C\uA763\uFF5A\u03B6\u0437",OE:"\x8C\u0152",oe:"\x9C\u0153",AE:"\xC6\u01E2\u01FC",ae:"\xE6\u01E3\u01FD",hv:"\u0195",OI:"\u01A2",oi:"\u01A3",DZ:"\u01C4\u01F1",Dz:"\u01C5\u01F2",dz:"\u01C6\u01F3",LJ:"\u01C7",Lj:"\u01C8",lj:"\u01C9",NJ:"\u01CA",Nj:"\u01CB",nj:"\u01CC",OU:"\u0222",ou:"\u0223",TZ:"\uA728",tz:"\uA729",AA:"\uA732",aa:"\uA733",AO:"\uA734",ao:"\uA735",AU:"\uA736",au:"\uA737",AV:"\uA738\uA73A",av:"\uA739\uA73B",AY:"\uA73C",ay:"\uA73D",OO:"\uA74E",oo:"\uA74F",VY:"\uA760",vy:"\uA761",TH:"\xDE",th:"\xFE",PS:"\u03A8",ps:"\u03C8",Yo:"\u0401",Ye:"\u0404",Yi:"\u0407",Zh:"\u0416",Ch:"\u0427",Sh:"\u0428\u0429","":"\u042C\u044C",Yu:"\u042E",Ya:"\u042F",zh:"\u0436",ch:"\u0447",sh:"\u0448\u0449",yu:"\u044E",ya:"\u044F",yo:"\u0451",ye:"\u0454",yi:"\u0457"},Ue=null;function Le(e){var u=(null!==Ue?Ue:(Ue={},Object.keys(Re).forEach(function(e){for(var u=Re[e],r=0;r<u.length;r++){var n=u[r];Ue[n]=e}}),Ue))[e];return u||e}function Ne(e,u){return u}function Pe(e){var u=n(e);return""===u?"":u.replace(F,Le).replace(f,Ne)}function ze(u,r,t){var i=n(u),a=O(r);return null!==a&&(""===a||(t=e(t)?0:N(z(t),0,i.length),-1!==i.indexOf(a,t)))}function qe(e,u){var r=e.toString().match(w)[0];return ze(r,u)?e:new RegExp(e.source,r+u)}var Ie=function(){return function(e,u){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,u){var r=[],n=!0,t=!1,i=void 0;try{for(var a,o=e[Symbol.iterator]();!(n=(a=o.next()).done)&&(r.push(a.value),!u||r.length!==u);n=!0);}catch(c){t=!0,i=c}finally{try{!n&&o.return&&o.return()}finally{if(t)throw i}}return r}(e,u);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();function _e(e,u){return e.length===u.length?0:e.length<u.length?1:-1}var Ve=Array.prototype.reduce;function Ye(u,r){var t=n(u);if(""===r||""===t)return t;var i=O(r);if(e(i))return t.replace(g,"");var a=!0;return Ve.call(t,function(e,u){return a&&ze(i,u)?e:(a=!1,e+u)},"")}var Ze=Array.prototype.reduceRight;function Te(u,r){var t=n(u);if(""===r||""===t)return t;var i=O(r);if(e(i))return t.replace(h,"");var a=!0;return Ze.call(t,function(e,u){return a&&ze(i,u)?e:(a=!1,u+e)},"")}var We="width",Ge="newLine",He="indent",Je="cut";function Xe(e){var u=n(e);return B.test(u)}var Ke="\uFEFF";var Me=0,Qe=1,eu=2;function uu(e){for(var u=Me,r="",n=0;u!==eu;){var t=e[n++].toLowerCase();switch(t){case"<":break;case">":u=eu;break;default:p.test(t)?u===Qe&&(u=eu):(u===Me&&(u=Qe),"/"!==t&&(r+=t));}}return r}var ru=0,nu=1,tu=2,iu=3;var au=null;var ou=null!==au?au:au="object"==typeof Bc&&Bc.Object===Object?Bc:"object"==typeof self&&self.Object===Object?self:new Function("return this")(),cu=ou.v;var fu={camelCase:function(e){var u=n(e);return""===u?"":j(u).map(R).join("")},capitalize:t,decapitalize:function(e){var u=n(e);return""===u?"":u.substr(0,1).toLowerCase()+u.substr(1)},kebabCase:U,lowerCase:i,snakeCase:function(e){var u=n(e);return""===u?"":j(u).map(i).join("_")},swapCase:function(e){return n(e).split("").reduce(L,"")},titleCase:function(e,u){var r=n(e),i=Array.isArray(u)?u:[],a=$.test(r)?m:C;return r.replace(a,function(e,u){return u>0&&i.indexOf(r[u-1])>=0?e.toLowerCase():t(e,!0)})},upperCase:function(e){return n(e).toUpperCase()},count:function(e){return n(e).length},countGraphemes:function(e){return n(e).replace(f,"*").replace(s,"*").length},countSubstrings:function(e,u){var r=n(e),t=n(u),i=t.length,a=0,o=0;if(""===r||""===t)return a;do{-1!==(o=r.indexOf(t,o))&&(a++,o+=i)}while(-1!==o);return a},countWhere:function(e,u,r){var t=n(e);if(""===t||"function"!=typeof u)return 0;var i=u.bind(r);return G.call(t,function(e,u,r){return i(u,r,t)?e+1:e},0)},countWords:function(e,u,r){return j(e,u,r).length},escapeHtml:function(e){return n(e).replace(x,ke)},escapeRegExp:$e,unescapeHtml:function(e){var u=n(e);return Oe.reduce(je,u)},sprintf:me,vprintf:function(e,u){return me.apply(void 0,[e].concat(function(e){if(Array.isArray(e)){for(var u=0,r=Array(e.length);u<e.length;u++)r[u]=e[u];return r}return Array.from(e)}(S(u,[]))))},indexOf:function(e,u,r){return n(e).indexOf(u,r)},lastIndexOf:function(e,u,r){return n(e).lastIndexOf(u,r)},search:function(u,r,t){var i=n(u),a=e(t)?0:N(z(t),0,i.length),o=i.substr(a).search(r);return-1===o||isNaN(a)||(o+=a),o},charAt:function(e,u){return n(e).charAt(u)},codePointAt:W,first:function(u,r){var t=n(u),i=e(r)?1:N(z(r),0,P);return t.length<=i?t:t.substr(0,i)},graphemeAt:function(e,u){var r=n(e),t=Z(u),i=void 0,a=0;for(t=T(t,0);null!==(i=l.exec(r));){if(a===t)return l.lastIndex=0,i[0];a++}return""},last:function(u,r){var t=n(u),i=e(r)?1:N(z(r),0,P);return t.length<=i?t:t.substr(t.length-i,i)},prune:function(u,r,t){var i=n(u),a=e(r)?i.length:N(z(r),0,P),o=n(t,"...");if(a>=i.length)return i;var c=$.test(i)?m:C,f=0;return i.replace(c,function(e,u){var r=u+e.length;r<=a-o.length&&(f=r)}),i.substr(0,f)+o},slice:function(e,u,r){return n(e).slice(u,r)},substr:function(e,u,r){return n(e).substr(u,r)},substring:function(e,u,r){return n(e).substring(u,r)},truncate:q,insert:function(e,u,r){var t=n(e),i=n(u),a=Z(r);return a<0||a>t.length||""===i?t:t.slice(0,a)+i+t.slice(a)},latinise:Pe,pad:function(u,r,t){var i=n(u),a=e(r)?0:N(z(r),0,P),o=n(t," ");if(a<=i.length)return i;var c=a-i.length,f=z(c/2),s=c%2;return ve(o,f)+i+ve(o,f+s)},padLeft:de,padRight:Fe,repeat:he,replace:function(e,u,r){return n(e).replace(u,r)},replaceAll:function(e,u,r){var t=n(e),i=u;return u instanceof RegExp?u.global||(i=qe(u,"g")):i=new RegExp($e(u),"g"),t.replace(i,r)},reverse:function(e){return n(e).split("").reverse().join("")},reverseGrapheme:function e(u){for(var r=n(u),t="",i=(r=r.replace(f,function(u,r,n){return e(n)+r}).replace(s,"$2$1")).length;i--;)t+=r.charAt(i);return t},slugify:function(e){var u=n(e);return""===u?"":U(Pe(u).replace(F,"-"))},splice:function(e,u,r,t){var i=n(e),a=n(t),o=Z(u);o<0?(o=i.length+o)<0&&(o=0):o>i.length&&(o=i.length);var c=Z(r,i.length-o);return c<0&&(c=0),i.slice(0,o)+a+i.slice(o+c)},tr:function(e,u,t){var i=n(e),a=void 0,o=void 0;if(r(u)&&r(t))a=u.split(""),o=t.split("");else{var c=function(e){var u=Object.keys(e),r=u.sort(_e).map(function(u){return e[u]});return[u,r]}(S(u,{})),f=Ie(c,2);a=f[0],o=f[1]}var s=a.length;if(0===s)return i;for(var l="",p=o.length,g=0;g<i.length;g++){for(var h=!1,v=void 0,d=0;d<s&&d<p;d++){var F=a[d];if(i.substr(g,F.length)===F){h=!0,v=o[d],g=g+F.length-1;break}}l+=h?v:i[g]}return l},trim:function(u,r){var t=n(u);if(""===r||""===t)return t;var i=O(r);return e(i)?t.trim():Te(Ye(t,i),i)},trimLeft:Ye,trimRight:Te,wordWrap:function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t=n(e),i=function(e){return{width:Z(e[We],75),newLine:n(e[Ge],"\n"),indent:n(e[He],""),cut:u(e[Je],!1)}}(r),a=i.width,o=i.newLine,c=i.indent,f=i.cut;if(""===t||a<=0)return c;for(var s=t.length,l=t.substring.bind(t),p=0,g="";s-p>a;)if(" "!==t[p]){var h=t.lastIndexOf(" ",a+p);h>=p?(g+=c+l(p,h)+o,p=h+1):f?(g+=c+l(p,a+p)+o,p+=a):(h=t.indexOf(" ",a+p))>=0?(g+=c+l(p,h)+o,p=h+1):(g+=c+l(p),p=s)}else p++;return p<s&&(g+=c+l(p)),g},endsWith:function(u,r,t){if(e(r))return!1;var i=n(u),a=n(r);if(""===a)return!0;t=e(t)?i.length:N(z(t),0,i.length),t-=a.length;var o=i.indexOf(a,t);return-1!==o&&o===t},includes:ze,isAlpha:Xe,isAlphaDigit:function(e){var u=n(e);return k.test(u)},isBlank:function(e){return 0===n(e).trim().length},isDigit:function(e){var u=n(e);return v.test(u)},isEmpty:function(e){return 0===n(e).length},isLowerCase:function(e){var u=n(e);return Xe(u)&&u.toLowerCase()===u},isNumeric:function(u){var r="object"!=typeof u||e(u)?u:Number(u);return("number"==typeof r||"string"==typeof r)&&!isNaN(r-parseFloat(r))},isString:r,isUpperCase:function(e){var u=n(e);return Xe(u)&&u.toUpperCase()===u},matches:function(e,u,r){var t=n(e),i=n(r),a=void 0;if(!(u instanceof RegExp)){if(null===(a=O(u)))return!1;u=new RegExp(a,i)}return u.test(t)},startsWith:function(u,r,t){var i=n(u),a=O(r);return null!==a&&(""===a||(t=e(t)?0:N(z(t),0,i.length),i.substr(t,a.length)===a))},chars:function(e){return n(e).split("")},codePoints:function(e){for(var u=n(e),r=u.length,t=[],i=0,a=void 0;i<r;)a=W(u,i),t.push(a),i+=a>65535?2:1;return t},graphemes:function(e){return S(n(e).match(l),[])},split:function(e,u,r){return n(e).split(u,r)},words:j,stripBom:function(e){var u=n(e);return""===u?"":u[0]===Ke?u.substring(1):u},stripTags:function(e,u,r){if(""===(e=n(e)))return"";if(!Array.isArray(u)){var t=n(u);u=""===t?[]:function(e){for(var u=[],r=void 0;null!==(r=D.exec(e));)u.push(r[1]);return u}(t)}for(var i=n(r),a=e.length,o=u.length>0,c=function(e,u,r){var n=0;return(!(arguments.length>3&&void 0!==arguments[3])||arguments[3])&&(n=1-u.length),e.substr(r+n,u.length).toLowerCase()===u}.bind(null,e),f=ru,s=0,l="",p="",g=null,h=0;h<a;h++){var v=e[h],d=!1;switch(v){case"<":if(g)break;if(c("< ",h,!1)){d=!0;break}if(f===ru){d=!0,f=nu;break}if(f===nu){s++;break}d=!0;break;case"!":if(f===nu&&c("<!",h)){f=tu;break}d=!0;break;case"-":if(f===tu&&c("!--",h)){f=iu;break}d=!0;break;case"\"":case"'":f===nu&&(g===v?g=null:g||(g=v)),d=!0;break;case"E":case"e":if(f===tu&&c("doctype",h)){f=nu;break}d=!0;break;case">":if(s>0){s--;break}if(g)break;if(f===nu){if(g=null,f=ru,o){var F=uu(p+=">");-1!==u.indexOf(F.toLowerCase())?l+=p:l+=i,p=""}else l+=i;break}if(f===tu||f===iu&&c("-->",h)){g=null,f=ru,p="";break}d=!0;break;default:d=!0;}if(d)switch(f){case ru:l+=v;break;case nu:o&&(p+=v);}}return l},noConflict:function(){return this===ou.v&&(ou.v=cu),this},version:"1.4.0"};function su(e,u){this._wrappedValue=e,this._explicitChain=u}function lu(e){return new su(e,!1)}return su.prototype.value=function(){return this._wrappedValue},su.prototype.valueOf=function(){return this.value()},su.prototype.toJSON=function(){return this.value()},su.prototype.toString=function(){return String(this.value())},su.prototype.chain=function(){return new su(this._wrappedValue,!0)},su.prototype.thru=function(e){return"function"==typeof e?new su(e(this._wrappedValue),this._explicitChain):this},su.prototype._explicitChain=!0,Object.keys(fu).forEach(function(e){var u;su.prototype[e]=(u=fu[e],function(){for(var e=arguments.length,r=Array(e),n=0;n<e;n++)r[n]=arguments[n];var t=u.apply(void 0,[this._wrappedValue].concat(r));return this._explicitChain||"string"==typeof t?new su(t,this._explicitChain):t})}),(Object.assign||function(e){for(var u=1;u<arguments.length;u++){var r=arguments[u];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e})(lu,fu,{chain:function(e){return new su(e,!0)}}),lu});var Ga=function(){function e(){Lo(this,e)}return Mo(e,null,[{key:"InjectIntoActor",value:function(t,a,n){console.assert(a,a),t.vals.text={},t.vals.text.texture=a,t.vals.text.layer=n,t.vals.text.displayedText=null,t.vals.text.inLayerDepth=0,t.vals.components[e.Name]=!0,t.vals.visualBase=t.vals.text}},{key:"SetText",value:function(e,t){e.vals.text.displayedText=t,e.baked&&(e.displayed.text=t)}},{key:"SetTextWithZeroPad",value:function(e,t,a){if(e.vals.text.displayedText=t,e.baked){var $gqyU$$interop$default=xb(Sf);var n=$gqyU$$interop$default.d.padLeft(t,a,"0");e.displayed.text=n}}},{key:"Bake",value:function(e){var t=fa.InBakeGetSceneFromLayerCfg(e),a=e.vals.text.displayedText;a||(a="00000");var n=t.make.bitmapText({x:0,y:0,font:e.vals.text.texture,text:a,add:!1},!1);n.setCenterAlign(),fa.InBakeAddDisplayedAndSetSelfRef(e,n),fa.SynchDisplayedToSavedTransformPosition(e)}},{key:"SetOriginMiddle",value:function(e){e.displayed.setOrigin(.5,.5)}},{key:"PostBake",value:function(e){}},{key:"Cleanup",value:function(e){}},{key:"Name",get:function(){return"BitmapText"}}]),e}();function No(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function ki(e,n){for(var t=0;t<n.length;t++){var a=n[t];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function Oo(e,n,t){return n&&ki(e.prototype,n),t&&ki(e,t),e}var Tf=function(){function e(){No(this,e)}return Oo(e,null,[{key:"InjectIntoActor",value:function(n,t,a,o){n.vals.zone={},n.vals.zone.layer=t,n.vals.zone.inLayerDepth=0,n.vals.zone.width=a,n.vals.zone.height=o,n.vals.components[e.Name]=!0,n.vals.visualBase=n.vals.zone}},{key:"Bake",value:function(e){var n=fa.InBakeGetSceneFromLayerCfg(e).make.zone({x:0,y:0,width:e.vals.zone.width,height:e.vals.zone.height,add:!1},!1);fa.InBakeAddDisplayedAndSetSelfRef(e,n),fa.SynchDisplayedToSavedTransformPosition(e)}},{key:"PostBake",value:function(e){}},{key:"Cleanup",value:function(e){}},{key:"Name",get:function(){return"ZoneComponent"}}]),e}();function Po(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function li(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Qo(e,n,t){return n&&li(e.prototype,n),t&&li(e,t),e}var Uf=function(){function e(){Po(this,e)}return Qo(e,null,[{key:"InjectIntoActor",value:function(n,t,r){Ta.CreateTriggerIfNotExisting(n,t),n.vals.actions.triggerOn[t].push({name:e.Name,tweenCfg:r}),n.vals.actions.dict[e.Name]=!0}},{key:"OnAct",value:function(e,n){var t=JSON.parse(JSON.stringify(n.tweenCfg));Db.tweenScaleTo(e,t)}},{key:"Name",get:function(){return"TweenScaleToAction"}}]),e}();function Ro(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function mi(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function So(e,n,t){return n&&mi(e.prototype,n),t&&mi(e,t),e}var Jc=function(){function e(){Ro(this,e)}return So(e,null,[{key:"InjectIntoActor",value:function(n,t,r){Ta.CreateTriggerIfNotExisting(n,t),n.vals.actions.triggerOn[t].push({name:e.Name,tweenCfg:r}),n.vals.actions.dict[e.Name]=!0}},{key:"OnAct",value:function(e,n){var t=JSON.parse(JSON.stringify(n.tweenCfg));Db.tweenPositionByDeltaTo(e,t)}},{key:"Name",get:function(){return"TweenPositionByDeltaTo"}}]),e}();function To(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ni(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function Uo(e,t,n){return t&&ni(e.prototype,t),n&&ni(e,n),e}var ab=function(){function e(){To(this,e)}return Uo(e,null,[{key:"InjectIntoActor",value:function(t,n,a){console.assert(n,n),t.vals.sprite={},t.vals.sprite.texture=n,t.vals.sprite.layer=a,t.vals.sprite.inLayerDepth=0,t.vals.components[e.Name]=!0,t.vals.visualBase=t.vals.sprite}},{key:"Bake",value:function(e){var t=fa.InBakeGetSceneFromLayerCfg(e).make.sprite({x:0,y:0,key:e.vals.sprite.texture,add:!1},!1);fa.InBakeAddDisplayedAndSetSelfRef(e,t),fa.SynchDisplayedToSavedTransformPosition(e)}},{key:"PostBake",value:function(e){}},{key:"Cleanup",value:function(e){}},{key:"Name",get:function(){return"Sprite"}}]),e}();var hc=800,Vo=function(){function e(){_h(this,e)}return bi(e,[{key:"mixTweenPositionYoYo",value:function(r,t,n){var o={_x:0,_y:20,_d:hc,ease:"Quadratic.In"};e.SmashDefaultPhaserConfigWithOverrides(o,n),Qf.InjectIntoActor(r,t,o)}},{key:"mixTweenPositionByDeltaFrom_ScreenTop",value:function(r,t,n){var o={_x:0,_y:-500,_d:hc};return e.SmashDefaultPhaserConfigWithOverrides(o,n),Ic.InjectIntoActor(r,t,o),r}},{key:"mixTweenPositionByDeltaTo_ScreenTop",value:function(r,t,n){var o={_x:0,_y:-500,_d:hc};return e.SmashDefaultPhaserConfigWithOverrides(o,n),Jc.InjectIntoActor(r,t,o),r}},{key:"mixTweenPositionByDeltaFrom_ScreenBottom",value:function(r,t,n){var o={_x:0,_y:500,_d:hc};return e.SmashDefaultPhaserConfigWithOverrides(o,n),Ic.InjectIntoActor(r,t,o),r}},{key:"mixTweenPositionByDeltaTo_ScreenBottom",value:function(r,t,n){var o={_x:0,_y:500,_d:hc};return e.SmashDefaultPhaserConfigWithOverrides(o,n),Jc.InjectIntoActor(r,t,o),r}},{key:"mixTweenAlphaTo",value:function(r,t,n){var o={alpha:1,_d:hc};return e.SmashDefaultPhaserConfigWithOverrides(o,n),Hc.InjectIntoActor(r,t,o),r}},{key:"mixTweenScaleTo",value:function(r,t,n,o,i,a){var $={_s:o,_d:hc,yoyo:i,repeat:a};return e.SmashDefaultPhaserConfigWithOverrides($,n),Uf.InjectIntoActor(r,t,$),r}}],[{key:"SmashDefaultPhaserConfigWithOverrides",value:function(e,r){for(var t in r)"y"!=t&&"x"!=t&&"d"!=t||console.warn("Reserved list keyword for tween used as a key: ",t),e[t]=r[t]}}]),e}(),Wo=new Vo,ga=function(){function e(){_h(this,e)}return bi(e,null,[{key:"GetActionMixerWithValues",value:function(){return Wo}},{key:"MixZoneActor",value:function(e,r,t,n,o,i,a){var $;return $=e||ra.GetEmptyActor(),oa.InjectIntoActor($,r,t),Tf.InjectIntoActor($,i,n,o),fa.SetInLayerDepth($,a),Fa.InjectIntoActor($),$}},{key:"MixSpriteActor",value:function(e,r,t,n,o,i){var a;return console.assert(n),a=e||ra.GetEmptyActor(),oa.InjectIntoActor(a,r,t),ab.InjectIntoActor(a,n,o),fa.SetInLayerDepth(a,i),a}},{key:"MixImageActor",value:function(e,r,t,n,o,i){var a;return a=e||ra.GetEmptyActor(),oa.InjectIntoActor(a,r,t),Ja.InjectIntoActor(a,n,o),fa.SetInLayerDepth(a,i),a}},{key:"MixFontActor",value:function(e,r,t,n,o,i){var a;return a=e||ra.GetEmptyActor(),oa.InjectIntoActor(a,r,t),Ga.InjectIntoActor(a,n,o),fa.SetInLayerDepth(a,i),a}},{key:"MixSpineObject",value:function(e,r,t,n,o,i,a,$){var c;return c=e||ra.GetEmptyActor(),oa.InjectIntoActor(c,r,t),Lb.InjectIntoActor(c,n,o,i,a),fa.SetInLayerDepth(c,$),c}},{key:"MixSpineAnimation",value:function(e){kb.InjectIntoActor(e),kb.EnableListenerCallbacks(e)}},{key:"MixSpineOneTimeAnimationAndDispose",value:function(e,r){kb.InjectIntoActor(e),kb.EnableListenerCallbacks(e);var t={};return t[r]=Fc,kd.InjectIntoActor(e,t),e}}]),e}();var Vf={};var Xo="VisualBaseComponent",fa=function(){function e(){Nn(this,e)}return On(e,null,[{key:"SetFromData",value:function(a,l){void 0!==l.scale&&e.SetScale(a,l.scale),void 0!==l.layer&&e.SetLayer(a,l.layer)}},{key:"SynchDisplayedToSavedTransformPosition",value:function(e){e.vals.x&&(e.displayed.x=e.vals.x),e.vals.y&&(e.displayed.y=e.vals.y)}},{key:"SetInLayerDepth",value:function(e,a){console.assert(e,"param:pActor is: ",e),console.assert(void 0!==e,"param:pInLayerDepth is: ",a),e.vals.visualBase.inLayerDepth=a,e.baked&&console.log("TODO ALLOW ACTOR TO CHANGE DEPTH AFTER BAKE")}},{key:"SetAlpha",value:function(e,a){e.vals.visualBase.alpha=a,e.baked&&e.displayed.setAlpha(e.vals.visualBase.alpha)}},{key:"SetLayer",value:function(e,a){e.vals.visualBase.layer=a}},{key:"SetAngle",value:function(e,a){e.vals.visualBase.angle=a,e.baked&&e.displayed.setAngle(e.vals.visualBase.angle)}},{key:"SetScale",value:function(e,a){e.vals.visualBase.scale=a,e.baked&&e.displayed.setScale(e.vals.visualBase.scale)}},{key:"SetVisible",value:function(e,a){e.vals.visualBase.visible=a,e.baked&&e.displayed.setVisible(e.vals.visualBase.visible)}},{key:"SetDisplaySize",value:function(e,a,l){e.vals.visualBase.displayWidth=a,e.vals.visualBase.displayHeight=l,e.baked&&(e.displayed.displayWidth=a,e.displayed.displayHeight=l)}},{key:"SetFlipX",value:function(e,a){e.vals.visualBase.flipX=a,e.baked&&(e.vals.components[Lb.Name]?e.displayed.scaleX=a?-1:1:e.displayed.setFlipX(a))}},{key:"InBakeAddDisplayedAndSetSelfRef",value:function(e,a){e.displayed=a;var l=Jf[e.vals.visualBase.layer];ta.GetLayerContainerLite(l,e.vals.visualBase.inLayerDepth).add(e.displayed),e.displayed.refSelfActor=e,null!=e.vals.visualBase.alpha&&e.displayed.setAlpha(e.vals.visualBase.alpha),null!=e.vals.visualBase.displayWidth&&null!=e.vals.visualBase.displayHeight&&(e.displayed.displayWidth=e.vals.visualBase.displayWidth,e.displayed.displayHeight=e.vals.visualBase.displayHeight),null!=e.vals.visualBase.angle&&e.displayed.setAngle(e.vals.visualBase.angle),null!=e.vals.visualBase.scale&&e.displayed.setScale(e.vals.visualBase.scale),null!=e.vals.visualBase.visible&&e.displayed.setVisible(e.vals.visualBase.visible),null!=e.vals.visualBase.flipX&&(e.vals.components[Lb.Name]?e.vals.visualBase.flipX?e.displayed.scaleX=-1:e.displayed.scaleX=1:e.displayed.setFlipX(e.vals.visualBase.flipX))}},{key:"InBakeGetSceneFromLayerCfg",value:function(e){var a=Jf[e.vals.visualBase.layer],l=ta.GetSceneNameByLayerName(a.layerName),s=$a.GetSceneByKey(l);return console.assert(s,"scene is: ",s," for args: ",e,a,l),s}},{key:"Cleanup",value:function(e){}},{key:"ReparentToLayer",value:function(e,a){var l=e.displayed.parentContainer.x,s=e.displayed.parentContainer.y;e.vals.visualBase.layer=a;var i=Jf[e.vals.visualBase.layer],n=ta.GetLayerContainerLite(i,e.vals.visualBase.inLayerDepth);e.displayed.x+=ta.GetValueScaledByReverseScreenScale(l-n.x),e.displayed.y+=ta.GetValueScaledByReverseScreenScale(s-n.y),n.add(e.displayed)}},{key:"GetActorFromDisplayObject",value:function(e){return e.refSelfActor}},{key:"BringToTop",value:function(e){e.displayed.parentContainer.bringToTop(e.displayed)}},{key:"SetFlipY",value:function(e,a){e.displayed.setFlipY(a)}},{key:"ChangeOrigin",value:function(e,a,l){e.displayed.setOrigin(a,l)}},{key:"GetDisplayWidth",value:function(e){return e.displayed.displayWidth}},{key:"GetDisplayHeight",value:function(e){return e.displayed.displayHeight}},{key:"ResizeWidth",value:function(e,a){e.displayed.displayWidth=a}},{key:"SetScaleX",value:function(e,a){e.displayed.setScale(a,e.displayed.scaleY)}},{key:"SetScaleY",value:function(e,a){e.displayed.setScale(e.displayed.scaleX,a)}},{key:"GetPosWithParentOffset",value:function(e){return{x:e.displayed.x+e.displayed.parentContainer.x,y:e.displayed.y+e.displayed.parentContainer.y}}},{key:"GetEntityLayerToWorldOffset",value:function(e){return{x:e.displayed.parentContainer.x,y:e.displayed.parentContainer.y}}},{key:"MoveByHalfOwnSizeInDir",value:function(e,a,l){return e.displayed.x=e.displayed.x+e.displayed.displayWidth/2*a,e.displayed.y=e.displayed.y+e.displayed.displayHeight/2*l,e}},{key:"MoveByXY",value:function(e,a,l){return e.displayed.x+=a,e.displayed.y+=l,e}},{key:"MoveToXY",value:function(e,a,l){return console.assert(!isNaN(a),"pX is: ",a),console.assert(!isNaN(l),"pY is: ",l),e.displayed.x=a,e.displayed.y=l,e}},{key:"GetBounds",value:function(e){if(Lb.Has(e)){Vf[e.vals.spine.layer]||(console.log("DOESNT HAVE BOUND HELPER"),Vf[e.vals.spine.layer]=ga.MixZoneActor(null,0,0,180,180,e.vals.spine.layer,0).bake());var a=Vf[e.vals.spine.layer],l=e.displayed.getBounds();return e.vals.spine.maxWidth<l.size.x&&(e.vals.spine.maxWidth=l.size.x),e.vals.spine.maxHeight<l.size.y&&(e.vals.spine.maxHeight=l.size.y),a.displayed.x=e.displayed.x,a.displayed.y=e.displayed.y,a.displayed.body.setSize(e.vals.spine.maxWidth,e.vals.spine.maxHeight,!0),a.displayed.getBounds()}return e.displayed.getBounds()}},{key:"IsActorOnScreen",value:function(a){var l=e.GetBounds(a),s=a.displayed.scene.cameras.main.worldView,i=new Phaser.Geom.Rectangle(s.x+Math.abs(ta.GetScreenData().relsvg.left),s.y,s.width,s.height),n=new Phaser.Geom.Rectangle(s.x,s.y,s.width,s.height),t=Phaser.Geom.Rectangle.ContainsRect(i,l);return t||(t=!0,l.y+l.height<i.y&&(t=!1),l.y>i.y+i.height&&(t=!1),l.x+l.width<i.x&&(t=!1),l.x-l.width>n.x+n.width&&(t=!1)),t}},{key:"Name",get:function(){return Xo}}]),e}();var kb=function(){function n(){Ln(this,n)}return Mn(n,null,[{key:"InjectIntoActor",value:function(a,e){a.vals.animation={},a.vals.animation.type="spine",a.vals.animation.cur=e,a.vals.components[n.Name]=!0}},{key:"Has",value:function(a){return!!a.vals.components[n.Name]}},{key:"SetAnimation",value:function(a,e,i){n.Has(a)?a.vals.animation.cur!=e&&(a.vals.animation.cur=e,i&&null!=i.loop?a.displayed.setAnimation(0,e,i.loop):a.displayed.setAnimation(0,e,!0)):console.warn("NO ANIMATION COMPONENT")}},{key:"GetAnimationName",value:function(n){return n.vals.animation.cur}},{key:"EnableListenerCallbacks",value:function(n){n.vals.animation.callbacksEnabled=!0}},{key:"Bake",value:function(n){}},{key:"PostBake",value:function(n){if(n.vals.animation.cur||(n.vals.animation.cur=n.vals.spine.baseAnimation),n.vals.animation.callbacksEnabled){var a=n.displayed;a.state.addListener({complete:function(n){fa.GetActorFromDisplayObject(this).triggerActions(Hf,{animationName:n.animation.name})}.bind(a)})}}},{key:"Cleanup",value:function(n){}},{key:"Name",get:function(){return"SpineAnimation"}}]),n}();var Td=function(){function a(){Jn(this,a)}return Kn(a,null,[{key:"Bake",value:function(a){}},{key:"PostBake",value:function(a){}},{key:"Cleanup",value:function(a){}},{key:"ChangeAnimation",value:function(a,e,n){"texture_swap"==a.vals.animation.type&&(console.assert(a.vals.animation.data[e],"No Data at key: ",e,a.vals.animation.data),a.vals.animation.data[e].texture?a.displayed.setTexture(a.vals.animation.data[e].texture):a.displayed.setTexture(a.vals.animation.data[e])),"spine"==a.vals.animation.type&&kb.SetAnimation(a,e,n)}},{key:"Name",get:function(){return"BaseAnimationComponent"}}]),a}();var Ub=function(){function n(){Hn(this,n)}return In(n,null,[{key:"InjectIntoActor",value:function(e,i,a,t){Ta.CreateTriggerIfNotExisting(e,i),e.vals.actions.triggerOn[i].push({name:n.Name,animationKey:a,animationData:t}),e.vals.actions.dict[n.Name]=!0}},{key:"OnAct",value:function(n,e,i){Td.ChangeAnimation(n,e.animationKey,e.animationData)}},{key:"Name",get:function(){return"ChangeAnimation"}}]),n}();function Yo(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function oi(e,r){for(var n=0;n<r.length;n++){var t=r[n];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(e,t.key,t)}}function Zo(e,r,n){return r&&oi(e.prototype,r),n&&oi(e,n),e}var pi=function(){function e(){Yo(this,e)}return Zo(e,null,[{key:"InjectIntoActor",value:function(r,n,t){Ta.CreateTriggerIfNotExisting(r,n),r.vals.actions.triggerOn[n].push({name:e.Name,data:t}),r.vals.actions.dict[e.Name]=!0}},{key:"OnAct",value:function(e,r,n){console.log(e,r,n)}},{key:"Name",get:function(){return"Log"}}]),e}();function $o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function qi(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _o(e,t,n){return t&&qi(e.prototype,t),n&&qi(e,n),e}var Eb=function(){function e(){$o(this,e)}return _o(e,null,[{key:"InjectIntoActor",value:function(t,n,r,i){Ta.CreateTriggerIfNotExisting(t,n),t.vals.actions.triggerOn[n].push({name:e.Name,dirX:r,dirY:i}),t.vals.actions.dict[e.Name]=!0}},{key:"OnAct",value:function(e,t){fa.MoveByHalfOwnSizeInDir(e,t.dirX,t.dirY)}},{key:"Name",get:function(){return"RepositionByHalfOwnSizeInDir"}}]),e}();function ap(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function ri(e,r){for(var o=0;o<r.length;o++){var n=r[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function bp(e,r,o){return r&&ri(e.prototype,r),o&&ri(e,o),e}function si(o,r){for(var a=0;a<r.length;a++){var e=r[a];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(o,e.key,e)}}function cp(o,r,a){return r&&si(o.prototype,r),a&&si(o,a),o}function ti(o,r){if(!(o instanceof r))throw new TypeError("Cannot call a class as a function")}var dp=function o(){ti(this,o),this.groups={},this.keys=[]},Kc=new dp,Ud=function(){function o(){ti(this,o)}return cp(o,null,[{key:"AddGroup",value:function(o,r){Kc.groups[r]=o.add.group(),Kc.keys.push(r)}},{key:"AddActor",value:function(r,a){if(Array.isArray(a))for(var e=0;e<a.length;e++)o._AddEntityToSingleGroup(r,a[e]);else o._AddEntityToSingleGroup(r,a)}},{key:"GetGroup",value:function(o){return console.assert(Kc.groups[o],"no group of name: ",o),Kc.groups[o]}},{key:"_AddEntityToSingleGroup",value:function(o,r){console.assert(Kc.groups[r],"no group of name: ",r),Kc.groups[r].add(o.displayed)}}]),o}();var bb=function(){function e(){ap(this,e)}return bp(e,null,[{key:"InjectIntoActor",value:function(r,o){r.vals.groups||(r.vals.groups=[]);for(var n=0;n<o.length;n++)r.vals.groups.push(o[n]);r.vals.components[e.Name]=!0}},{key:"Bake",value:function(e){Ud.AddActor(e,e.vals.groups)}},{key:"PostBake",value:function(e){}},{key:"Cleanup",value:function(e){}},{key:"Name",get:function(){return"Group"}}]),e}();function ep(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ui(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function fp(t,e,o){return e&&ui(t.prototype,e),o&&ui(t,o),t}var ic={tap:"tap"};function vi(a,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(a,r.key,r)}}function gp(a,e,n){return e&&vi(a.prototype,e),n&&vi(a,n),a}function wi(a,e){if(!(a instanceof e))throw new TypeError("Cannot call a class as a function")}var hp=function a(){wi(this,a),this.commands={}},Wf=new hp,Xa=function(){function a(){wi(this,a)}return gp(a,null,[{key:"RegisterCommand",value:function(a,e){Wf.commands[a]=e}},{key:"RunCommand",value:function(a,e){console.assert(Wf.commands[a],"no command key at: ",a),Wf.commands[a].run(e)}}]),a}();function xi(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function yi(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function zi(e,t,a){return t&&yi(e.prototype,t),a&&yi(e,a),e}function ip(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function Ai(e,r){for(var t=0;t<r.length;t++){var o=r[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function jp(e,r,t){return r&&Ai(e.prototype,r),t&&Ai(e,t),e}var kp=function(){function e(){ip(this,e)}return jp(e,null,[{key:"GetGUID",value:function(){return Kh()}}]),e}();var Xf="STATE_STATUS_UPDATING";var Yf="STATE_STATUS_EXITING";var nd="STATE_STATUS_INACTIVE";var Bi="STATE_STATUS_ENTERING";function lp(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ci(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function mp(e,t,i){return t&&Ci(e.prototype,t),i&&Ci(e,i),e}function Di(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function np(e,t,a){return t&&Di(e.prototype,t),a&&Di(e,a),e}function Ei(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var op=function e(){Ei(this,e),this.trackedTaps={},this.trackedButton=null,this.scene=null,this.globalPointerDownTime=0,this.swipe=null,this.keys={},this.cursorKeys=null},ua=new op,zb=function(){function e(){Ei(this,e)}return np(e,null,[{key:"SetGameScene",value:function(e){ua.scene=e,ua.cursorKeys=e.input.keyboard.createCursorKeys(),ua.keys.w=e.input.keyboard.addKey("w"),ua.keys.s=e.input.keyboard.addKey("s"),ua.keys.a=e.input.keyboard.addKey("a"),ua.keys.d=e.input.keyboard.addKey("d")}},{key:"AddSwipe",value:function(e){ua.swipe&&ua.swipe.destroy(),ua.swipe=ua.scene.rexGestures.add.swipe({threshold:35,velocityThreshold:10,workaroundEnabled:1,workaroundMaxTime:1e3}),ua.swipe.on("swipe",e)}},{key:"AddTrackedButton",value:function(e){ua.trackedButton||(ua.trackedButton=e)}},{key:"HasTrackedButton",value:function(){return!!ua.trackedButton}},{key:"NullifyTrackedButton",value:function(e){ua.trackedButton==e&&(ua.trackedButton=null)}},{key:"ResetTap",value:function(e){var t=!1;ua.scene.input.activePointer.isDown&&(t=!0),ua.trackedTaps[e]={tapped:!1,waitingOnUntap:t}}},{key:"GetTapState",value:function(e){return!ta.IsRotationScreenDisplayed()&&ua.trackedTaps[e].tapped}},{key:"Update",value:function(e,t){var a=ua.scene.input.activePointer.isDown;for(var n in ua.trackedTaps){var o=ua.trackedTaps[n];o.waitingOnUntap?a||(o.waitingOnUntap=!1):o.tapped=a}!a&&ua.trackedButton&&(ua.trackedButton._fnWorkaroundOnDisplayOut(),ua.trackedButton=null),a?ua.globalPointerDownTime+=t:ua.globalPointerDownTime=0}},{key:"IsGlobalPointerDownMoreThanAFrame",value:function(){return ua.globalPointerDownTime>50}},{key:"IsInputActive",value:function(){return!ta.IsRotationScreenDisplayed()||null}},{key:"GetPointer",value:function(){return ua.scene.input.activePointer}},{key:"GetPointerIfNotPressingButton",value:function(){return 0==e.HasTrackedButton()?ua.scene.input.activePointer:null}},{key:"GetPointerIfNotPressingButtonAndDown",value:function(){return 0==e.HasTrackedButton()&&ua.scene.input.activePointer.isDown?ua.scene.input.activePointer:null}},{key:"GetPointerCoordinatesScaled",value:function(){return{x:ta.GetValueScaledByReverseScreenScale(ua.scene.input.activePointer.x),y:ta.GetValueScaledByReverseScreenScale(ua.scene.input.activePointer.y)}}},{key:"GetPointerCoordinatesScaledAndAdjustedByActorLayerOffset",value:function(e){var t=fa.GetEntityLayerToWorldOffset(e);return{x:ta.GetValueScaledByReverseScreenScale(ua.scene.input.activePointer.x)-ta.GetValueScaledByReverseScreenScale(t.x),y:ta.GetValueScaledByReverseScreenScale(ua.scene.input.activePointer.y)-ta.GetValueScaledByReverseScreenScale(t.y)}}},{key:"IsKeyFromListDown",value:function(e){for(var t=0;t<e.length;t++){if(ua.keys[e[t]].isDown)return!0}return!1}}]),e}();var rb=function(){function e(){lp(this,e),this.scene=null,this.name=null,this.status=null,this.delayedFuncs=null,this.exitTimeDelayDefaultInMS=0,this.tickers=null}return mp(e,[{key:"initState",value:function(e,t){this.scene=e,this.name=t,this.status=nd,this.delayedFuncs=[],this.exitTimeDelayDefaultInMS=0,this.tickers={}}},{key:"me_Enter",value:function(){this.onEnterInstant(),this.markAsUpdating()}},{key:"me_Exit",value:function(){this.onExitInstant();var e=function(){this.onExitDelayed(),this._postExit()}.bind(this);na.AddDelayedFunctionToState(e,this.exitTimeDelayDefaultInMS,this.name)}},{key:"me_Update",value:function(e,t){for(var i in this.tickers){var n=this.tickers[i];n.cur<=n.max&&(n.cur+=t)}this.onUpdate(e,t)}},{key:"isInputForTapAndTickerValid",value:function(e,t){return!(0!=zb.HasTrackedButton()||!this.isTickerOverMax(e)||!zb.GetTapState(t))}},{key:"onUpdate",value:function(e,t){pa.GetGameRemix().passEventOnUpdate(this,e,t)}},{key:"onEnterInstant",value:function(){pa.GetGameRemix().passEventOnEnterInstant(this)}},{key:"onEnterDelayed",value:function(){}},{key:"onExitInstant",value:function(){pa.GetGameRemix().passEventOnExitInstant(this)}},{key:"onExitDelayed",value:function(){pa.GetGameRemix().passEventOnExitDelayed(this)}},{key:"_postExit",value:function(){this.markAsInactive()}},{key:"markAsUpdating",value:function(){this.status=Xf}},{key:"markAsExiting",value:function(){this.status=Yf}},{key:"markAsEntering",value:function(){this.status=Bi}},{key:"markAsInactive",value:function(){this.status=nd}},{key:"setExitDelayInMS",value:function(e){this.exitTimeDelayDefaultInMS=e}},{key:"getStateExitTimeInMs",value:function(){return console.assert(this.exitTimeDelayDefaultInMS,"State: "+this.name+" property: exitTimeDelayDefaultInMS is: ",this.exitTimeDelayDefaultInMS),this.exitTimeDelayDefaultInMS}},{key:"resetTicker",value:function(e,t){this.tickers[e]={cur:0,max:t}}},{key:"isTickerOverMax",value:function(e){return this.tickers[e].cur>=this.tickers[e].max}}]),e}();var pp=function(){function e(){xi(this,e),this._states={},this._statesKeys=[],this._queuedStatesToEnter=[],this._queuedStatesToExit=[]}return zi(e,[{key:"AddState",value:function(e){ma._states[e.name]=e,ma._statesKeys.push(e.name)}},{key:"ExitState",value:function(e,t){var a=function(){var t=ma._states[e];if(t.delayedFuncs.length>0){for(var a=[],n=0;n<t.delayedFuncs.length;n++){var o=t.delayedFuncs[n];o.delay=0,o.delay<=0&&a.push(o)}if(a.length>0)for(var s=0;s<a.length;s++){var i=a[s],r=t.delayedFuncs.indexOf(i);t.delayedFuncs.splice(r,1),i.f()}}}.bind(this);ma._states[e].status!=Yf&&ma._states[e].status!=nd&&(a(),ma._MarkStateAsExiting(e),ma._states[e].me_Exit()),1==t&&a()}},{key:"_MarkStateAsExiting",value:function(e){console.assert(e,"MoonEngineStateSystem->markStateAsUpdating:: stateName is: ",e),ma._states[e].markAsExiting()}},{key:"_MarkStateAsInactive",value:function(e){console.assert(e,"MoonEngineStateSystem->markStateAsInactive:: stateName is: ",e),ma._states[e].markAsInactive()}},{key:"_MarkStateAsUpdating",value:function(e){console.assert(e,"MoonEngineStateSystem->markStateAsUpdating:: stateName is: ",e),ma._states[e].markAsUpdating()}},{key:"_MarkStateAsEntering",value:function(e){console.assert(e,"MoonEngineStateSystem->markStateAsUpdating:: stateName is: ",e),ma._states[e].markAsEntering()}}]),e}(),ma=new pp,na=function(){function e(){xi(this,e)}return zi(e,null,[{key:"UpdateStates",value:function(e,t){for(var a=0;a<ma._statesKeys.length;a++){var n=ma._statesKeys[a],o=ma._states[n];if(o.delayedFuncs.length>0){for(var s=[],i=0;i<o.delayedFuncs.length;i++){var r=o.delayedFuncs[i];r.delay-=t,r.delay<=0&&s.push(r)}if(s.length>0)for(var $=0;$<s.length;$++){var S=s[$],v=o.delayedFuncs.indexOf(S);o.delayedFuncs.splice(v,1),S.f()}}o.status==Xf&&o.me_Update(e,t)}}},{key:"ExitQueuedStates",value:function(){if(ma._queuedStatesToExit.length>0){for(var e=0;e<ma._queuedStatesToExit.length;e++){var t=ma._queuedStatesToExit[e];ma.ExitState(t)}ma._queuedStatesToExit=[]}if(ma._queuedStatesToEnter.length>0)for(var a=0;a<ma._queuedStatesToEnter.length;a++){var n=ma._queuedStatesToEnter[a];console.assert(ma._states[n],"state of name: ",n," isn't defined in state system"),ma._states[n].status==Yf&&ma.ExitState(n,1)}}},{key:"EnterQueuedStates",value:function(){if(ma._queuedStatesToEnter.length>0){for(var e=0;e<ma._queuedStatesToEnter.length;e++){var t=ma._queuedStatesToEnter[e];ma._states[t].status==nd&&(ma._MarkStateAsEntering(t),ma._states[t].me_Enter())}ma._queuedStatesToEnter=[]}}},{key:"AddDelayedFunctionToState",value:function(e,t,a){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;ma._states[a].status==nd&&console.warn("unintended AddDelayedFunctionToState, because state is inactive!",a,n),console.assert(a),console.assert(ma._states[a],"StateName: "+a+" isn't valid state name - isnt't defined or there is a typo"),ma._states[a].delayedFuncs.push({f:e,delay:t,guid:kp.GetGUID(),tag:n})}},{key:"EnterState",value:function(e){console.assert(e,"MoonEngineStateSystem->EnterState:: stateName is: ",e),ma._queuedStatesToEnter.indexOf(e)<0&&ma._queuedStatesToEnter.push(e)}},{key:"ExitState",value:function(e){console.assert(e,"MoonEngineStateSystem->ExitState:: stateName is: ",e),ma._queuedStatesToExit.indexOf(e)<0&&ma._queuedStatesToExit.push(e)}},{key:"ResetState",value:function(e){console.assert(e,"MoonEngineStateSystem->ResetState:: stateName is: ",e),this.ExitState(e),this.EnterState(e)}},{key:"IsStateActive",value:function(e){return console.assert(e,"MoonEngineStateSystem->IsStateActive:: stateName is: ",e),ma._states[e].status==Bi||ma._states[e].status==Xf}},{key:"GetStateStatus",value:function(e){return console.assert(e,"MoonEngineStateSystem->GetStateStatus:: stateName is: ",e),ma._states[e].status}},{key:"GetStateExitTimeInMs",value:function(e){return ma._states[e].getStateExitTimeInMs()}},{key:"GetState",value:function(e){return console.assert(e,"MoonEngineStateSystem->GetState:: stateName is: ",e),ma._states[e]}},{key:"DefineState",value:function(e,t,a){console.assert(a instanceof rb,"MoonEngineStateSystem::DefineState-> aStateImpl is not of GameState subclass"),a.initState(e,t),ma.AddState(a)}}]),e}();var Vb={BASIC:"basic"};var qp={basic:function(){return{over:function(t){Db.tweenScaleTo(t,{_s:1.1,_d:100,ifTweens:"stop"})},out:function(t){Db.tweenScaleTo(t,{_s:1,_d:100,ifTweens:"stop"})},down:function(t){Db.tweenScaleTo(t,{_s:.9,_d:100,ifTweens:"stop"})},up:function(t){Db.tweenScaleTo(t,{_s:1,_d:100,ifTweens:"stop"})}}}};var Fi="ACT_BUTTON_DID_TOGGLE";var Gi="ACT_BUTTON_DISABLED";var Vd="ACT_BUTTON_TOGGLED_OFF";var Wd="ACT_BUTTON_TOGGLED_ON";var xa=function(){function t(){ep(this,t)}return fp(t,null,[{key:"InjectIntoActor",value:function(e,o,n){e.vals.button={},e.vals.button.requiredState=o,e.vals.button.visInteractionKey=n,e.vals.button.commands={},e.vals.button.pressed=!1,e.vals.button.type="simple",e.vals.button.disabled=!1,e.vals.components[t.Name]=!0}},{key:"InjectCommandOnUp",value:function(t,e,o){t.vals.button.commands.up={},t.vals.button.commands.up.commandKey=e,t.vals.button.commands.up.commandPayload=o}},{key:"SetAsToggle",value:function(t){t.vals.button.type="toggle",t.vals.button.toggleState=0,t.vals.button.toggle={},t.vals.button.toggle.positive={},t.vals.button.toggle.negative={}}},{key:"InjectSwapFromPositiveStateActionOnUp",value:function(t,e,o){t.vals.button.toggle.positive.up={},t.vals.button.toggle.positive.up.commandKey=e,t.vals.button.toggle.positive.up.commandPayload=o}},{key:"InjectSwapFromNegativeStateActionOnUp",value:function(t,e,o){t.vals.button.toggle.negative.up={},t.vals.button.toggle.negative.up.commandKey=e,t.vals.button.toggle.negative.up.commandPayload=o}},{key:"SetDisabled",value:function(t,e){e&&(t.triggerActions(Gi),t.displayed.disableInteractive())}},{key:"SetToggleStateWithoutTriggeringActions",value:function(e,o){console.assert(void 0!==o,"button toggle state param is: ",o),console.assert(null!==o,"button toggle state param is: ",o);var n=o;!0===n&&(n=1),!1===n&&(n=0),-1===n&&(n=0),e.vals.button.toggleState=n,t.SynchToggleState(e)}},{key:"SynchToggleState",value:function(t){1==t.vals.button.toggleState?(t.vals.button.commands.up={},t.vals.button.toggle.positive.up&&(t.vals.button.commands.up.commandKey=t.vals.button.toggle.positive.up.commandKey,t.vals.button.commands.up.commandPayload=t.vals.button.toggle.positive.up.commandPayload)):0==t.vals.button.toggleState?(t.vals.button.commands.up={},t.vals.button.toggle.negative.up&&(t.vals.button.commands.up.commandKey=t.vals.button.toggle.negative.up.commandKey,t.vals.button.commands.up.commandPayload=t.vals.button.toggle.negative.up.commandPayload)):console.warn("toggle button invalid state: ",t.vals.button.toggleState)}},{key:"GetToggleState",value:function(t){return t.vals.button.toggleState}},{key:"Bake",value:function(e){var o=null;e.vals.button.visInteractionKey&&(o=qp[e.vals.button.visInteractionKey]());var n=e.vals.button.commands;e.displayed.setInteractive(),e.displayed.on("pointerup",function(a,l,i,r){if(!ta.IsRotationScreenDisplayed()&&na.IsStateActive(this.refSelfActor.vals.button.requiredState)&&e.vals.button.pressed){e.vals.button.pressed=!1,o.up(this.refSelfActor),zb.NullifyTrackedButton(e);var u=Kb.IsMuted();0==u&&pa.GetGameRemix().playAudio(ic.tap),n&&n.up&&n.up.commandKey&&Xa.RunCommand(n.up.commandKey,n.up.commandPayload),"toggle"==e.vals.button.type&&(1==e.vals.button.toggleState?(e.vals.button.toggleState=0,e.triggerActions(Vd)):(e.vals.button.toggleState=1,e.triggerActions(Wd)),t.SynchToggleState(e),e.triggerActions(Fi)),u&&0==Kb.IsMuted()&&pa.GetGameRemix().playAudio(ic.tap)}}),e.displayed.on("pointerdown",function(){ta.IsRotationScreenDisplayed()||na.IsStateActive(this.refSelfActor.vals.button.requiredState)&&(e.vals.button.pressed=!0,zb.AddTrackedButton(e),o.down(this.refSelfActor),n&&n.down&&Xa.RunCommand(n.down.commandKey,n.down.commandPayload))}),e.displayed.on("pointerover",function(){ta.IsRotationScreenDisplayed()||e.vals.button.pressed||na.IsStateActive(this.refSelfActor.vals.button.requiredState)&&(zb.IsGlobalPointerDownMoreThanAFrame()||(o.over(this.refSelfActor),n&&n.over&&Xa.RunCommand(n.over.commandKey,n.over.commandPayload)))}),e.displayed.on("pointerout",function(){ta.IsRotationScreenDisplayed()||e.vals.button.pressed||na.IsStateActive(this.refSelfActor.vals.button.requiredState)&&(o.out(this.refSelfActor),n&&n.out&&Xa.RunCommand(n.out.commandKey,n.out.commandPayload))}),e._fnWorkaroundOnDisplayOut=function(){e.vals.button.pressed=!1,o.out(e)}}},{key:"PostBake",value:function(t){"toggle"==t.vals.button.type&&(1==t.vals.button.toggleState?t.triggerActions(Wd):t.triggerActions(Vd),t.triggerActions(Fi))}},{key:"Pause",value:function(){}},{key:"Unpause",value:function(){}},{key:"Cleanup",value:function(t){zb.NullifyTrackedButton(t),t.displayed.removeInteractive(),t._fnWorkaroundOnDisplayOut=null}},{key:"Name",get:function(){return"Button"}}]),t}();function rp(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function Hi(e,n){for(var a=0;a<n.length;a++){var r=n[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function sp(e,n,a){return n&&Hi(e.prototype,n),a&&Hi(e,a),e}var za=function(){function e(){rp(this,e)}return sp(e,null,[{key:"InjectIntoActor",value:function(n,a,r,t,o){n.vals["mm_"+a]={},n.vals["mm_"+a].cur=r,n.vals["mm_"+a].min=t,n.vals["mm_"+a].max=o,n.vals.components[e.Name]=!0}},{key:"GetValue",value:function(e,n){return e.vals["mm_"+n].cur}},{key:"SetCurValue",value:function(e,n,a){e.vals["mm_"+n].cur=a}},{key:"Bake",value:function(e){}},{key:"PostBake",value:function(e){}},{key:"Cleanup",value:function(e){}},{key:"Name",get:function(){return"MinMaxValue"}}]),e}();function tp(e,l){if(!(e instanceof l))throw new TypeError("Cannot call a class as a function")}function Ii(e,l){for(var t=0;t<l.length;t++){var a=l[t];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function up(e,l,t){return l&&Ii(e.prototype,l),t&&Ii(e,t),e}function vp(t){return(vp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function wp(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ji(t,e){for(var r=0;r<e.length;r++){var o=e[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function xp(t,e,r){return e&&Ji(t.prototype,e),r&&Ji(t,r),t}function Xd(t,e,r){return(Xd="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,r){var o=yp(t,e);if(o){var n=Object.getOwnPropertyDescriptor(o,e);return n.get?n.get.call(r):n.value}})(t,e,r||t)}function yp(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=jc(t)););return t}function zp(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Ap(t,e)}function Ap(t,e){return(Ap=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Bp(t){var e=Ep();return function(){var r,o=jc(t);if(e){var n=jc(this).constructor;r=Reflect.construct(o,arguments,n)}else r=o.apply(this,arguments);return Cp(this,r)}}function Cp(t,e){return!e||"object"!==vp(e)&&"function"!=typeof e?Dp(t):e}function Dp(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Ep(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function jc(t){return(jc=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Fp(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ki(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function Gp(t,e,i){return e&&Ki(t.prototype,e),i&&Ki(t,i),t}var Li=Phaser.Utils.Objects.GetValue,od=function(){function t(e,i){Fp(this,t),this.parent=e,this._isRunning=!1,this.tickingState=!1,this.setEventEmitter(Li(i,"eventEmitter",void 0)),this.setTickingMode(Li(i,"tickingMode",1))}return Gp(t,[{key:"boot",value:function(){2!==this.tickingMode||this.tickingState||this.startTicking()}},{key:"shutdown",value:function(){this.destroyEventEmitter(),this.tickingState&&this.stopTicking()}},{key:"setTickingMode",value:function(t){"string"==typeof t&&(t=Hp[t]),this.tickingMode=t}},{key:"startTicking",value:function(){this.tickingState=!0}},{key:"stopTicking",value:function(){this.tickingState=!1}},{key:"start",value:function(){return this.isRunning=!0,this}},{key:"pause",value:function(){return this.isRunning=!1,this}},{key:"resume",value:function(){return this.isRunning=!0,this}},{key:"stop",value:function(){return this.isRunning=!1,this}},{key:"complete",value:function(){this.isRunning=!1,this.emit("complete",this.parent,this)}},{key:"isRunning",get:function(){return this._isRunning},set:function(t){this._isRunning!==t&&(this._isRunning=t,1===this.tickingMode&&t!=this.tickingState&&(t?this.startTicking():this.stopTicking()))}}]),t}();Object.assign(od.prototype,gd);var Hp={no:0,lazy:1,always:2};var Ip={setParent:function(e){return this.gameObject=e,this.scene=e.scene,this},setCascadeMode:function(e){return this.cascadeMode=e,this},bodySetVelocity:function(e,t){var a=this.gameObject.body,c=a.velocity.x,o=a.velocity.y;this.cascaseMode&&(e+=c,t+=o),e===c&&t===o||a.setVelocity(e,t)},bodySetAcceleration:function(e,t){var a=this.gameObject.body,c=a.acceleration.x,o=a.acceleration.y;this.cascaseMode&&(e+=c,t+=o),e===c&&t===o||a.setAcceleration(e,t)},bodySetGravity:function(e,t){var a=this.gameObject.body,c=a.gravity.x,o=a.gravity.y;this.cascaseMode&&(e+=c,t+=o),e===c&&t===o||a.setAcceleration(e,t)},bodySetAngularVelocity:function(e){var t=this.gameObject.body,a=t.angularVelocity;this.cascaseMode&&(e+=a),e!==a&&t.setAngularVelocity(e)},bodySetAngularAcceleration:function(e){var t=this.gameObject.body,a=t.angularAcceleration;this.cascaseMode&&(e+=a),e!==a&&t.setAngularAcceleration(e)}};var Zf=Phaser.Utils.Objects.GetValue,$f=function(t){zp(r,od);var e=Bp(r);function r(t,o){var n;return wp(this,r),(n=e.call(this,t,o)).setParent(t),n.resetFromJSON(o),n.boot(),n}return xp(r,[{key:"resetFromJSON",value:function(t){return this.body||this.scene.physics.add.existing(this.gameObject,!1),this.setCascadeMode(Zf(t,"cascade",!1)),this.setEnable(Zf(t,"enable",!0)),this.setSpeed(Zf(t,"speed",200)),this}},{key:"toJSON",value:function(){return{tickingMode:this.tickingMode}}},{key:"boot",value:function(){Xd(jc(r.prototype),"boot",this).call(this),this.gameObject.once&&this.gameObject.on("destroy",this.destroy,this)}},{key:"shutdown",value:function(){Xd(jc(r.prototype),"shutdown",this).call(this),this.gameObject=void 0,this.scene=void 0}},{key:"destroy",value:function(){this.shutdown()}},{key:"startTicking",value:function(){Xd(jc(r.prototype),"startTicking",this).call(this),this.scene.events.on("preupdate",this.preupdate,this)}},{key:"stopTicking",value:function(){Xd(jc(r.prototype),"stopTicking",this).call(this),this.scene&&this.scene.events.off("preupdate",this.preupdate,this)}},{key:"setEnable",value:function(t){return null==t&&(t=!0),this.enable=t,this}},{key:"setSpeed",value:function(t){return this.speed=t,this}},{key:"preupdate",value:function(t,e){if(!this.enable)return this.bodySetVelocity(0,0),this;var r=this.gameObject.rotation,o=this.speed*Math.cos(r),n=this.speed*Math.sin(r);return this.bodySetVelocity(o,n),this}},{key:"enable",get:function(){return this.isRunning},set:function(t){this.isRunning=t,t||this.bodySetVelocity(0,0)}}]),r}();Object.assign($f.prototype,Ip);var lb=function(){function e(){tp(this,e)}return up(e,null,[{key:"InjectIntoActor",value:function(l,t){l.vals.rexBullet={},l.vals.rexBullet.data=t,l.vals.rexBullet.enabledState=!0,l.vals.components[e.Name]=!0}},{key:"SetEnable",value:function(e,l){e.baked&&e.plugins.rexBullet.setEnable(l),e.vals.rexBullet.enabledState=l}},{key:"SetSpeed",value:function(e,l){e.vals.rexBullet.data.speed=l,e.baked&&(e.plugins.rexBullet.speed=l)}},{key:"GetSpeed",value:function(e){return e.plugins.rexBullet.speed}},{key:"Bake",value:function(e){e.plugins.rexBullet=new $f(e.displayed,e.vals.rexBullet.data)}},{key:"PostBake",value:function(l){e.SetEnable(l,l.vals.rexBullet.enabledState)}},{key:"Cleanup",value:function(e){}},{key:"Name",get:function(){return"RexBullet"}}]),e}();function Jp(e,o){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}function Mi(e,o){for(var t=0;t<o.length;t++){var n=o[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Kp(e,o,t){return o&&Mi(e.prototype,o),t&&Mi(e,t),e}function Lp(t){return(Lp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Mp(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ni(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function Np(t,e,r){return e&&Ni(t.prototype,e),r&&Ni(t,r),t}function pd(t,e,r){return(pd="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,r){var n=Op(t,e);if(n){var a=Object.getOwnPropertyDescriptor(n,e);return a.get?a.get.call(r):a.value}})(t,e,r||t)}function Op(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Wb(t)););return t}function Pp(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Qp(t,e)}function Qp(t,e){return(Qp=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Rp(t){var e=Up();return function(){var r,n=Wb(t);if(e){var a=Wb(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return Sp(this,r)}}function Sp(t,e){return!e||"object"!==Lp(e)&&"function"!=typeof e?Tp(t):e}function Tp(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Up(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function Wb(t){return(Wb=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Mb=Phaser.Utils.Objects.GetValue,Vp=Phaser.Math.Distance.Between,Oi=Phaser.Math.Linear,Wp=Phaser.Math.Angle.Between,Pi=function(t){Pp(r,od);var e=Rp(r);function r(t,n){var a;return Mp(this,r),(a=e.call(this,t,n)).gameObject=t,a.scene=Kd(t),a.resetFromJSON(n),a.boot(),a}return Np(r,[{key:"resetFromJSON",value:function(t){return this.isRunning=Mb(t,"isRunning",!1),this.setEnable(Mb(t,"enable",!0)),this.timeScale=Mb(t,"timeScale",1),this.setSpeed(Mb(t,"speed",400)),this.setRotateToTarget(Mb(t,"rotateToTarget",!1)),this.targetX=Mb(t,"targetX",0),this.targetY=Mb(t,"targetY",0),this}},{key:"toJSON",value:function(){return{isRunning:this.isRunning,enable:this.enable,timeScale:this.timeScale,speed:this.speed,rotateToTarget:this.rotateToTarget,targetX:this.targetX,targetY:this.targetY,tickingMode:this.tickingMode}}},{key:"boot",value:function(){pd(Wb(r.prototype),"boot",this).call(this),this.gameObject.once&&this.gameObject.on("destroy",this.destroy,this)}},{key:"shutdown",value:function(){pd(Wb(r.prototype),"shutdown",this).call(this),this.gameObject=void 0,this.scene=void 0}},{key:"destroy",value:function(){this.shutdown()}},{key:"startTicking",value:function(){pd(Wb(r.prototype),"startTicking",this).call(this),this.scene.events.on("update",this.update,this)}},{key:"stopTicking",value:function(){pd(Wb(r.prototype),"stopTicking",this).call(this),this.scene&&this.scene.events.off("update",this.update,this)}},{key:"setEnable",value:function(t){return null==t&&(t=!0),this.enable=t,this}},{key:"setSpeed",value:function(t){return this.speed=t,this}},{key:"setRotateToTarget",value:function(t){return this.rotateToTarget=t,this}},{key:"moveTo",value:function(t,e){if("number"!=typeof t){var n=t;t=Mb(n,"x",void 0),e=Mb(n,"y",void 0)}return null==t||null==e?this:(this.targetX=t,this.targetY=e,pd(Wb(r.prototype),"start",this).call(this),this)}},{key:"update",value:function(t,e){if(!this.isRunning||!this.enable)return this;var r=this.gameObject,n=r.x,a=r.y,o=this.targetX,u=this.targetY;if(n===o&&a===u)return this.complete(),this;if(0===this.speed||0===e||0===this.timeScale)return this;var i,$,s=e*this.timeScale/1e3,c=this.speed*s,l=Vp(n,a,o,u);if(c<l){var f=c/l;i=Oi(n,o,f),$=Oi(a,u,f)}else i=o,$=u;return r.setPosition(i,$),this.rotateToTarget&&(r.rotation=Wp(n,a,i,$)),this}}]),r}();var _f=function(){function e(){Jp(this,e)}return Kp(e,null,[{key:"InjectIntoActor",value:function(o,t){o.vals.rexMoveTo={},o.vals.rexMoveTo.data=t,o.vals.components[e.Name]=!0}},{key:"Bake",value:function(e){e.plugins.rexMoveTo=new Pi(e.displayed,e.vals.rexMoveTo.data)}},{key:"PostBake",value:function(e){}},{key:"SetSpeed",value:function(e,o){e.plugins.rexMoveTo.setSpeed(o)}},{key:"Cleanup",value:function(e){}},{key:"Name",get:function(){return"RexMoveToPlugin"}}]),e}();function Xp(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function Qi(e,n){for(var a=0;a<n.length;a++){var t=n[a];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(e,t.key,t)}}function Yp(e,n,a){return n&&Qi(e.prototype,n),a&&Qi(e,a),e}var Aa=function(){function e(){Xp(this,e)}return Yp(e,null,[{key:"InjectIntoActor",value:function(n,a,t){n.vals["s_"+a]=t,n.vals.components[e.Name]=!0}},{key:"SetValue",value:function(e,n,a){e.vals["s_"+n]=a}},{key:"GetValue",value:function(e,n){return e.vals["s_"+n]}},{key:"HasValue",value:function(e,n){return null!=e.vals["s_"+n]}},{key:"Bake",value:function(e){}},{key:"PostBake",value:function(e){}},{key:"Cleanup",value:function(e){}},{key:"Name",get:function(){return"SimpleValue"}}]),e}();function Zp(e,a){if(!(e instanceof a))throw new TypeError("Cannot call a class as a function")}function Ri(e,a){for(var n=0;n<a.length;n++){var r=a[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function $p(e,a,n){return a&&Ri(e.prototype,a),n&&Ri(e,n),e}var Ya=function(){function e(){Zp(this,e)}return $p(e,null,[{key:"InjectIntoActor",value:function(a,n){a.vals.tags||(a.vals.tags=[]);for(var r=0;r<n.length;r++)a.vals.tags.push(n[r]);a.vals.components[e.Name]=!0}},{key:"Bake",value:function(e){}},{key:"PostBake",value:function(e){}},{key:"Cleanup",value:function(e){}},{key:"HasTag",value:function(e,a){return e.vals.tags.indexOf(a)>-1}},{key:"Name",get:function(){return"Tag"}}]),e}();function _p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Si(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function aq(e,t,n){return t&&Si(e.prototype,t),n&&Si(e,n),e}var Ti="transform",ag="TileComponent";var Ui=function(){function e(){_p(this,e)}return aq(e,null,[{key:"InjectIntoActor",value:function(e,t,n){e.vals.tile={},e.vals.tile.tx=t,e.vals.tile.ty=n,e.vals.tile.tOffX=0,e.vals.tile.tOffY=0,e.vals.tile.l=0,e.vals.components[ag]=!0}},{key:"SetLayer",value:function(e,t){e.vals.tile.l=t}},{key:"GetLayer",value:function(e){return e.vals.tile.l}},{key:"SetOffset",value:function(e,t,n){e.vals.tile.tOffX=t,e.vals.tile.tOffY=n}},{key:"GetOffsetX",value:function(e){return e.vals.tile.tOffX}},{key:"GetOffsetY",value:function(e){return e.vals.tile.tOffY}},{key:"GetX",value:function(e){return e.vals.tile.tx}},{key:"GetY",value:function(e){return e.vals.tile.ty}},{key:"SetXY",value:function(e,t,n){e.vals.tile.tx=t,e.vals.tile.ty=n}},{key:"Bake",value:function(e){}},{key:"PostBake",value:function(e){}},{key:"Cleanup",value:function(e){}},{key:"Has",value:function(e){return 1==e.vals.components[ag]}},{key:"SetEnabled",value:function(e,t){e.vals[Ti].enabled=t}},{key:"IsEnabled",value:function(e){return e.vals[Ti].enabled}},{key:"Name",get:function(){return ag}}]),e}();function bq(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function Vi(e,n){for(var l=0;l<n.length;l++){var a=n[l];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function cq(e,n,l){return n&&Vi(e.prototype,n),l&&Vi(e,l),e}function dq(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function Wi(e,n){for(var l=0;l<n.length;l++){var a=n[l];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function eq(e,n,l){return n&&Wi(e.prototype,n),l&&Wi(e,l),e}var Xi=function(){function e(){dq(this,e)}return eq(e,null,[{key:"Add",value:function(e){ia.InjectIntoActor(e,"__bounceAngleBetweenValuesSys")}},{key:"Update",value:function(e){for(var n=ha.GetBagItemsList("__bounceAngleBetweenValuesSys"),l=0;l<n.length;l++){var a=n[l];if(fa.IsActorOnScreen(a)&&a.vals.bounceAngleBetweenValues.enabled){var r=a.vals.bounceAngleBetweenValues.angleChangeSpeed*a.vals.bounceAngleBetweenValues.angleChangeSpeedMultiplier*(e/1e3);a.displayed.angle+=r*a.vals.bounceAngleBetweenValues.angleChangeDir,a.vals.bounceAngleBetweenValues.curDiff+=r,a.vals.bounceAngleBetweenValues.curDiff>=2*a.vals.bounceAngleBetweenValues.maxDiff&&(a.vals.bounceAngleBetweenValues.curDiff=0,sb.SwapAngleDir(a))}}}}]),e}();var sb=function(){function e(){bq(this,e)}return cq(e,null,[{key:"InjectIntoActor",value:function(n,l,a,u){n.vals.bounceAngleBetweenValues||(n.vals.bounceAngleBetweenValues={}),n.vals.bounceAngleBetweenValues.angleChangeSpeed=l,n.vals.bounceAngleBetweenValues.angleChangeSpeedMultiplier=1,n.vals.bounceAngleBetweenValues.angleChangeDir=a,n.vals.bounceAngleBetweenValues.maxDiff=u,n.vals.bounceAngleBetweenValues.curDiff=0,n.vals.bounceAngleBetweenValues.enabled=!0,n.vals.bounceAngleBetweenValues.opt={},n.vals.components[e.Name]=!0}},{key:"Has",value:function(n){return 1==n.vals.components[e.Name]}},{key:"SetEnabled",value:function(e,n){e.vals.bounceAngleBetweenValues.enabled=n}},{key:"SetOptAngleSpeedDecoupled",value:function(e,n,l){e.vals.bounceAngleBetweenValues.opt.angleChangeSpeedWhenPositive=n,e.vals.bounceAngleBetweenValues.opt.angleChangeSpeedWhenNegative=l}},{key:"IsEnabled",value:function(e){return e.vals.bounceAngleBetweenValues.enabled}},{key:"Bake",value:function(e){Xi.Add(e)}},{key:"PostBake",value:function(e){e.vals.bounceAngleBetweenValues.baseAngle=e.displayed.angle,e.vals.bounceAngleBetweenValues.curDiff=e.vals.bounceAngleBetweenValues.maxDiff}},{key:"Reset",value:function(e){if(1==e.vals.bounceAngleBetweenValues.angleChangeDir){var n=e.displayed.angle,l=e.vals.bounceAngleBetweenValues.baseAngle-e.vals.bounceAngleBetweenValues.maxDiff;e.vals.bounceAngleBetweenValues.curDiff=n-l}else{var a=e.displayed.angle,u=e.vals.bounceAngleBetweenValues.baseAngle+e.vals.bounceAngleBetweenValues.maxDiff;e.vals.bounceAngleBetweenValues.curDiff=u-a}}},{key:"SetAngleChangeDir",value:function(n,l){n.vals.bounceAngleBetweenValues.angleChangeDir=l,e.Reset(n)}},{key:"SetAngleSpeedMultiplier",value:function(e,n){e.vals.bounceAngleBetweenValues.angleChangeSpeedMultiplier=n}},{key:"SwapAngleDir",value:function(e){e.vals.bounceAngleBetweenValues.angleChangeDir*=-1,1==e.vals.bounceAngleBetweenValues.angleChangeDir?null!=e.vals.bounceAngleBetweenValues.opt.angleChangeSpeedWhenPositive&&(e.vals.bounceAngleBetweenValues.angleChangeSpeed=e.vals.bounceAngleBetweenValues.opt.angleChangeSpeedWhenPositive):null!=e.vals.bounceAngleBetweenValues.opt.angleChangeSpeedWhenNegative&&(e.vals.bounceAngleBetweenValues.angleChangeSpeed=e.vals.bounceAngleBetweenValues.opt.angleChangeSpeedWhenNegative)}},{key:"Cleanup",value:function(e){}},{key:"Name",get:function(){return"BounceAngleBetweenValues"}}]),e}();function fq(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function Yi(e,n){for(var t=0;t<n.length;t++){var a=n[t];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function gq(e,n,t){return n&&Yi(e.prototype,n),t&&Yi(e,t),e}function hq(e,a){if(!(e instanceof a))throw new TypeError("Cannot call a class as a function")}function Zi(e,a){for(var l=0;l<a.length;l++){var i=a[l];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function iq(e,a,l){return a&&Zi(e.prototype,a),l&&Zi(e,l),e}var $i=function(){function e(){hq(this,e)}return iq(e,null,[{key:"Add",value:function(e){ia.InjectIntoActor(e,"__lifetimeSys")}},{key:"Update",value:function(e){for(var a=ha.GetBagItemsList("__lifetimeSys"),l=0;l<a.length;l++){var i=a[l];null!=i.vals.lifetime.delay&&i.vals.lifetime.delay>0?i.vals.lifetime.delay-=e:(null!=i.vals.lifetime.alphaChangePerSecond&&0!=i.vals.lifetime.alphaChangePerSecond&&(i.displayed.alpha+=i.vals.lifetime.alphaChangePerSecond*(e/1e3)),null!=i.vals.lifetime.scaleChangePerSecond&&0!=i.vals.lifetime.scaleChangePerSecond&&(i.displayed.scale+=i.vals.lifetime.scaleChangePerSecond*(e/1e3),i.displayed.scale<=0&&(i.displayed.scale=0)),i.vals.lifetime.cur+=e,i.vals.lifetime.cur>=i.vals.lifetime.max&&Da.queueEntity(i))}}}]),e}();var Nb=function(){function e(){fq(this,e)}return gq(e,null,[{key:"InjectIntoActor",value:function(n,t){n.vals.lifetime||(n.vals.lifetime={}),n.vals.lifetime.max=t,n.vals.lifetime.cur=0,n.vals.components[e.Name]=!0}},{key:"SetAlphaChangePerSecond",value:function(e,n){e.vals.lifetime.alphaChangePerSecond=n}},{key:"SetScaleChangePerSecond",value:function(e,n){e.vals.lifetime.scaleChangePerSecond=n}},{key:"SetDelay",value:function(e,n){e.vals.lifetime.delay=n}},{key:"Bake",value:function(e){$i.Add(e)}},{key:"PostBake",value:function(e){}},{key:"Cleanup",value:function(e){}},{key:"Name",get:function(){return"LifetimeComponent"}}]),e}();function jq(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function _i(e,n){for(var t=0;t<n.length;t++){var a=n[t];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function kq(e,n,t){return n&&_i(e.prototype,n),t&&_i(e,t),e}function lq(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}function aj(r,e){for(var t=0;t<e.length;t++){var a=e[t];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(r,a.key,a)}}function mq(r,e,t){return e&&aj(r.prototype,e),t&&aj(r,t),r}var bj=function(){function r(){lq(this,r)}return mq(r,null,[{key:"Add",value:function(r){for(var e in r.vals.tickingActions)ia.InjectIntoActor(r,"__tickTaskActionSys_"+e)}},{key:"Update",value:function(r,e){for(var t=ha.GetBagItemsList("__tickTaskActionSys_"+r),a=0;a<t.length;a++){t[a].triggerActions(r,e)}}}]),r}();var Lc=function(){function e(){jq(this,e)}return kq(e,null,[{key:"InjectIntoActor",value:function(n,t){n.vals.tickingActions||(n.vals.tickingActions={}),n.vals.tickingActions[t]={},n.vals.tickingActions[t].tag=t,n.vals.components[e.Name]=!0}},{key:"Bake",value:function(e){bj.Add(e)}},{key:"PostBake",value:function(e){}},{key:"Cleanup",value:function(e){}},{key:"Name",get:function(){return"TickTaskAction"}}]),e}();function nq(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function cj(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function oq(e,t,n){return t&&cj(e.prototype,t),n&&cj(e,n),e}function pq(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function dj(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function qq(e,r,t){return r&&dj(e.prototype,r),t&&dj(e,t),e}var Yd=function(){function e(){pq(this,e)}return qq(e,null,[{key:"Add",value:function(e){for(var r in e.vals.timedActions)ia.InjectIntoActor(e,"__timedActionSys_"+r)}},{key:"Update",value:function(e,r){for(var t=ha.GetBagItemsList("__timedActionSys_"+e),n=0;n<t.length;n++){var a=t[n],i=a.vals.timedActions[e];(-1==i.repeatTimes||i.repeatTimes>0)&&(i.curTick+=r,i.curTick>=i.maxTick&&(i.curTick=0,i.repeatTimes>0&&(i.repeatTimes-=1),i.sequence.length>1&&(i.curIndex+=1,i.curIndex>=i.sequence.length&&(i.curIndex=0),i.maxTick=i.sequence[i.curIndex]),a.triggerActions(i.actDispatchedOnMaxTick)))}}}]),e}();var tb=function(){function e(){nq(this,e)}return oq(e,null,[{key:"InjectIntoActor",value:function(t,n,i,a,o){console.assert(o,"param pActToDispatch is: ",o),t.vals.timedActions||(t.vals.timedActions={}),t.vals.timedActions[n]={},t.vals.timedActions[n].tag=n,t.vals.timedActions[n].curTick=i,Array.isArray(a)?t.vals.timedActions[n].sequence=a:t.vals.timedActions[n].sequence=[a],t.vals.timedActions[n].maxTick=t.vals.timedActions[n].sequence[0],t.vals.timedActions[n].curIndex=0,t.vals.timedActions[n].actDispatchedOnMaxTick=o,t.vals.timedActions[n].repeatTimes=-1,t.vals.components[e.Name]=!0}},{key:"SetRepeatTimes",value:function(e,t,n){e.vals.timedActions[t].repeatTimes=n}},{key:"Bake",value:function(e){Yd.Add(e)}},{key:"PostBake",value:function(e){}},{key:"Cleanup",value:function(e){}},{key:"Name",get:function(){return"TimedAction"}}]),e}();function rq(t){return(rq="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function sq(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ej(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function tq(t,e,r){return e&&ej(t.prototype,e),r&&ej(t,r),t}function uq(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&vq(t,e)}function vq(t,e){return(vq=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function wq(t){var e=zq();return function(){var r,n=fj(t);if(e){var o=fj(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return xq(this,r)}}function xq(t,e){return!e||"object"!==rq(e)&&"function"!=typeof e?yq(t):e}function yq(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function zq(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function fj(t){return(fj=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Ob=function(t){uq(r,Td);var e=wq(r);function r(){return sq(this,r),e.apply(this,arguments)}return tq(r,null,[{key:"InjectIntoActor",value:function(t,e){t.vals.animation={},t.vals.animation.data=e,t.vals.animation.type="texture_swap",t.vals.components[r.Name]=!0}},{key:"Bake",value:function(t){}},{key:"PostBake",value:function(t){}},{key:"Cleanup",value:function(t){}},{key:"Name",get:function(){return"TextureSwapAnimation"}}]),r}();function Aq(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function gj(e,n){for(var r=0;r<n.length;r++){var a=n[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function Bq(e,n,r){return n&&gj(e.prototype,n),r&&gj(e,r),e}var hj=function(){function e(){Aq(this,e)}return Bq(e,[{key:"run",value:function(e){console.log(e)}},{key:"name",value:function(){return e.Name}}],[{key:"Name",get:function(){return"CmdLog"}}]),e}();function Cq(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function ij(e,r){for(var a=0;a<r.length;a++){var n=r[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Dq(e,r,a){return r&&ij(e.prototype,r),a&&ij(e,a),e}var bg=function(){function e(){Cq(this,e)}return Dq(e,[{key:"run",value:function(e){Kb.MuteAudioManuallyByUser()}},{key:"name",value:function(){return e.Name}}],[{key:"Name",get:function(){return"CmdMuteAudio"}}]),e}();function Eq(e,a){if(!(e instanceof a))throw new TypeError("Cannot call a class as a function")}function jj(e,a){for(var n=0;n<a.length;n++){var r=a[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Fq(e,a,n){return a&&jj(e.prototype,a),n&&jj(e,n),e}var cg=function(){function e(){Eq(this,e)}return Fq(e,[{key:"run",value:function(e){pa.GetGameRemix().tryCallPause()}},{key:"name",value:function(){return e.Name}}],[{key:"Name",get:function(){return"CmdPauseGameplay"}}]),e}();function Gq(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function kj(e,n){for(var a=0;a<n.length;a++){var r=n[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Hq(e,n,a){return n&&kj(e.prototype,n),a&&kj(e,a),e}var Xb=function(){function e(){Gq(this,e)}return Hq(e,[{key:"run",value:function(e){e.f?e.f(e):e()}},{key:"name",value:function(){return e.Name}}],[{key:"Name",get:function(){return"CmdRunPayloadFunction"}}]),e}();function Iq(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function lj(e,r){for(var n=0;n<r.length;n++){var a=r[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function Jq(e,r,n){return r&&lj(e.prototype,r),n&&lj(e,n),e}var dg=function(){function e(){Iq(this,e)}return Jq(e,[{key:"run",value:function(e){Kb.UnmuteAudioManuallyByUser()}},{key:"name",value:function(){return e.Name}}],[{key:"Name",get:function(){return"CmdUnmuteAudio"}}]),e}();function Kq(e,a){if(!(e instanceof a))throw new TypeError("Cannot call a class as a function")}function mj(e,a){for(var r=0;r<a.length;r++){var n=a[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Lq(e,a,r){return a&&mj(e.prototype,a),r&&mj(e,r),e}var eg=function(){function e(){Kq(this,e)}return Lq(e,[{key:"run",value:function(e){pa.GetGameRemix()._unpauseGame()}},{key:"name",value:function(){return e.Name}}],[{key:"Name",get:function(){return"CmdUnpauseGameplay"}}]),e}();function Mq(a,e){if(!(a instanceof e))throw new TypeError("Cannot call a class as a function")}function nj(a,e){for(var t=0;t<e.length;t++){var n=e[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(a,n.key,n)}}function Nq(a,e,t){return e&&nj(a.prototype,e),t&&nj(a,t),a}var oj=function(){function a(){Mq(this,a)}return Nq(a,null,[{key:"InjectIntoActor",value:function(e,t,n,o){Ta.CreateTriggerIfNotExisting(e,t),e.vals.actions.triggerOn[t].push({name:a.Name,commandData:o,commandName:n}),e.vals.actions.dict[a.Name]=!0}},{key:"OnAct",value:function(a,e,t){Xa.RunCommand(e.commandName,e.commandData)}},{key:"Name",get:function(){return"CallGlobalCommandAction"}}]),a}();function Oq(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function pj(e,n){for(var a=0;a<n.length;a++){var t=n[a];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(e,t.key,t)}}function Pq(e,n,a){return n&&pj(e.prototype,n),a&&pj(e,a),e}var qj=function(){function e(){Oq(this,e)}return Pq(e,null,[{key:"InjectIntoActor",value:function(n,a,t,r){Ta.CreateTriggerIfNotExisting(n,a),n.vals.actions.triggerOn[a].push({name:e.Name,f:t,payload:r}),n.vals.actions.dict[e.Name]=!0}},{key:"OnAct",value:function(e,n,a){n.f&&n.f(n.payload)}},{key:"Name",get:function(){return"RunPayloadFunctionAction"}}]),e}();function Qq(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function rj(e,n){for(var a=0;a<n.length;a++){var $=n[a];$.enumerable=$.enumerable||!1,$.configurable=!0,"value"in $&&($.writable=!0),Object.defineProperty(e,$.key,$)}}function Rq(e,n,a){return n&&rj(e.prototype,n),a&&rj(e,a),e}var mb="SimpleInteractiveComponent",fg="SimpleInteractiveComponent",sj=function(){function e(){Qq(this,e)}return Rq(e,null,[{key:"InjectIntoActor",value:function(e){e.vals[mb]={},e.vals[mb].isPressed=!1,e.vals[mb].enabled=!0,e.vals.components[fg]=!0}},{key:"InjectCallbackOnDown",value:function(e,n){e.vals[mb].onDown=n}},{key:"InjectCallbackOnUp",value:function(e,n){e.vals[mb].onUp=n}},{key:"InjectCallbackOnMove",value:function(e,n){e.vals[mb].onMove=n}},{key:"Bake",value:function(e){e.displayed.setInteractive(),e.displayed.on("pointerdown",function(n,a,$,o){e.vals[mb].onDown&&e.vals[mb].onDown(e,{pointer:n,localX:a,localY:$,event:o})}),e.displayed.on("pointerup",function(n,a,$,o){e.vals[mb].onUp&&e.vals[mb].onUp(e,{pointer:n,localX:a,localY:$,event:o})}),e.displayed.on("pointermove",function(n,a,$,o){e.vals[mb].onMove&&e.vals[mb].onMove(e,{pointer:n,localX:a,localY:$,event:o})})}},{key:"PostBake",value:function(e){}},{key:"Cleanup",value:function(e){}},{key:"Has",value:function(e){return 1==e.vals.components[fg]}},{key:"SetEnabled",value:function(e,n){e.vals[mb].enabled=n}},{key:"IsEnabled",value:function(e){return e.vals[mb].enabled}},{key:"Name",get:function(){return fg}}]),e}();function Sq(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function tj(e,r){for(var a=0;a<r.length;a++){var s=r[a];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}function Tq(e,r,a){return r&&tj(e.prototype,r),a&&tj(e,a),e}var nb=function(){function e(){Sq(this,e)}return Tq(e,null,[{key:"InjectIntoActor",value:function(r,a,s,l){r.vals.progress={},r.vals.progress.maxValue=a,r.vals.progress.curValue=a,r.vals.progress.axisHorizontal=s,r.vals.progress.axisVertical=l,r.vals.components[e.Name]=!0}},{key:"SetMaxValue",value:function(e,r,a){e.vals.progress.maxValue=r,a&&(e.vals.progress.curValue=r)}},{key:"IsScaledtoZero",value:function(e){return e.vals.progress.curValue<=0}},{key:"GetCurValue",value:function(e){return e.vals.progress.curValue}},{key:"AddToCurValueAndUpdateVisual",value:function(r,a){r.vals.progress.curValue+=a,r.vals.progress.curValue>r.vals.progress.maxValue&&(r.vals.progress.curValue=r.vals.progress.maxValue),e._UpdateVisual(r)}},{key:"_UpdateVisual",value:function(e){var r=e.vals.progress.curValue/e.vals.progress.maxValue;e.vals.progress.axisHorizontal&&fa.SetScaleX(e,r),e.vals.progress.axisVertical&&fa.SetScaleY(e,r)}},{key:"SubstractFromCurValueAndUpdateVisual",value:function(r,a){r.vals.progress.curValue-=a,r.vals.progress.curValue<=0&&(r.vals.progress.curValue=0),e._UpdateVisual(r)}},{key:"Bake",value:function(e){}},{key:"PostBake",value:function(e){}},{key:"Cleanup",value:function(e){}},{key:"Name",get:function(){return"ProgressComponent"}}]),e}();function Uq(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function uj(e,t){for(var a=0;a<t.length;a++){var o=t[a];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function Vq(e,t,a){return t&&uj(e.prototype,t),a&&uj(e,a),e}function Wq(t){return(Wq="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Xq(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function vj(t,e){for(var r=0;r<e.length;r++){var a=e[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}function Yq(t,e,r){return e&&vj(t.prototype,e),r&&vj(t,r),t}function qd(t,e,r){return(qd="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,r){var a=Zq(t,e);if(a){var s=Object.getOwnPropertyDescriptor(a,e);return s.get?s.get.call(r):s.value}})(t,e,r||t)}function Zq(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Yb(t)););return t}function $q(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&_q(t,e)}function _q(t,e){return(_q=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function ar(t){var e=dr();return function(){var r,a=Yb(t);if(e){var s=Yb(this).constructor;r=Reflect.construct(a,arguments,s)}else r=a.apply(this,arguments);return br(this,r)}}function br(t,e){return!e||"object"!==Wq(e)&&"function"!=typeof e?cr(t):e}function cr(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function dr(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function Yb(t){return(Yb=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var er={},fr=Math.PI/180,gr=function($){return $*fr};er=gr;var hr={},ir=180/Math.PI,jr=function($){return $*ir};hr=jr;var Zb=Phaser.Utils.Objects.GetValue,wj=Phaser.Math.Wrap,kr=Phaser.Math.Angle.Wrap,lr=Phaser.Math.Angle.Between,xj=function(t){$q(r,od);var e=ar(r);function r(t,a){var s;return Xq(this,r),(s=e.call(this,t,a)).gameObject=t,s.scene=Kd(t),s.resetFromJSON(a),s.boot(),s}return Yq(r,[{key:"resetFromJSON",value:function(t){return this.isRunning=Zb(t,"isRunning",!1),this.setEnable(Zb(t,"enable",!0)),this.timeScale=Zb(t,"timeScale",1),this.setSpeed(Zb(t,"speed",180)),this.target=Zb(t,"target",0),this.dir=Zb(t,"dir",0),this}},{key:"toJSON",value:function(){return{isRunning:this.isRunning,timeScale:this.timeScale,speed:this.speed,target:this.target,dir:this.dir,tickingMode:this.tickingMode}}},{key:"boot",value:function(){qd(Yb(r.prototype),"boot",this).call(this),this.gameObject.once&&this.gameObject.on("destroy",this.destroy,this)}},{key:"shutdown",value:function(){qd(Yb(r.prototype),"shutdown",this).call(this),this.gameObject=void 0,this.scene=void 0}},{key:"destroy",value:function(){this.shutdown()}},{key:"startTicking",value:function(){qd(Yb(r.prototype),"startTicking",this).call(this),this.scene.events.on("update",this.update,this)}},{key:"stopTicking",value:function(){qd(Yb(r.prototype),"stopTicking",this).call(this),this.scene&&this.scene.events.off("update",this.update,this)}},{key:"setEnable",value:function(t){return null==t&&(t=!0),this.enable=t,this}},{key:"setSpeed",value:function(t){return this.speed=t,this}},{key:"rotateTo",value:function(t,e){if("number"!=typeof t){var a=t;t=Zb(a,"angle",void 0),e=Zb(a,"dir",void 0)}return null==t?this:(this.target=wj(t,0,360),void 0===e&&(e=0),this.dir="string"==typeof e?mr[e]:e,qd(Yb(r.prototype),"start",this).call(this),this)}},{key:"rotateTowardsPosition",value:function(t,e,r,a){var $D8vU$$interop$default=xb(hr);var s=this.gameObject,n=lr(s.x,s.y,t,e),i=$D8vU$$interop$default.d(n);return this.rotateTo(i,r,a),this}},{key:"update",value:function(t,e){if(!this.isRunning||!this.enable)return this;var $s57K$$interop$default=xb(er);var r=this.target,a=kr($s57K$$interop$default.d(r)),s=this.gameObject;if(a===s.rotation)return this.complete(),this;if(0===this.speed||0===e||0===this.timeScale)return this;var n,i,o=(360+s.angle)%360,$=e*this.timeScale/1e3,v=this.speed*$,u=this.dir;switch(u){case 0:var c=gg(o,r,!0),l=360-c;c<l?(u=1,n=c):(u=2,n=l);break;case 1:n=gg(o,r,!0);break;case 2:n=gg(o,r,!1);}return i=v<n?1===u?o+v:o-v:r,s.rotation=$s57K$$interop$default.d(i),this}}]),r}(),gg=function(t,e,r){var a=r?e-t:t-e;return a=wj(a,0,360)},mr={shortest:0,cw:1,ccw:2};var hg=function(){function e(){Uq(this,e)}return Vq(e,null,[{key:"InjectIntoActor",value:function(t,a){t.vals.rexRotateTo={},t.vals.rexRotateTo.data=a,t.vals.components[e.Name]=!0}},{key:"Bake",value:function(e){e.plugins.rexRotateTo=new xj(e.displayed,e.vals.rexRotateTo.data)}},{key:"PostBake",value:function(e){}},{key:"Cleanup",value:function(e){}},{key:"Name",get:function(){return"RexRotateToPlugin"}}]),e}();function nr(e,a){if(!(e instanceof a))throw new TypeError("Cannot call a class as a function")}function yj(e,a){for(var n=0;n<a.length;n++){var r=a[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function or(e,a,n){return a&&yj(e.prototype,a),n&&yj(e,n),e}var Mc="template",ig="TemplateComponent",cb=function(){function e(){nr(this,e)}return or(e,null,[{key:"InjectIntoActor",value:function(e,a){e.vals[Mc]={},e.vals[Mc].overridesList=a,e.vals[Mc].enabled=!0,e.vals.components[ig]=!0}},{key:"PreBake",value:function(e){for(var a=e.vals[Mc].overridesList,n=pa.GetGameRemix().getRemixCfg().templating,r=0;r<a.length;r++){var t=a[r];if(void 0===n)return void console.warn("TemplateComponent: templating object is undefined");var i=n[t];for(var o in i){var v=o,$=qa.getComponentClass(v);console.assert($,"no component Class: ",v," in gComponentLibraryModel"),$.SetFromData(e,i[o])}}}},{key:"Bake",value:function(e){}},{key:"PostBake",value:function(e){}},{key:"Cleanup",value:function(e){}},{key:"Has",value:function(e){return 1==e.vals.components[ig]}},{key:"SetEnabled",value:function(e,a){e.vals[Mc].enabled=a}},{key:"IsEnabled",value:function(e){return e.vals[Mc].enabled}},{key:"Name",get:function(){return ig}}]),e}();function pr(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function zj(e,n){for(var o=0;o<n.length;o++){var r=n[o];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function qr(e,n,o){return n&&zj(e.prototype,n),o&&zj(e,o),e}function rr(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function Aj(e,r){for(var n=0;n<r.length;n++){var i=r[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function sr(e,r,n){return r&&Aj(e.prototype,r),n&&Aj(e,n),e}var Bj=function(){function e(){rr(this,e)}return sr(e,null,[{key:"Add",value:function(e){ia.InjectIntoActor(e,"__offscreenDieSys")}},{key:"Update",value:function(e){for(var r=ha.GetBagItemsList("__offscreenDieSys"),n=0;n<r.length;n++){var i=r[n];i.vals.offscreenDie.timeOffScreen+=e,i.vals.offscreenDie.timeOffScreen>=1e4&&(i.vals.offscreenDie.wasOnScreen=!0);var a=fa.IsActorOnScreen(i);0==a&&i.vals.offscreenDie.wasOnScreen?Da.queueEntity(i):1!=a||i.vals.offscreenDie.wasOnScreen||(i.vals.offscreenDie.wasOnScreen=!0)}}}]),e}();var ob=function(){function e(){pr(this,e)}return qr(e,null,[{key:"InjectIntoActor",value:function(n){n.vals.offscreenDie||(n.vals.offscreenDie={}),n.vals.offscreenDie.timeOffScreen=0,n.vals.offscreenDie.wasOnScreen=!1,n.vals.components[e.Name]=!0}},{key:"Bake",value:function(e){Bj.Add(e)}},{key:"PostBake",value:function(e){}},{key:"Cleanup",value:function(e){}},{key:"Name",get:function(){return"OffscreenDieComponent"}}]),e}();function tr(e,l){if(!(e instanceof l))throw new TypeError("Cannot call a class as a function")}function Cj(e,l){for(var t=0;t<l.length;t++){var o=l[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function ur(e,l,t){return l&&Cj(e.prototype,l),t&&Cj(e,t),e}function vr(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Dj(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function wr(e,t,a){return t&&Dj(e.prototype,t),a&&Dj(e,a),e}var $b=function(){function e(){vr(this,e)}return wr(e,null,[{key:"GetRotatedCoordinate",value:function(e,t,a){return Phaser.Math.Rotate({x:e,y:t},Phaser.Math.DegToRad(a))}},{key:"AddRotatedByAnglePositionsToObject",value:function(t,a,r,n){var o=e.GetRotatedCoordinate(a,r,n);t.x+=o.x,t.y+=o.y}},{key:"GetAngleBetweenInDegrees",value:function(e,t,a,r){return Phaser.Math.RadToDeg(Phaser.Math.Angle.Between(e,t,a,r))}}]),e}();function xr(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ej(e,t){for(var l=0;l<t.length;l++){var r=t[l];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function yr(e,t,l){return t&&Ej(e.prototype,t),l&&Ej(e,l),e}var Fj=function(){function e(){xr(this,e)}return yr(e,null,[{key:"Add",value:function(e){ia.InjectIntoActor(e,"__particleFollowSys")}},{key:"Update",value:function(e){for(var t=ha.GetBagItemsList("__particleFollowSys"),l=0;l<t.length;l++){var r=t[l];if(r.displayed.emitters.list[0].follow.scene){var o=$b.GetRotatedCoordinate(r.vals.particleFollow.offsetX,r.vals.particleFollow.offsetY,r.cache.particleFollow.gameObject.angle);r.displayed.emitters.list[0].followOffset.x=o.x,r.displayed.emitters.list[0].followOffset.y=o.y,r.displayed.emitters.list[0].setEmitterAngle(r.cache.particleFollow.gameObject.angle+180)}else r.displayed.emitters.list[0].stop(),r.displayed.emitters.list[0].getAliveParticleCount()<=0&&Da.queueEntity(r)}}}]),e}();var jg=function(){function e(){tr(this,e)}return ur(e,null,[{key:"InjectIntoActor",value:function(l,t,o,a){l.vals.particleFollow||(l.vals.particleFollow={}),l.vals.particleFollow.guid=t,l.vals.particleFollow.offsetX=o,l.vals.particleFollow.offsetY=a,l.vals.components[e.Name]=!0}},{key:"Bake",value:function(e){}},{key:"PostBake",value:function(e){e.cache.particleFollow={},e.cache.particleFollow.gameObject=ha.GetActorByGUID(e.vals.particleFollow.guid).displayed,e.displayed.emitters.list[0].startFollow(ha.GetActorByGUID(e.vals.particleFollow.guid).displayed);var l=$b.GetRotatedCoordinate(e.vals.particleFollow.offsetX,e.vals.particleFollow.offsetY,e.cache.particleFollow.gameObject.angle);e.displayed.emitters.list[0].followOffset.x=l.x,e.displayed.emitters.list[0].followOffset.y=l.y,e.displayed.emitters.list[0].setEmitterAngle(e.cache.particleFollow.gameObject.angle+180),Fj.Add(e)}},{key:"Cleanup",value:function(e){}},{key:"Name",get:function(){return"ParticleFollow"}}]),e}();function zr(e,a){if(!(e instanceof a))throw new TypeError("Cannot call a class as a function")}function Gj(e,a){for(var t=0;t<a.length;t++){var o=a[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function Ar(e,a,t){return a&&Gj(e.prototype,a),t&&Gj(e,t),e}function Br(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function Hj(e,r){for(var t=0;t<r.length;t++){var a=r[t];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function Cr(e,r,t){return r&&Hj(e.prototype,r),t&&Hj(e,t),e}var Ij=function(){function e(){Br(this,e)}return Cr(e,null,[{key:"Add",value:function(e){ia.InjectIntoActor(e,"__rotateTowardsTargetSys")}},{key:"Update",value:function(e){for(var r=ha.GetBagItemsList("__rotateTowardsTargetSys"),t=0;t<r.length;t++){var a=r[t];if(a.vals.rotateTowardsTarget.guid&&ha.IsActorByGuidExisting(a.vals.rotateTowardsTarget.guid)){var o=ha.GetActorByGUID(a.vals.rotateTowardsTarget.guid);a.plugins.rexRotateTo.rotateTowardsPosition(o.displayed.x,o.displayed.y)}else a.vals.rotateTowardsTarget.guid=null}}}]),e}();var kg=function(){function e(){zr(this,e)}return Ar(e,null,[{key:"InjectIntoActor",value:function(a,t){a.vals.rotateTowardsTarget||(a.vals.rotateTowardsTarget={}),a.vals.rotateTowardsTarget.guid=t,a.vals.components[e.Name]=!0}},{key:"Bake",value:function(e){Ij.Add(e)}},{key:"PostBake",value:function(e){}},{key:"Cleanup",value:function(e){}},{key:"Name",get:function(){return"RotateTowardsTarget"}}]),e}();function Dr(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function Jj(e,r){for(var t=0;t<r.length;t++){var a=r[t];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function Er(e,r,t){return r&&Jj(e.prototype,r),t&&Jj(e,t),e}var lg="ActionScrollOffsetByBagLength",rd=function(){function e(){Dr(this,e)}return Er(e,null,[{key:"InjectIntoActor",value:function(e,r){Ta.CreateTriggerIfNotExisting(e,r),e.vals.actions.triggerOn[r].push({name:lg}),e.vals.actions.dict[lg]=!0}},{key:"OnAct",value:function(e,r,t){var a=ha.GetBagItemsList(t.group);e.displayed.y+=fa.GetDisplayHeight(e)*a.length*t.multiplier}},{key:"Name",get:function(){return lg}}]),e}();function Fr(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function Kj(e,r){for(var t=0;t<r.length;t++){var a=r[t];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function Gr(e,r,t){return r&&Kj(e.prototype,r),t&&Kj(e,t),e}var mg="ActionScrollOffsetByValue",ng=function(){function e(){Fr(this,e)}return Gr(e,null,[{key:"InjectIntoActor",value:function(e,r,t,a){Ta.CreateTriggerIfNotExisting(e,r),e.vals.actions.triggerOn[r].push({offsetXBy:t,offsetYBy:a,name:mg}),e.vals.actions.dict[mg]=!0}},{key:"OnAct",value:function(e,r,t){e.displayed.x+=r.offsetXBy,e.displayed.y+=r.offsetYBy}},{key:"Name",get:function(){return mg}}]),e}();function Hr(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}function Lj(r,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(r,a.key,a)}}function Ir(r,e,n){return e&&Lj(r.prototype,e),n&&Lj(r,n),r}function Jr(o,e){if(!(o instanceof e))throw new TypeError("Cannot call a class as a function")}function Mj(o,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(o,r.key,r)}}function Kr(o,e,n){return e&&Mj(o.prototype,e),n&&Mj(o,n),o}var sd="TRIGGER_SCROLL_Y_COMPLETE";var td=function(){function o(){Jr(this,o)}return Kr(o,null,[{key:"Add",value:function(o){ia.InjectIntoActor(o,"__sysScrollPosition_"+o.vals.scrollPositionComponent.groupSuffix)}},{key:"Update",value:function(o,e){for(var n=ha.GetBagItemsList("__sysScrollPosition_"+e),r=0;r<n.length;r++){var t=n[r];t.displayed.y+=t.vals.scrollPositionComponent.data.speedY*(o/1e3),null!=t.vals.scrollPositionComponent.data.speedY&&null==t.vals.scrollPositionComponent.data.maxY&&console.warn("Missing val: maxY"),t.displayed.y>t.vals.scrollPositionComponent.data.maxY&&!fa.IsActorOnScreen(t)&&t.triggerActions(sd,{axis:"y",multiplier:-1,group:e})}}}]),o}();var Nc="scrollPositionComponent",og="ScrollPositionComponent",Oc=function(){function r(){Hr(this,r)}return Ir(r,null,[{key:"InjectIntoActor",value:function(r,e,n){r.vals[Nc]={},r.vals[Nc].groupSuffix=e,r.vals[Nc].data=n,r.vals[Nc].enabled=!0,r.vals.components[og]=!0}},{key:"Bake",value:function(r){td.Add(r)}},{key:"PostBake",value:function(r){}},{key:"Cleanup",value:function(r){}},{key:"Has",value:function(r){return 1==r.vals.components[og]}},{key:"SetEnabled",value:function(r,e){r.vals[Nc].enabled=e}},{key:"IsEnabled",value:function(r){return r.vals[Nc].enabled}},{key:"Name",get:function(){return og}}]),r}();function Lr(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function Nj(e,n){for(var o=0;o<n.length;o++){var a=n[o];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function Mr(e,n,o){return n&&Nj(e.prototype,n),o&&Nj(e,o),e}function Nr(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function Oj(e,n){for(var r=0;r<n.length;r++){var o=n[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function Or(e,n,r){return n&&Oj(e.prototype,n),r&&Oj(e,r),e}var Pj=function(){function e(){Nr(this,e)}return Or(e,null,[{key:"Add",value:function(n){ia.InjectIntoActor(n,"__synchPositionSys"),e.DoSynch(n)}},{key:"DoSynch",value:function(e){ha.IsActorByGuidExisting(e.vals.synchPosition.guid)?(e.displayed.x=e.cache.synchPosition.gameObject.x+e.vals.synchPosition.offsetX,e.displayed.y=e.cache.synchPosition.gameObject.y+e.vals.synchPosition.offsetY):Da.queueEntity(e)}},{key:"Update",value:function(){for(var n=ha.GetBagItemsList("__synchPositionSys"),r=0;r<n.length;r++){var o=n[r];e.DoSynch(o)}}}]),e}();var pg=function(){function e(){Lr(this,e)}return Mr(e,null,[{key:"InjectIntoActor",value:function(n,o,a,t){n.vals.synchPosition||(n.vals.synchPosition={}),n.vals.synchPosition.guid=o,n.vals.synchPosition.offsetX=a,n.vals.synchPosition.offsetY=t,n.vals.components[e.Name]=!0}},{key:"Bake",value:function(e){e.cache.synchPosition={},e.cache.synchPosition.gameObject=ha.GetActorByGUID(e.vals.synchPosition.guid).displayed,Pj.Add(e)}},{key:"PostBake",value:function(e){}},{key:"Cleanup",value:function(e){}},{key:"Name",get:function(){return"SynchPosition"}}]),e}();function Pr(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Qj(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Qr(e,t,a){return t&&Qj(e.prototype,t),a&&Qj(e,a),e}var qg=function(){function e(){Pr(this,e)}return Qr(e,null,[{key:"InjectIntoActor",value:function(t,a,r,n){console.assert(a,a),t.vals.particle={},t.vals.particle.texture=a,t.vals.particle.layer=r,t.vals.particle.emitterConfig=n,t.vals.particle.inLayerDepth=0,t.vals.components[e.Name]=!0,t.vals.visualBase=t.vals.particle}},{key:"Bake",value:function(e){var t=fa.InBakeGetSceneFromLayerCfg(e).add.particles(e.vals.particle.texture);t.createEmitter(e.vals.particle.emitterConfig);e.displayed=t,fa.InBakeAddDisplayedAndSetSelfRef(e,e.displayed)}},{key:"PostBake",value:function(e){}},{key:"Cleanup",value:function(e){}},{key:"MoveParticleTo",value:function(e,t,a){e.displayed.emitters.list[0].x.propertyValue=t,e.displayed.emitters.list[0].y.propertyValue=a}},{key:"GetEmitter",value:function(e){return e.displayed.emitters.list[0]}},{key:"Name",get:function(){return"Particle"}}]),e}();function Rj(e,a){for(var t=0;t<a.length;t++){var i=a[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function Rr(e,a,t){return a&&Rj(e.prototype,a),t&&Rj(e,t),e}function Sj(e,a){if(!(e instanceof a))throw new TypeError("Cannot call a class as a function")}var _b="STATE_COVER";var kc="GAMEOVER_STATE";var Fb="STATE_GAMEPLAY";var Pc="PAUSE_STATE";var ud="PREGAME_STATE";var vd="SCENE_GAMEPLAY";var Zd="SCENE_SYSTEM";var rg="BACKGROUND_STATE";var Qc,Rc,Sc={},Sa=Sc={};function sg(){throw new Error("setTimeout has not been defined")}function tg(){throw new Error("clearTimeout has not been defined")}function Tj($){if(Qc===setTimeout)return setTimeout($,0);if((Qc===sg||!Qc)&&setTimeout)return Qc=setTimeout,setTimeout($,0);try{return Qc($,0)}catch(e){try{return Qc.call(null,$,0)}catch(e){return Qc.call(this,$,0)}}}function Sr($){if(Rc===clearTimeout)return clearTimeout($);if((Rc===tg||!Rc)&&clearTimeout)return Rc=clearTimeout,clearTimeout($);try{return Rc($)}catch(e){try{return Rc.call(null,$)}catch(e){return Rc.call(this,$)}}}!function(){try{Qc="function"==typeof setTimeout?setTimeout:sg}catch($){Qc=sg}try{Rc="function"==typeof clearTimeout?clearTimeout:tg}catch($){Rc=tg}}();var wd,lc=[],ug=!1,Uj=-1;function Tr(){ug&&wd&&(ug=!1,wd.length?lc=wd.concat(lc):Uj=-1,lc.length&&Vj())}function Vj(){if(!ug){var $=Tj(Tr);ug=!0;for(var e=lc.length;e;){for(wd=lc,lc=[];++Uj<e;)wd&&wd[Uj].run();Uj=-1,e=lc.length}wd=null,ug=!1,Sr($)}}function Wj($,e){this.fun=$,this.array=e}function Pb(){}Sa.nextTick=function($){var e=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)e[r-1]=arguments[r];lc.push(new Wj($,e)),1!==lc.length||ug||Tj(Vj)},Wj.prototype.run=function(){this.fun.apply(null,this.array)},Sa.title="browser",Sa.env={},Sa.argv=[],Sa.version="",Sa.versions={},Sa.on=Pb,Sa.addListener=Pb,Sa.once=Pb,Sa.off=Pb,Sa.removeListener=Pb,Sa.removeAllListeners=Pb,Sa.emit=Pb,Sa.prependListener=Pb,Sa.prependOnceListener=Pb,Sa.listeners=function($){return[]},Sa.binding=function($){throw new Error("process.binding is not supported")},Sa.cwd=function(){return"/"},Sa.chdir=function($){throw new Error("process.chdir is not supported")},Sa.umask=function(){return 0};function Ur(t){return(Ur="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var sa={android:!1,chromeOS:!1,cordova:!1,crosswalk:!1,desktop:!1,ejecta:!1,electron:!1,iOS:!1,iOSVersion:0,iPad:!1,iPhone:!1,kindle:!1,linux:!1,macOS:!1,node:!1,nodeWebkit:!1,pixelRatio:1,webApp:!1,windows:!1,windowsPhone:!1};function Vr(){var t=navigator.userAgent;/Windows/.test(t)?sa.windows=!0:/Mac UtilOsData/.test(t)&&!/like Mac UtilOsData/.test(t)?sa.macOS=!0:/Android/.test(t)?sa.android=!0:/Linux/.test(t)?sa.linux=!0:/iP[ao]d|iPhone/i.test(t)?(sa.iOS=!0,navigator.appVersion.match(/UtilOsData (\d+)/),sa.iOSVersion=parseInt(RegExp.$1,10),sa.iPhone=-1!==t.toLowerCase().indexOf("iphone"),sa.iPad=-1!==t.toLowerCase().indexOf("ipad")):/Kindle/.test(t)||/\bKF[A-Z][A-Z]+/.test(t)||/Silk.*Mobile Safari/.test(t)?sa.kindle=!0:/CrOS/.test(t)&&(sa.chromeOS=!0),(/Windows Phone/i.test(t)||/IEMobile/i.test(t))&&(sa.android=!1,sa.iOS=!1,sa.macOS=!1,sa.windows=!0,sa.windowsPhone=!0);var e=/Silk/.test(t);(sa.windows||sa.macOS||sa.linux&&!e||sa.chromeOS)&&(sa.desktop=!0),(sa.windowsPhone||/Windows NT/i.test(t)&&/Touch/i.test(t))&&(sa.desktop=!1),navigator.standalone&&(sa.webApp=!0),void 0!==window.cordova&&(sa.cordova=!0),void 0!==Sc&&Sc.versions&&Sc.versions.node&&(sa.node=!0),sa.node&&"object"===Ur(Sc.versions)&&(sa.nodeWebkit=!!Sc.versions["node-webkit"],sa.electron=!!Sc.versions.electron),void 0!==window.ejecta&&(sa.ejecta=!0),/Crosswalk/.test(t)&&(sa.crosswalk=!0),sa.pixelRatio=window.devicePixelRatio||1}var Za={chrome:!1,chromeVersion:0,edge:!1,firefox:!1,firefoxVersion:0,ie:!1,ieVersion:0,mobileSafari:!1,opera:!1,safari:!1,safariVersion:0,silk:!1,trident:!1,tridentVersion:0};function Wr(){var t=navigator.userAgent;return /Edge\/\d+/.test(t)?Za.edge=!0:/Chrome\/(\d+)/.test(t)&&!sa.windowsPhone?(Za.chrome=!0,Za.chromeVersion=parseInt(RegExp.$1,10)):/Firefox\D+(\d+)/.test(t)?(Za.firefox=!0,Za.firefoxVersion=parseInt(RegExp.$1,10)):/AppleWebKit/.test(t)&&sa.iOS?Za.mobileSafari=!0:/MSIE (\d+\.\d+);/.test(t)?(Za.ie=!0,Za.ieVersion=parseInt(RegExp.$1,10)):/Opera/.test(t)?Za.opera=!0:/Safari/.test(t)&&!sa.windowsPhone?Za.safari=!0:/Trident\/(\d+\.\d+)(.*)rv:(\d+\.\d+)/.test(t)&&(Za.ie=!0,Za.trident=!0,Za.tridentVersion=parseInt(RegExp.$1,10),Za.ieVersion=parseInt(RegExp.$3,10)),/Silk/.test(t)&&(Za.silk=!0),Za}var ub,Xr=function e(){Sj(this,e),this.trackedCoverOnce=!1,this.trackedGameplayOnce=!1,this.trackedGameOverOnce=!1,this.startedGameplayTimes=0},ac=new Xr,Yr=function(){function e(a){Sj(this,e),this.audioLib={},this.sessionData={},this.hasBeenPaused=!1,console.assert(a,"GameRemix must have cfg!"),ub=a}return Rr(e,[{key:"_custom_tryCallPause",value:function(){}},{key:"_custom_passEventOnUpdateCoverState",value:function(e,a,t){}},{key:"_custom_passEventOnUpdateGameOverState",value:function(e,a,t){}},{key:"_custom_passEventOnUpdateGameplayState",value:function(e,a,t){}},{key:"_custom_passEventOnExitInstantGameplay",value:function(){}},{key:"_custom_passEventOnExitDelayedGameplay",value:function(){}},{key:"_custom_passEventOnEnterInstantCover",value:function(){}},{key:"_custom_passEventOnEnterInstantGameOver",value:function(){}},{key:"_custom_passEventOnGameplayActualStart",value:function(){}},{key:"_custom_passEventOnGameplayFinished",value:function(e){}},{key:"_custom_onFirstTouch",value:function(){}},{key:"_custom_passEventOnEnterInstantGameplay",value:function(e){}},{key:"gameInit",value:function(){ub.funcDoConfigureAudio(this),Kb.InterpretInitialAudioState(ub.gameTitle),ub.funcDoConfigureStatesDelays();var e=$a.GetSceneByKey(vd);for(var a in ub.gameplayGroups)Ud.AddGroup(e,ub.gameplayGroups[a]);ub.funcDoInitializeSaveData(),ub.funcDoRegisterRemixSpecificActions(),$a.GetSceneByKey(Zd).input.once("pointerdown",function(){pa.GetGameRemix()._custom_onFirstTouch()})}},{key:"playAudio",value:function(e){Kb.PlayAudio(e,this.audioLib)}},{key:"bootPregameState",value:function(){ub.skipPregame?this.bootInitialGameStates():na.EnterState(ud)}},{key:"bootInitialGameStates",value:function(){na.ExitState(ud),na.EnterState(rg),ub.funcDoEnterFromPregame(this)}},{key:"passEventOnEnterInstant",value:function(e){e.name==_b&&(ac.trackedCoverOnce||(ac.trackedCoverOnce=!0,hb.GetFlowManager().onEnterCoverFirstTime()),hb.GetFlowManager().onEnterCoverEverytime(),this._custom_passEventOnEnterInstantCover()),e.name==kc&&(ac.trackedGameOverOnce||(ac.trackedGameOverOnce=!0,hb.GetFlowManager().onEnterGameOverFirstTime()),hb.GetFlowManager().onEnterGameOverEverytime(),this._custom_passEventOnEnterInstantGameOver()),e.name==Fb&&this._custom_passEventOnEnterInstantGameplay(e)}},{key:"passEventOnExitInstant",value:function(e){e.name==Fb&&this._custom_passEventOnExitInstantGameplay()}},{key:"passEventOnExitDelayed",value:function(e){e.name==Fb&&this._custom_passEventOnExitDelayedGameplay()}},{key:"passEventOnUpdate",value:function(e,a,t){if(e.name==_b){if(this.hasBeenPaused)return;this._custom_passEventOnUpdateCoverState(e,a,t)}if(e.name==kc){if(this.hasBeenPaused)return;this._custom_passEventOnUpdateGameOverState(e,a,t)}if(e.name==Fb){if(this.hasBeenPaused)return;this._custom_passEventOnUpdateGameplayState(e,a,t),hb.GetFlowManager().onUpdateGameplayPlaytime(t)}}},{key:"passEventOnGameplayActualStart",value:function(){ac.trackedGameplayOnce||(ac.trackedGameplayOnce=!0,hb.GetFlowManager().onEnterGameplayFirstTime()),ac.startedGameplayTimes+=1,hb.GetFlowManager().onEnterGameplayEverytime(ac.startedGameplayTimes),this._custom_passEventOnGameplayActualStart()}},{key:"passEventOnGameplayFinished",value:function(e){this._custom_passEventOnGameplayFinished(e),hb.GetFlowManager().onGameplayFinished()}},{key:"tryCallPause",value:function(){this._custom_tryCallPause()}},{key:"tryCallUnpause",value:function(){na.IsStateActive(Pc)||this._unpauseGame()}},{key:"doOnEnterPauseState",value:function(){this.hasBeenPaused=!0;for(var e=$a.GetSceneKeyListArr(),a=0;a<e.length;a++){var t=e[a];if($a.CanSceneBePaused(t))$a.GetSceneByKey(t).sys.pause()}}},{key:"_unpauseGame",value:function(){if(this.hasBeenPaused){this.hasBeenPaused=!1;for(var e=$a.GetSceneKeyListArr(),a=0;a<e.length;a++){var t=e[a];if($a.CanSceneBePaused(t))$a.GetSceneByKey(t).sys.resume()}na.ExitState(Pc)}}},{key:"isPaused",value:function(){return this.hasBeenPaused}},{key:"onBrowserBlur",value:function(){this.tryCallPause()}},{key:"onBrowserFocus",value:function(){this.tryCallUnpause()}},{key:"getRemixCfg",value:function(){return ub}},{key:"getSessionData",value:function(){return this.sessionData}},{key:"setTemplatingOverrides",value:function(e){ub.templating=Object.assign(ub.templating,e)}}]),e}();function Zr(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function Xj(e,n){for(var t=0;t<n.length;t++){var o=n[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function $r(e,n,t){return n&&Xj(e.prototype,n),t&&Xj(e,t),e}var Yj=function(){function e(){Zr(this,e)}return $r(e,null,[{key:"InjectIntoActor",value:function(n,t){Ta.CreateTriggerIfNotExisting(n,t);n.vals.actions.triggerOn[t].push({name:e.Name,data:{}}),n.vals.actions.dict[e.Name]=!0}},{key:"OnAct",value:function(e,n,t){if(sb.Has(e)&&sb.IsEnabled(e))if(e.displayed.y<=680){if(-1==e.vals.bounceAngleBetweenValues.angleChangeDir&&sb.SetAngleChangeDir(e,1),e.displayed.angle<=0){var o=1+Math.abs(e.displayed.angle)/5;sb.SetAngleSpeedMultiplier(e,o)}else sb.SetAngleSpeedMultiplier(e,1);}else sb.SetAngleSpeedMultiplier(e,1);"caught"==Aa.GetValue(e,"state")?(sb.Has(e)&&sb.SetEnabled(e,!1),kb.Has(e)&&"relaxingSwim"==kb.GetAnimationName(e)&&kb.SetAnimation(e,"speedSwim"),e.plugins.rexBullet.setSpeed(Aa.GetValue(e,"reel_speed")),fa.SetAngle(e,0),"fight"==Aa.GetValue(e,"reel_state")?lb.SetEnable(e,!0):"reel"==Aa.GetValue(e,"reel_state")&&lb.SetEnable(e,!1)):Aa.GetValue(e,"isGoingToSlow")&&e.displayed.x>Aa.GetValue(e,"slowAfterX")&&!Aa.GetValue(e,"hasSlowed")&&(Aa.SetValue(e,"hasSlowed",!0),lb.SetSpeed(e,lb.GetSpeed(e)*(Phaser.Math.Between(35,50)/100)))}},{key:"Name",get:function(){return"FishTickAction"}}]),e}();function _r(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function Zj(e,r){for(var a=0;a<r.length;a++){var n=r[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function as(e,r,a){return r&&Zj(e.prototype,r),a&&Zj(e,a),e}var vg=function(){function e(){_r(this,e)}return as(e,[{key:"run",value:function(e){na.EnterState(kc)}},{key:"name",value:function(){return e.Name}}],[{key:"Name",get:function(){return"CmdAddGameOver"}}]),e}();function bs(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function $j(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function cs(e,r,t){return r&&$j(e.prototype,r),t&&$j(e,t),e}var wg=function(){function e(){bs(this,e)}return cs(e,[{key:"run",value:function(e){na.ExitState(_b)}},{key:"name",value:function(){return e.Name}}],[{key:"Name",get:function(){return"CmdExitCover"}}]),e}();function ds(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _j(e,t){for(var r=0;r<t.length;r++){var m=t[r];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(e,m.key,m)}}function es(e,t,r){return t&&_j(e.prototype,t),r&&_j(e,r),e}var $d="STATE_FADE";var xg=function(){function e(){ds(this,e)}return es(e,[{key:"run",value:function(e){na.EnterState($d),na.ExitState(Fb),na.ExitState(kc);var t=function(){na.EnterState(_b),na.EnterState(Fb),na.ExitState($d)}.bind(this);na.AddDelayedFunctionToState(t,na.GetStateExitTimeInMs(Fb),rg,"onFromGameOverToCover")}},{key:"name",value:function(){return e.Name}}],[{key:"Name",get:function(){return"CmdFadeFromGameplayAndGameOverToCover"}}]),e}();var yg=null,fs={},pa=function(){function e(){en(this,e)}return fn(e,null,[{key:"SetGameRemix",value:function(e){yg=e}},{key:"SetOverrideToggles",value:function(e){fs=e}},{key:"GetOverrideToggles",value:function(){return fs}},{key:"GetGameRemix",value:function(){return yg}},{key:"Run",value:function(){jb.game.events.addListener(Phaser.Core.Events.BLUR,function(){e.GetGameRemix().onBrowserBlur()}),jb.game.events.addListener(Phaser.Core.Events.FOCUS,function(){e.GetGameRemix().onBrowserFocus()}),e._RegisterComponents(),e._RegisterActions(),e._RegisterCommands(),yg.gameInit(),yg.bootPregameState()}},{key:"_RegisterComponents",value:function(){qa.register(ib.Name,ib),qa.register(ia.Name,ia),qa.register(oa.Name,oa),qa.register(Ya.Name,Ya),qa.register(Ja.Name,Ja),qa.register(Ga.Name,Ga),qa.register(Lb.Name,Lb),qa.register(xa.Name,xa),qa.register(ab.Name,ab),qa.register(Td.Name,Td),qa.register(bb.Name,bb),qa.register(Fa.Name,Fa),qa.register(_f.Name,_f),qa.register(tb.Name,tb),qa.register(za.Name,za),qa.register(lb.Name,lb),qa.register(sb.Name,sb),qa.register(Nb.Name,Nb),qa.register(Ob.Name,Ob),qa.register(kb.Name,kb),qa.register(Aa.Name,Aa),qa.register(Lc.Name,Lc),qa.register(Bb.Name,Bb),qa.register(qg.Name,qg),qa.register(jg.Name,jg),qa.register(pg.Name,pg),qa.register(kg.Name,kg),qa.register(hg.Name,hg),qa.register(ob.Name,ob),qa.register(Tf.Name,Tf),qa.register(Oc.Name,Oc),qa.register(nb.Name,nb),qa.register(cb.Name,cb),qa.register(fa.Name,fa),qa.register(sj.Name,sj),qa.register(Ui.Name,Ui)}},{key:"_RegisterActions",value:function(){Oa.register(Eb.Name,Eb),Oa.register(Ic.Name,Ic),Oa.register(Jc.Name,Jc),Oa.register(Qf.Name,Qf),Oa.register(Uf.Name,Uf),Oa.register(Hc.Name,Hc),Oa.register(pi.Name,pi),Oa.register(Ub.Name,Ub),Oa.register(Mf.Name,Mf),Oa.register(oj.Name,oj),Oa.register(qj.Name,qj),Oa.register(rd.Name,rd),Oa.register(ng.Name,ng),Oa.register(kd.Name,kd),Oa.register(Cc.Name,Cc),Oa.register(Yj.Name,Yj)}},{key:"_RegisterCommands",value:function(){Xa.RegisterCommand(hj.Name,new hj),Xa.RegisterCommand(bg.Name,new bg),Xa.RegisterCommand(dg.Name,new dg),Xa.RegisterCommand(Xb.Name,new Xb),Xa.RegisterCommand(cg.Name,new cg),Xa.RegisterCommand(eg.Name,new eg),Xa.RegisterCommand(wg.Name,new wg),Xa.RegisterCommand(vg.Name,new vg),Xa.RegisterCommand(xg.Name,new xg)}}]),e}();var gs=function(e){Xm(r,hb);var t=Zm(r);function r(){return Vm(this,r),t.apply(this,arguments)}return Wm(r,[{key:"_trackSimple",value:function(e){console.log("simple track: ",e);try{gtag("event",pa.GetGameRemix().getRemixCfg().gameTitle,{event_category:"simple",event_label:e.text})}catch(t){console.log("FAILED SECOND TIME")}}},{key:"_trackCount",value:function(e){console.log("count track: ",e);try{gtag("event",pa.GetGameRemix().getRemixCfg().gameTitle,{event_category:"count",event_label:e.text})}catch(t){console.log("FAILED SECOND TIME")}}},{key:"onEnterCoverFirstTime",value:function(){this._trackSimple({type:"SIMPLE",text:pa.GetGameRemix().getRemixCfg().gameTitle+"_enter_cover_first_time"})}},{key:"onEnterGameOverFirstTime",value:function(){this._trackSimple({type:"SIMPLE",text:pa.GetGameRemix().getRemixCfg().gameTitle+"_enter_gameover_first_time"})}},{key:"onEnterGameplayFirstTime",value:function(){this._trackSimple({type:"SIMPLE",text:pa.GetGameRemix().getRemixCfg().gameTitle+"_enter_gameplay_first_time"})}},{key:"onEnterGameplayEverytime",value:function(e){this._trackCount({type:"COUNT",text:pa.GetGameRemix().getRemixCfg().gameTitle+"_enter_gameplay_x_times",value:e})}},{key:"onEnterCoverEverytime",value:function(){}},{key:"onEnterGameOverEverytime",value:function(){}},{key:"onGameplayFinished",value:function(){}},{key:"onUpdateGamePlaytime",value:function(){}},{key:"onUpdateGameplayPlaytime",value:function(){}}]),r}();function hs(e,a){if(!(e instanceof a))throw new TypeError("Cannot call a class as a function")}function ak(e,a){for(var r=0;r<a.length;r++){var i=a[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function is(e,a,r){return a&&ak(e.prototype,a),r&&ak(e,r),e}var Ca={allowOrientationScreen:void 0,gameWidth:void 0,gameHeight:void 0,orientationMode:void 0,enableScale:void 0,enableLayerReposition:void 0,phaserMode:void 0,phaserCenterMode:void 0};function js(t){return(js="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ks(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ls(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ms(t,e)}function ms(t,e){return(ms=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function ns(t){var e=qs();return function(){var r,o=bk(t);if(e){var a=bk(this).constructor;r=Reflect.construct(o,arguments,a)}else r=o.apply(this,arguments);return os(this,r)}}function os(t,e){return!e||"object"!==js(e)&&"function"!=typeof e?ps(t):e}function ps(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function qs(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function bk(t){return(bk=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function rs(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function ck(e,r){for(var a=0;a<r.length;a++){var t=r[a];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(e,t.key,t)}}function ss(e,r,a){return r&&ck(e.prototype,r),a&&ck(e,a),e}var mc=function(){function e(r){rs(this,e),this.scene=r}return ss(e,null,[{key:"register",value:function(r,a){e.prototype[r]=a}}]),e}();function ts(t){return(ts="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function us(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function dk(t,e){for(var r=0;r<e.length;r++){var a=e[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}function vs(t,e,r){return e&&dk(t.prototype,e),r&&dk(t,r),t}function ws(t,e,r){return(ws="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,r){var a=xs(t,e);if(a){var n=Object.getOwnPropertyDescriptor(a,e);return n.get?n.get.call(r):n.value}})(t,e,r||t)}function xs(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=_d(t)););return t}function ys(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&zs(t,e)}function zs(t,e){return(zs=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function As(t){var e=Cs();return function(){var r,a=_d(t);if(e){var n=_d(this).constructor;r=Reflect.construct(a,arguments,n)}else r=a.apply(this,arguments);return Bs(this,r)}}function Bs(t,e){return!e||"object"!==ts(e)&&"function"!=typeof e?ek(t):e}function ek(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Cs(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function _d(t){return(_d=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Ds(t){return(Ds="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Es(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function fk(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function Fs(t,e,n){return e&&fk(t.prototype,e),n&&fk(t,n),t}function af(t,e,n){return(af="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var o=Gs(t,e);if(o){var i=Object.getOwnPropertyDescriptor(o,e);return i.get?i.get.call(n):i.value}})(t,e,n||t)}function Gs(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=nc(t)););return t}function Hs(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Is(t,e)}function Is(t,e){return(Is=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Js(t){var e=Ms();return function(){var n,o=nc(t);if(e){var i=nc(this).constructor;n=Reflect.construct(o,arguments,i)}else n=o.apply(this,arguments);return Ks(this,n)}}function Ks(t,e){return!e||"object"!==Ds(e)&&"function"!=typeof e?Ls(t):e}function Ls(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Ms(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function nc(t){return(nc=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var zg=Phaser.Utils.Objects.GetValue,bf=function(t){Hs(n,od);var e=Js(n);function n(t,o){var i;Es(this,n);var r=Kd(t);return r===t&&(t=void 0),(i=e.call(this,r,o)).scene=r,i.gameObject=t,t&&t.setInteractive(zg(o,"inputConfig",void 0)),i._enable=void 0,i.resetFromJSON(o),i.boot(),i}return Fs(n,[{key:"resetFromJSON",value:function(t){return this.setEnable(zg(t,"enable",!0)),void 0===this.gameObject?this.bounds=zg(t,"bounds",void 0):this.bounds=void 0,this.tracerState=Ag,this.pointer=void 0,this.lastPointer=void 0,this.movedState=!1,this.isTouchingAnyObject=!1,this}},{key:"boot",value:function(){af(nc(n.prototype),"boot",this).call(this),this.gameObject?this.gameObject.on("pointerdown",this.onPointerDown,this):this.scene.input.on("pointerdown",this.onPointerDown,this),this.scene.input.on("pointerup",this.onPointerUp,this),this.scene.input.on("pointermove",this.onPointerMove,this),this.scene.events.once("shutdown",this.destroy,this)}},{key:"shutdown",value:function(){this.gameObject?this.gameObject.off("pointerdown",this.onPointerDown,this):this.scene&&this.scene.input.off("pointerdown",this.onPointerDown,this),this.scene&&(this.scene.input.off("pointerup",this.onPointerUp,this),this.scene.input.off("pointermove",this.onPointerMove,this),this.scene.events.off("destroy",this.destroy,this),this.scene=void 0),this.scene=void 0,this.gameObject=void 0,this.bounds=void 0,this.pointer=void 0,this.lastPointer=void 0,this.movedState=!1,af(nc(n.prototype),"shutdown",this).call(this)}},{key:"destroy",value:function(){this.shutdown()}},{key:"setEnable",value:function(t){return void 0===t&&(t=!0),this.enable=t,this}},{key:"toggleEnable",value:function(){return this.setEnable(!this.enable),this}},{key:"onPointerDown",value:function(t,e){this.enable&&void 0===this.pointer&&(!this.bounds||this.bounds.contains(t.x,t.y))&&this.pointer!==t&&(this.pointer=t,this.lastPointer=t,this.movedState=!1,this.tracerState=gk,void 0===this.gameObject&&(this.isTouchingAnyObject=e.length>0),this.onDragStart())}},{key:"onPointerUp",value:function(t){this.enable&&(!this.bounds||this.bounds.contains(t.x,t.y))&&this.pointer===t&&(this.pointer=void 0,this.movedState=!1,this.tracerState=Ag,this.onDragEnd())}},{key:"onPointerMove",value:function(t){if(this.enable&&t.isDown){var e=!this.bounds||this.bounds.contains(t.x,t.y),n=this.pointer===t;!n&&e||(n&&!e?this.onPointerUp(t):(this.movedState||(this.movedState=t.x!==t.downX||t.y!==t.downY),this.movedState&&this.onDrag()))}}},{key:"dragCancel",value:function(){return this.tracerState===gk&&this.onDragEnd(),this.pointer=void 0,this.tracerState=Ag,this}},{key:"onDragStart",value:function(){this.emit("dragstart",this)}},{key:"onDragEnd",value:function(){this.emit("dragend",this)}},{key:"onDrag",value:function(){this.emit("drag",this)}},{key:"preUpdate",value:function(t,e){}},{key:"postUpdate",value:function(t,e){}},{key:"startTicking",value:function(){af(nc(n.prototype),"startTicking",this).call(this),this.scene.events.on("preupdate",this.preUpdate,this),this.scene.events.on("postupdate",this.postUpdate,this)}},{key:"stopTicking",value:function(){af(nc(n.prototype),"stopTicking",this).call(this),this.scene&&(this.scene.events.off("preupdate",this.preUpdate,this),this.scene.events.off("postupdate",this.postUpdate,this))}},{key:"setRecongizedStateObject",value:function(t){return this.recongizedState=t,this}},{key:"cancel",value:function(){return this.state=Ns,this}},{key:"enable",get:function(){return this._enable},set:function(t){if(this._enable!==t)return t||this.dragCancel(),this._enable=t,this}},{key:"state",get:function(){return this.recongizedState.state},set:function(t){this.recongizedState.state=t}}]),n}(),Ag=0,gk=1,Ns="IDLE";function Os(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function hk(t,e){for(var s=0;s<e.length;s++){var i=e[s];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function Ps(t,e,s){return e&&hk(t.prototype,e),s&&hk(t,s),t}var oc={},Qs=function(r,e,t){if(r&&"number"!=typeof r){if(r.hasOwnProperty(e))return r[e];if(-1!==e.indexOf(".")){for(var n=e.split("."),$=r,a=t,f=0;f<n.length;f++){if(!$.hasOwnProperty(n[f])){a=t;break}a=$[n[f]],$=$[n[f]]}return a}return t}return t};oc=Qs;var pc=function(){function t(e){Os(this,t);var $gK07$$interop$default=xb(oc);var s=$gK07$$interop$default.d(e,"states",void 0);s&&this.addStates(s);var i=$gK07$$interop$default.d(e,"extend",void 0);if(i)for(var a in i)this.hasOwnProperty(a)&&void 0!==this[a]||(this[a]=i[a]);var r=$gK07$$interop$default.d(e,"eventEmitter",void 0),n=$gK07$$interop$default.d(e,"EventEmitterClass",void 0);this.setEventEmitter(r,n),this._stateLock=!1,this.resetFromJSON(e)}return Ps(t,[{key:"shutdown",value:function(){this.destroyEventEmitter()}},{key:"destroy",value:function(){this.shutdown()}},{key:"resetFromJSON",value:function(t){var $gK07$$interop$default=xb(oc);this.setEnable($gK07$$interop$default.d(t,"enable",!0)),this.start($gK07$$interop$default.d(t,"start",void 0));var e=$gK07$$interop$default.d(t,"init",void 0);return e&&e.call(this),this}},{key:"toJSON",value:function(){return{curState:this.state,prevState:this.prevState,enable:this.enable,start:this._start}}},{key:"setEnable",value:function(t){return void 0===t&&(t=!0),this.enable=t,this}},{key:"start",value:function(t){return this._start=t,this._prevState=void 0,this._state=t,this}},{key:"goto",value:function(t){return null!=t&&(this.state=t),this}},{key:"next",value:function(){var t,e=this["next_"+this.state];return e&&(t="string"==typeof e?e:e.call(this)),this.goto(t),this}},{key:"addState",value:function(t,e){var $gK07$$interop$default=xb(oc);var s=$gK07$$interop$default.d(e,"next",void 0);s&&(this["next_"+t]=s);var i=$gK07$$interop$default.d(e,"exit",void 0);i&&(this["exit_"+t]=i);var a=$gK07$$interop$default.d(e,"enter",void 0);return a&&(this["enter_"+t]=a),this}},{key:"addStates",value:function(t){for(var e in t)this.addState(e,t[e]);return this}},{key:"update",value:function(t,e,s){void 0===s&&(s="update");var i=this[s+"_"+this.state];i&&i.call(this,t,e)}},{key:"preupdate",value:function(t,e){this.update(t,e,"preupdate")}},{key:"postupdate",value:function(t,e){this.update(t,e,"postupdate")}},{key:"state",set:function(t){if(this.enable&&!this._stateLock&&this._state!==t){if(this._prevState=this._state,this._state=t,this._stateLock=!0,this.emit("statechange",this),null!=this._prevState){var e="exit_"+this._prevState,s=this[e];s&&s.call(this),this.emit(e,this)}if(this._stateLock=!1,null!=this._state){var i="enter_"+this._state,a=this[i];a&&a.call(this),this.emit(i,this)}}},get:function(){return this._state}},{key:"prevState",get:function(){return this._prevState}}]),t}();Object.assign(pc.prototype,gd);var qc=Phaser.Utils.Objects.GetValue,Rs=Phaser.Math.Distance.Between,ik=function(t){ys(r,bf);var e=As(r);function r(t,a){var n;us(this,r);var s=ek(n=e.call(this,t,a)),i={states:{IDLE:{enter:function(){s.stop(),s.tapsCount=0,s.x=0,s.y=0,s.worldX=0,s.worldY=0},exit:function(){var t=s.lastPointer;s.x=t.x,s.y=t.y,s.worldX=t.worldX,s.worldY=t.worldY}},BEGIN:{enter:function(){s.start(),s.tapsCount=0,s.emit("tappingstart",s,s.gameObject,s.lastPointer)}},RECOGNIZED:{enter:function(){s.start(),s.emit("tap",s,s.gameObject,s.lastPointer),s.emit("".concat(s.tapsCount,"tap"),s,s.gameObject,s.lastPointer)}}},init:function(){this.state=rc},eventEmitter:!1};return n.setRecongizedStateObject(new pc(i)),n}return vs(r,[{key:"resetFromJSON",value:function(t){ws(_d(r.prototype),"resetFromJSON",this).call(this,t),this.setMaxHoldTime(qc(t,"time",250)),this.setTapInterval(qc(t,"tapInterval",200)),this.setDragThreshold(qc(t,"threshold",9)),this.setTapOffset(qc(t,"tapOffset",10));var e=qc(t,"taps",void 0);return void 0!==e?this.setTaps(e):(this.setMaxTaps(qc(t,"maxTaps",void 0)),this.setMinTaps(qc(t,"minTaps",void 0))),this}},{key:"onDragStart",value:function(){switch(this.state){case rc:this.state=Tc;break;case Tc:var t=this.lastPointer;Rs(t.upX,t.upY,t.x,t.y)>this.tapOffset&&(this.state=Uc,this.state=Tc);break;case Uc:this.state=Tc;}}},{key:"onDragEnd",value:function(){this.state===Tc&&(this.tapsCount++,this.emit("tapping",this,this.gameObject,this.lastPointer),void 0!==this.maxTaps&&this.tapsCount===this.maxTaps&&(this.state=Uc))}},{key:"onDrag",value:function(){this.state!==rc&&this.pointer.getDistance()>this.dragThreshold&&(this.state=rc)}},{key:"preUpdate",value:function(t,e){if(this.state===Tc){var r=this.lastPointer;if(r.isDown)t-r.downTime>this.holdTime&&(this.state=rc);else t-r.upTime>this.tapInterval&&(void 0===this.minTaps||this.tapsCount>=this.minTaps?this.state=Uc:this.state=rc)}}},{key:"postUpdate",value:function(t,e){this.state===Uc&&(this.state=rc)}},{key:"setMaxHoldTime",value:function(t){return this.holdTime=t,this}},{key:"setTapInterval",value:function(t){return this.tapInterval=t,this}},{key:"setDragThreshold",value:function(t){return this.dragThreshold=t,this}},{key:"setTapOffset",value:function(t){return this.tapOffset=t,this}},{key:"setMaxTaps",value:function(t){return this.maxTaps=t,this}},{key:"setMinTaps",value:function(t){return this.minTaps=t,this}},{key:"setTaps",value:function(t,e){return void 0===e&&(e=t),this.setMinTaps(t).setMaxTaps(e),this}},{key:"isTapped",get:function(){return this.state===Uc}}]),r}(),rc="IDLE",Tc="BEGIN",Uc="RECOGNIZED";function Bg(t){return(Bg="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var jk=function(t){return null==t||""===t||0===t.length},Ss=function(t,r,e){var o=t;if(jk(r));else{var $;"string"==typeof r&&(r=r.split("."));for(var n=0,p=r.length;n<p;n++){var f;if(null==o[$=r[n]]||"object"!==Bg(o[$]))f=n===p-1?void 0===e?{}:e:{},o[$]=f;o=o[$]}}return o},sc=function(t,r,e){if("object"===Bg(t)){if(jk(r)){if(null==e)return;"object"===Bg(e)&&(t=e)}else{"string"==typeof r&&(r=r.split("."));var o=r.pop();Ss(t,r)[o]=e}return t}};mc.register("tap",function(t,e){return id(t)||(e=t,t=this.scene),new ik(t,e)}),sc(window,"RexPlugins.Gestures.Tap",ik);function Ts(t){return(Ts="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Us(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function kk(t,e){for(var r=0;r<e.length;r++){var o=e[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function Vs(t,e,r){return e&&kk(t.prototype,e),r&&kk(t,r),t}function Ws(t,e,r){return(Ws="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,r){var o=Xs(t,e);if(o){var n=Object.getOwnPropertyDescriptor(o,e);return n.get?n.get.call(r):n.value}})(t,e,r||t)}function Xs(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=cf(t)););return t}function Ys(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Zs(t,e)}function Zs(t,e){return(Zs=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function $s(t){var e=at();return function(){var r,o=cf(t);if(e){var n=cf(this).constructor;r=Reflect.construct(o,arguments,n)}else r=o.apply(this,arguments);return _s(this,r)}}function _s(t,e){return!e||"object"!==Ts(e)&&"function"!=typeof e?lk(t):e}function lk(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function at(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function cf(t){return(cf=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var mk=Phaser.Utils.Objects.GetValue,nk=function(t){Ys(r,bf);var e=$s(r);function r(t,o){var n;Us(this,r);var $=lk(n=e.call(this,t,o)),a={states:{IDLE:{enter:function(){$.x=0,$.y=0,$.worldX=0,$.worldY=0},exit:function(){var t=$.lastPointer;$.x=t.x,$.y=t.y,$.worldX=t.worldX,$.worldY=t.worldY}},BEGIN:{enter:function(){$.start()},exit:function(){$.stop()}},RECOGNIZED:{enter:function(){$.emit("pressstart",$,$.gameObject,$.lastPointer)},exit:function(){$.emit("pressend",$,$.gameObject,$.lastPointer)}}},init:function(){this.state=df},eventEmitter:!1};return n.setRecongizedStateObject(new pc(a)),n}return Vs(r,[{key:"resetFromJSON",value:function(t){return Ws(cf(r.prototype),"resetFromJSON",this).call(this,t),this.setDragThreshold(mk(t,"threshold",9)),this.setMinHoldTime(mk(t,"time",251)),this}},{key:"onDragStart",value:function(){this.state=0===this.holdTime?Cg:ok}},{key:"onDragEnd",value:function(){this.state=df}},{key:"onDrag",value:function(){this.state!==df&&this.pointer.getDistance()>this.dragThreshold&&(this.state=df)}},{key:"preUpdate",value:function(t,e){this.state===ok&&t-this.pointer.downTime>=this.holdTime&&(this.state=Cg)}},{key:"setDragThreshold",value:function(t){return this.dragThreshold=t,this}},{key:"setMinHoldTime",value:function(t){return this.holdTime=t,this}},{key:"isPressed",get:function(){return this.state===Cg}}]),r}(),df="IDLE",ok="BEGIN",Cg="RECOGNIZED";mc.register("press",function(e,r){return id(e)||(r=e,e=this.scene),new nk(e,r)}),sc(window,"RexPlugins.Gestures.Press",nk);function bt(t){return(bt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ct(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function pk(t,e){for(var r=0;r<e.length;r++){var o=e[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function dt(t,e,r){return e&&pk(t.prototype,e),r&&pk(t,r),t}function et(t,e,r){return(et="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,r){var o=ft(t,e);if(o){var n=Object.getOwnPropertyDescriptor(o,e);return n.get?n.get.call(r):n.value}})(t,e,r||t)}function ft(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=ef(t)););return t}function gt(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ht(t,e)}function ht(t,e){return(ht=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function it(t){var e=kt();return function(){var r,o=ef(t);if(e){var n=ef(this).constructor;r=Reflect.construct(o,arguments,n)}else r=o.apply(this,arguments);return jt(this,r)}}function jt(t,e){return!e||"object"!==bt(e)&&"function"!=typeof e?qk(t):e}function qk(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function kt(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function ef(t){return(ef=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var lt=Phaser.Utils.Objects.GetValue,rk=function(t){gt(r,bf);var e=it(r);function r(t,o){var n;ct(this,r);var a=qk(n=e.call(this,t,o)),$={states:{IDLE:{},BEGIN:{enter:function(){var t=a.pointer;a.startX=t.x,a.startY=t.y,a.startWorldX=t.worldX,a.startWorldY=t.worldY}},RECOGNIZED:{enter:function(){a.emit("panstart",a,a.gameObject,a.lastPointer)},exit:function(){var t=a.lastPointer;a.endX=t.x,a.endY=t.y,a.endWorldX=t.worldX,a.endWorldY=t.worldY,a.emit("panend",a,a.gameObject,a.lastPointer)}}},init:function(){this.state=sk},eventEmitter:!1};return n.setRecongizedStateObject(new pc($)),n}return dt(r,[{key:"resetFromJSON",value:function(t){return et(ef(r.prototype),"resetFromJSON",this).call(this,t),this.setDragThreshold(lt(t,"threshold",10)),this}},{key:"onDragStart",value:function(){this.state=0===this.dragThreshold?ff:tk}},{key:"onDragEnd",value:function(){this.state=sk}},{key:"onDrag",value:function(){switch(this.state){case tk:this.pointer.getDistance()>=this.dragThreshold&&(this.state=ff);break;case ff:var t=this.pointer.position,e=this.pointer.prevPosition;this.dx=t.x-e.x,this.dy=t.y-e.y;var r=this.pointer;this.x=r.x,this.y=r.y,this.worldX=r.worldX,this.worldY=r.worldY,this.emit("pan",this,this.gameObject,this.lastPointer);}}},{key:"setDragThreshold",value:function(t){return this.dragThreshold=t,this}},{key:"isPan",get:function(){return this.state===ff}}]),r}(),sk="IDLE",tk="BEGIN",ff="RECOGNIZED";mc.register("pan",function(e,$){return id(e)||($=e,e=this.scene),new rk(e,$)}),sc(window,"RexPlugins.Gestures.Pan",rk);function mt(t){return(mt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function nt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function uk(t,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function ot(t,e,r){return e&&uk(t.prototype,e),r&&uk(t,r),t}function vk(t,e,r){return(vk="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,r){var i=pt(t,e);if(i){var o=Object.getOwnPropertyDescriptor(i,e);return o.get?o.get.call(r):o.value}})(t,e,r||t)}function pt(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=xd(t)););return t}function qt(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&rt(t,e)}function rt(t,e){return(rt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function st(t){var e=ut();return function(){var r,i=xd(t);if(e){var o=xd(this).constructor;r=Reflect.construct(i,arguments,o)}else r=i.apply(this,arguments);return tt(this,r)}}function tt(t,e){return!e||"object"!==mt(e)&&"function"!=typeof e?wk(t):e}function wk(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ut(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function xd(t){return(xd=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var vt=Phaser.Math.Distance.Between,wt=Phaser.Math.Angle.Between,xt={getDt:function(){return this.scene.sys.game.loop.delta},getVelocity:function(){var t=this.pointer.position,e=this.pointer.prevPosition;return vt(e.x,e.y,t.x,t.y)/(.001*this.getDt())},getVelocityX:function(){var t=this.pointer.position,e=this.pointer.prevPosition;return Math.abs(t.x-e.x)/(.001*this.getDt())},getVelocityY:function(){var t=this.pointer.position,e=this.pointer.prevPosition;return Math.abs(t.y-e.y)/(.001*this.getDt())},getVelocityAngle:function(){var t=this.pointer.position,e=this.pointer.prevPosition;return wt(e.x,e.y,t.x,t.y)}};var yt={"up&down":0,"left&right":1,"4dir":2,"8dir":3};var zt=function(t,e,r){switch(void 0===r?r={}:!0===r&&(r=At),r.left=!1,r.right=!1,r.up=!1,r.down=!1,t=(t+360)%360,e){case 0:t<180?r.down=!0:r.up=!0;break;case 1:t>90&&t<=270?r.left=!0:r.right=!0;break;case 2:t>45&&t<=135?r.down=!0:t>135&&t<=225?r.left=!0:t>225&&t<=315?r.up=!0:r.right=!0;break;case 3:t>22.5&&t<=67.5?(r.down=!0,r.right=!0):t>67.5&&t<=112.5?r.down=!0:t>112.5&&t<=157.5?(r.down=!0,r.left=!0):t>157.5&&t<=202.5?r.left=!0:t>202.5&&t<=247.5?(r.left=!0,r.up=!0):t>247.5&&t<=292.5?r.up=!0:t>292.5&&t<=337.5?(r.up=!0,r.right=!0):r.right=!0;}return r},At={};var Bt=Phaser.Math.Distance.Between,Dg=Phaser.Utils.Objects.GetValue,Ct=Phaser.Math.RadToDeg,Eg=function(t){qt(r,bf);var e=st(r);function r(t,i){var o;nt(this,r);var a=wk(o=e.call(this,t,i));a.___hotfixMode=i.workaroundEnabled,a.___maxTimeInDrag=i.workaroundMaxTime;var n={states:{IDLE:{enter:function(){a.x=0,a.y=0,a.worldX=0,a.worldY=0,1==a.___hotfixMode&&(a.vaildDrag=!1,a.stop())},exit:function(){var t=a.lastPointer;a.x=t.x,a.y=t.y,a.worldX=t.worldX,a.worldY=t.worldY}},BEGIN:{enter:function(){a.validDrag=!1,1==a.___hotfixMode&&(a.___timeInDrag=0,a.___pointerStartX=a.pointer.position.x,a.___pointerStartY=a.pointer.position.y,a.___velocityInTime=0,a.start())}},RECOGNIZED:{enter:function(){a.start(),a.updateDirectionStates(),a.emit("swipe",a,a.gameObject,a.lastPointer)},exit:function(){a.stop(),a.clearDirectionStates()}}},init:function(){this.state=gf},eventEmitter:!1};return o.setRecongizedStateObject(new pc(n)),o.clearDirectionStates(),o}return ot(r,[{key:"resetFromJSON",value:function(t){return vk(xd(r.prototype),"resetFromJSON",this).call(this,t),this.setDragThreshold(Dg(t,"threshold",10)),this.setMinDragVelocity(Dg(t,"velocityThreshold",1e3)),this.setDirectionMode(Dg(t,"dir","8dir")),this}},{key:"onDragStart",value:function(){this.state=xk}},{key:"onDragEnd",value:function(){this.state=gf}},{key:"onDrag",value:function(){this.state===xk&&(this.vaildDrag||(this.vaildDrag=0===this.dragThreshold||this.pointer.getDistance()>=this.dragThreshold),this.vaildDrag&&this.dragVelocity>this.minDragVelocity&&(this.state=hf))}},{key:"postUpdate",value:function(t,e){if(1==this.___hotfixMode){this.___timeInDrag+=e;var i=this.pointer.position,o=Bt(this.___pointerStartX,this.___pointerStartY,i.x,i.y)/(.001*this.___timeInDrag);this.vaildDrag&&o>this.minDragVelocity&&(this.state=hf)}vk(xd(r.prototype),"postUpdate",this).call(this,t,e),this.state===hf&&(this.state=gf),1==this.___hotfixMode&&this.___timeInDrag>=this.___maxTimeInDrag&&(this.state=gf)}},{key:"setDragThreshold",value:function(t){return this.dragThreshold=t,this}},{key:"setMinDragVelocity",value:function(t){return this.minDragVelocity=t,this}},{key:"setDirectionMode",value:function(t){return"string"==typeof t&&(t=yt[t]),this.dirMode=t,this}},{key:"updateDirectionStates",value:function(){var t=Ct(this.getVelocityAngle());return zt(t,this.dirMode,this),this}},{key:"clearDirectionStates",value:function(){return this.left=!1,this.right=!1,this.up=!1,this.down=!1,this}},{key:"isSwiped",get:function(){return this.state===hf}},{key:"dragVelocity",get:function(){var t;switch(this.dirMode){case 0:t=this.getVelocityY();break;case 1:t=this.getVelocityX();break;default:t=this.getVelocity();}return t}}]),r}();Object.assign(Eg.prototype,xt);var gf="IDLE",xk="BEGIN",hf="RECOGNIZED";mc.register("swipe",function(e,$){return id(e)||($=e,e=this.scene),new Eg(e,$)}),sc(window,"RexPlugins.Gestures.Swipe",Eg);function Dt(t){return(Dt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Et(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function yk(t,e){for(var r=0;r<e.length;r++){var a=e[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}function Ft(t,e,r){return e&&yk(t.prototype,e),r&&yk(t,r),t}function Gt(t,e,r){return(Gt="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,r){var a=Ht(t,e);if(a){var n=Object.getOwnPropertyDescriptor(a,e);return n.get?n.get.call(r):n.value}})(t,e,r||t)}function Ht(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=jf(t)););return t}function It(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Jt(t,e)}function Jt(t,e){return(Jt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Kt(t){var e=Mt();return function(){var r,a=jf(t);if(e){var n=jf(this).constructor;r=Reflect.construct(a,arguments,n)}else r=a.apply(this,arguments);return Lt(this,r)}}function Lt(t,e){return!e||"object"!==Dt(e)&&"function"!=typeof e?zk(t):e}function zk(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Mt(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function jf(t){return(jf=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Nt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ak(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function Ot(t,e,i){return e&&Ak(t.prototype,e),i&&Ak(t,i),t}var Vc=function(e){if(Array.isArray(e))e.length=0;else for(var r in e)delete e[r]};var Fg=Phaser.Utils.Objects.GetValue,Pt=Phaser.Utils.Array.SpliceOne,Qt=Phaser.Math.Distance.Between,Rt=Phaser.Math.Angle.Between,Gg=function(){function t(e,i){Nt(this,t);var n=e.input.manager.pointersTotal-1;n<2&&e.input.addPointer(2-n),this.scene=e,this.setEventEmitter(Fg(i,"eventEmitter",void 0)),this._enable=void 0,this.pointers=[],this.movedState={},this.resetFromJSON(i),this.boot()}return Ot(t,[{key:"resetFromJSON",value:function(t){return this.setEnable(Fg(t,"enable",!0)),this.bounds=Fg(t,"bounds",void 0),this.tracerState=kf,this.pointers.length=0,Vc(this.movedState),this}},{key:"boot",value:function(){this.scene.input.on("pointerdown",this.onPointerDown,this),this.scene.input.on("pointerup",this.onPointerUp,this),this.scene.input.on("pointermove",this.onPointerMove,this),this.scene.events.once("shutdown",this.destroy,this)}},{key:"shutdown",value:function(){this.destroyEventEmitter(),this.pointers.length=0,Vc(this.movedState),this.scene&&(this.scene.input.off("pointerdown",this.onPointerDown,this),this.scene.input.off("pointerup",this.onPointerUp,this),this.scene.input.off("pointermove",this.onPointerMove,this),this.scene.events.off("destroy",this.destroy,this),this.scene=void 0),this.scene=void 0}},{key:"destroy",value:function(){this.shutdown()}},{key:"setEnable",value:function(t){return void 0===t&&(t=!0),this.enable=t,this}},{key:"toggleEnable",value:function(){return this.setEnable(!this.enable),this}},{key:"onPointerDown",value:function(t){if(this.enable&&2!==this.pointers.length&&(!this.bounds||this.bounds.contains(t.x,t.y))&&-1===this.pointers.indexOf(t))switch(this.movedState[t.id]=!1,this.pointers.push(t),this.tracerState){case kf:this.tracerState=zd,this.onDrag1Start();break;case zd:this.tracerState=Gb,this.onDrag2Start();}}},{key:"onPointerUp",value:function(t){if(this.enable&&(!this.bounds||this.bounds.contains(t.x,t.y))){var e=this.pointers.indexOf(t);if(-1!==e)switch(delete this.movedState[t.id],Pt(this.pointers,e),this.tracerState){case zd:this.tracerState=kf,this.onDrag1End();break;case Gb:this.tracerState=zd,this.onDrag2End(),this.onDrag1Start();}}}},{key:"onPointerMove",value:function(t){if(this.enable&&t.isDown){var e=!this.bounds||this.bounds.contains(t.x,t.y),i=-1!==this.pointers.indexOf(t);if(!i&&e);else if(i&&!e)this.onPointerUp(t);else if(this.movedState[t.id]||(this.movedState[t.id]=t.x!==t.downX||t.y!==t.downY),this.movedState[t.id])switch(this.tracerState){case zd:this.onDrag1();break;case Gb:this.onDrag2();}}}},{key:"dragCancel",value:function(){return this.tracerState===Gb&&this.onDrag2End(),this.pointers.length=0,Vc(this.movedState),this.tracerState=kf,this}},{key:"onDrag1Start",value:function(){this.emit("drag1start",this)}},{key:"onDrag1End",value:function(){this.emit("drag1end",this)}},{key:"onDrag1",value:function(){this.emit("drag1",this)}},{key:"onDrag2Start",value:function(){this.emit("drag2start",this)}},{key:"onDrag2End",value:function(){this.emit("drag2end",this)}},{key:"onDrag2",value:function(){this.emit("drag2",this)}},{key:"setRecongizedStateObject",value:function(t){return this.recongizedState=t,this}},{key:"cancel",value:function(){return this.state=St,this}},{key:"enable",get:function(){return this._enable},set:function(t){if(this._enable!==t)return t||this.dragCancel(),this._enable=t,this}},{key:"distanceBetween",get:function(){if(this.tracerState!==Gb)return 0;var t=this.pointers[0],e=this.pointers[1];return Qt(t.x,t.y,e.x,e.y)}},{key:"angleBetween",get:function(){if(this.tracerState!==Gb)return 0;var t=this.pointers[0],e=this.pointers[1];return Rt(t.x,t.y,e.x,e.y)}},{key:"drag1Vector",get:function(){var t=this.pointers[0];if(t&&this.movedState[t.id]){var e=t.position,i=t.prevPosition;yd.x=e.x-i.x,yd.y=e.y-i.y}else yd.x=0,yd.y=0;return yd}},{key:"centerX",get:function(){if(this.tracerState!==Gb)return 0;var t=this.pointers[0].position,e=this.pointers[1].position;return(t.x+e.x)/2}},{key:"centerY",get:function(){if(this.tracerState!==Gb)return 0;var t=this.pointers[0].position,e=this.pointers[1].position;return(t.y+e.y)/2}},{key:"prevCenterX",get:function(){if(this.tracerState!==Gb)return 0;var t=this.movedState[this.pointers[0].id]?this.pointers[0].prevPosition:this.pointers[0].position,e=this.movedState[this.pointers[1].id]?this.pointers[1].prevPosition:this.pointers[1].position;return(t.x+e.x)/2}},{key:"prevCenterY",get:function(){if(this.tracerState!==Gb)return 0;var t=this.movedState[this.pointers[0].id]?this.pointers[0].prevPosition:this.pointers[0].position,e=this.movedState[this.pointers[1].id]?this.pointers[1].prevPosition:this.pointers[1].position;return(t.y+e.y)/2}},{key:"movementCenterX",get:function(){return this.centerX-this.prevCenterX}},{key:"movementCenterY",get:function(){return this.centerY-this.prevCenterY}},{key:"state",get:function(){return this.recongizedState.state},set:function(t){this.recongizedState.state=t}}]),t}();Object.assign(Gg.prototype,gd);var yd={},kf=0,zd=1,Gb=2,St="IDLE";var Tt=Phaser.Utils.Objects.GetValue,Bk=function(t){It(r,Gg);var e=Kt(r);function r(t,a){var n;Et(this,r);var o=zk(n=e.call(this,t,a)),i={states:{IDLE:{enter:function(){o.prevDistance=void 0,o.scaleFactor=1}},BEGIN:{},RECOGNIZED:{enter:function(){o.emit("pinchstart",o)},exit:function(){o.emit("pinchend",o)}}},init:function(){this.state=Ck},eventEmitter:!1};return n.setRecongizedStateObject(new pc(i)),n}return Ft(r,[{key:"resetFromJSON",value:function(t){return Gt(jf(r.prototype),"resetFromJSON",this).call(this,t),this.setDragThreshold(Tt(t,"threshold",0)),this}},{key:"onDrag2Start",value:function(){this.scaleFactor=1,this.prevDistance=this.distanceBetween,this.state=0===this.dragThreshold?lf:Dk}},{key:"onDrag2End",value:function(){this.state=Ck}},{key:"onDrag2",value:function(){switch(this.state){case Dk:if(this.pointers[0].getDistance()>=this.dragThreshold&&this.pointers[1].getDistance()>=this.dragThreshold){var t=this.distanceBetween;this.scaleFactor=t/this.prevDistance,this.prevDistance=t,this.state=lf}break;case lf:t=this.distanceBetween;this.scaleFactor=t/this.prevDistance,this.emit("pinch",this),this.prevDistance=t;}}},{key:"setDragThreshold",value:function(t){return this.dragThreshold=t,this}},{key:"isPinch",get:function(){return this.state===lf}}]),r}(),Ck="IDLE",Dk="BEGIN",lf="RECOGNIZED";mc.register("pinch",function(e){return new Bk(this.scene,e)}),sc(window,"RexPlugins.Gestures.Pinch",Bk);function Ut(e){return(Ut="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Vt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ek(e,t){for(var r=0;r<t.length;r++){var $=t[r];$.enumerable=$.enumerable||!1,$.configurable=!0,"value"in $&&($.writable=!0),Object.defineProperty(e,$.key,$)}}function Wt(e,t,r){return t&&Ek(e.prototype,t),r&&Ek(e,r),e}function Xt(e,t,r){return(Xt="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,r){var $=Yt(e,t);if($){var a=Object.getOwnPropertyDescriptor($,t);return a.get?a.get.call(r):a.value}})(e,t,r||e)}function Yt(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=mf(e)););return e}function Zt(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&$t(e,t)}function $t(e,t){return($t=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _t(e){var t=du();return function(){var r,$=mf(e);if(t){var a=mf(this).constructor;r=Reflect.construct($,arguments,a)}else r=$.apply(this,arguments);return bu(this,r)}}function bu(e,t){return!t||"object"!==Ut(t)&&"function"!=typeof t?Fk(e):t}function Fk(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function du(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function mf(e){return(mf=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var gu=Phaser.Math.RotateAround,Gk=function(t,r,$,o){return gu(t,r,$,o),t.rotation+=o,t};var hu=function(t,r){if(!this.isRotation)return this;void 0===r&&(r=this.pointers[0].camera);var e=this.movementCenterX,$=this.movementCenterY;r.getWorldPoint(this.centerX,this.centerY,Hg);var o=Hg.x,i=Hg.y,a=this.rotation;if(Array.isArray(t))for(var s=t,n=0,R=s.length;n<R;n++)(t=s[n]).x+=e,t.y+=$,Gk(t,o,i,a);else t.x+=e,t.y+=$,Gk(t,x,y,a);return this},Hg={};var ju=Phaser.Utils.Objects.GetValue,Ig=Phaser.Math.Angle.WrapDegrees,Hk=Phaser.Math.Angle.ShortestBetween,Jg=Phaser.Math.RadToDeg,ku=Phaser.Math.DegToRad,Kg=function(e){Zt(r,Gg);var t=_t(r);function r(e,$){var a;Vt(this,r);var o=Fk(a=t.call(this,e,$)),n={states:{IDLE:{enter:function(){o.prevAngle=void 0,o.angle=0}},BEGIN:{},RECOGNIZED:{enter:function(){o.emit("rotatestart",o)},exit:function(){o.emit("rotateend",o)}}},init:function(){this.state=Ik},eventEmitter:!1};return a.setRecongizedStateObject(new pc(n)),a}return Wt(r,[{key:"resetFromJSON",value:function(e){return Xt(mf(r.prototype),"resetFromJSON",this).call(this,e),this.setDragThreshold(ju(e,"threshold",0)),this}},{key:"onDrag2Start",value:function(){this.prevAngle=Ig(Jg(this.angleBetween)),this.state=0===this.rotationThreshold?nf:Jk}},{key:"onDrag2End",value:function(){this.state=Ik}},{key:"onDrag2",value:function(){switch(this.state){case Jk:if(this.pointers[0].getDistance()>=this.dragThreshold&&this.pointers[1].getDistance()>=this.dragThreshold){var e=Ig(Jg(this.angleBetween));this.angle=Hk(this.prevAngle,e),this.prevAngle=e,this.state=nf}break;case nf:e=Ig(Jg(this.angleBetween));this.angle=Hk(this.prevAngle,e),this.prevAngle=e,this.emit("rotate",this);}}},{key:"setDragThreshold",value:function(e){return this.dragThreshold=e,this}},{key:"isRotation",get:function(){return this.state===nf}},{key:"rotation",get:function(){return ku(this.angle)}}]),r}(),mu={spinObject:hu};Object.assign(Kg.prototype,mu);var Ik="IDLE",Jk="BEGIN",nf="RECOGNIZED";mc.register("rotate",function(e){return new Kg(this.scene,e)}),sc(window,"RexPlugins.Gestures.Rotate",Kg);var pu=function(t){ls(r,Phaser.Plugins.ScenePlugin);var e=ns(r);function r(t,o){var a;return ks(this,r),(a=e.call(this,t,o)).add=new mc(t),a}return r}();function qu(t){return(qu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function vu(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Kk(t,e){for(var r=0;r<e.length;r++){var o=e[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function wu(t,e,r){return e&&Kk(t.prototype,e),r&&Kk(t,r),t}function xu(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&yu(t,e)}function yu(t,e){return(yu=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function zu(t){var e=Cu();return function(){var r,o=Lk(t);if(e){var n=Lk(this).constructor;r=Reflect.construct(o,arguments,n)}else r=o.apply(this,arguments);return Au(this,r)}}function Au(t,e){return!e||"object"!==qu(e)&&"function"!=typeof e?Bu(t):e}function Bu(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Cu(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function Lk(t){return(Lk=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Du(t){return(Du="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Eu(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Mk(t,e){for(var r=0;r<e.length;r++){var o=e[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function Fu(t,e,r){return e&&Mk(t.prototype,e),r&&Mk(t,r),t}function Gu(t,e,r,o){return(Gu="undefined"!=typeof Reflect&&Reflect.set?Reflect.set:function(t,e,r,o){var n,i=Nk(t,e);if(i){if((n=Object.getOwnPropertyDescriptor(i,e)).set)return n.set.call(o,r),!0;if(!n.writable)return!1}if(n=Object.getOwnPropertyDescriptor(o,e)){if(!n.writable)return!1;n.value=r,Object.defineProperty(o,e,n)}else Hu(o,e,r);return!0})(t,e,r,o)}function tc(t,e,r,o,n){if(!Gu(t,e,r,o||t)&&n)throw new Error("failed to set property");return r}function Hu(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function vb(t,e,r){return(vb="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,r){var o=Nk(t,e);if(o){var n=Object.getOwnPropertyDescriptor(o,e);return n.get?n.get.call(r):n.value}})(t,e,r||t)}function Nk(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Ka(t)););return t}function Iu(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Ju(t,e)}function Ju(t,e){return(Ju=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Ku(t){var e=Nu();return function(){var r,o=Ka(t);if(e){var n=Ka(this).constructor;r=Reflect.construct(o,arguments,n)}else r=o.apply(this,arguments);return Lu(this,r)}}function Lu(t,e){return!e||"object"!==Du(e)&&"function"!=typeof e?Mu(t):e}function Mu(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Nu(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function Ka(t){return(Ka=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Ou(o){return(Ou="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o})(o)}function Pu(o,e){if(!(o instanceof e))throw new TypeError("Cannot call a class as a function")}function Ok(o,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(o,r.key,r)}}function Qu(o,e,t){return e&&Ok(o.prototype,e),t&&Ok(o,t),o}function Ru(o,e,t){return(Ru="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(o,e,t){var r=Su(o,e);if(r){var n=Object.getOwnPropertyDescriptor(r,e);return n.get?n.get.call(t):n.value}})(o,e,t||o)}function Su(o,e){for(;!Object.prototype.hasOwnProperty.call(o,e)&&null!==(o=of(o)););return o}function Tu(o,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(e&&e.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),e&&Uu(o,e)}function Uu(o,e){return(Uu=Object.setPrototypeOf||function(o,e){return o.__proto__=e,o})(o,e)}function Vu(o){var e=Yu();return function(){var t,r=of(o);if(e){var n=of(this).constructor;t=Reflect.construct(r,arguments,n)}else t=r.apply(this,arguments);return Wu(this,t)}}function Wu(o,e){return!e||"object"!==Ou(e)&&"function"!=typeof e?Xu(o):e}function Xu(o){if(void 0===o)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}function Yu(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(o){return!1}}function of(o){return(of=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}var Zu=Phaser.GameObjects.Zone,$u=Phaser.Utils.Array.Add,_u=Phaser.Utils.Array.Remove,Ad=function(o){Tu(t,Zu);var e=Vu(t);function t(o,r,n,$,a){var i;return Pu(this,t),void 0===$&&($=1),void 0===a&&(a=1),(i=e.call(this,o,r,n,$,a)).children=[],i}return Qu(t,[{key:"destroy",value:function(o){this.scene&&(this.clear(!o),Ru(of(t.prototype),"destroy",this).call(this,o))}},{key:"contains",value:function(o){return-1!==this.children.indexOf(o)}},{key:"add",value:function(o){return $u(this.children,o,0,function(o){o.on("destroy",this.remove,this)},this),this}},{key:"remove",value:function(o,e){return _u(this.children,o,function(o){o.off("destroy",this.remove,this),e&&o.destroy()}),this}},{key:"clear",value:function(o){for(var e,t=0,r=this.children.length;t<r;t++)(e=this.children[t]).off("destroy",this.remove,this),o&&e.destroy();return this.children.length=0,this}}]),t}(),Pk=Phaser.GameObjects.Components;Phaser.Class.mixin(Ad,[Pk.Alpha,Pk.Flip]);var Lg=function(t){var e;return t.hasOwnProperty("rexContainer")&&(e=t.rexContainer.parent),e},av=function(t){for(var e=Lg(t);e;)t=e,e=Lg(e);return t};var bv={setParent:function(t,e){void 0===e&&(e=this);var r=this.getLocalState(t);return e?(r.parent=e,r.self=t):(r.parent=null,r.self=null),this},getParent:function(t){return void 0===t&&(t=this),Lg(t)},getTopmostParent:function(t){return void 0===t&&(t=this),av(t)}};var cv=Ad.prototype.add,Qk=function(t){return this.setParent(t),this.resetChildState(t).updateChildVisible(t).updateChildActive(t).updateChildScrollFactor(t).updateChildMask(t),cv.call(this,t),this},dv={add:function(t){return Array.isArray(t)?this.addMultiple(t):Qk.call(this,t),this},addMultiple:function(t){for(var a=0,e=t.length;a<e;a++)Qk.call(this,t[a]);return this}};var ev=Ad.prototype.remove,fv=Ad.prototype.clear,gv={remove:function(e,t){return this.getParent(e)!==this?this:(this.setParent(e,null),ev.call(this,e,t),this)},clear:function(e){for(var t=0,r=this.children.length;t<r;t++)this.setParent(this.children[t],null);return fv.call(this,e),this}};var hv={getLocalState:function(t){return t.hasOwnProperty("rexContainer")||(t.rexContainer={}),t.rexContainer},resetChildState:function(t){return this.resetChildPositionState(t).resetChildVisibleState(t).resetChildAlphaState(t).resetChildActiveState(t),this},resetChildrenState:function(t){for(var e=0,r=t.length;e<r;e++)this.resetChildState(t[e]);return this},syncProperties:function(){return this.syncPosition().syncVisible().syncAlpha().syncActive().syncScrollFactor().syncMask(),this}};var Rk=Phaser.Math.RotateAround,iv={worldToLocal:function(t){return t.x-=this.x,t.y-=this.y,Rk(t,0,0,-this.rotation),t.x/=this.scaleX,t.y/=this.scaleY,t.x*=this.flipX?-1:1,t.y*=this.flipY?-1:1,t},localToWorld:function(t){return t.x*=this.flipX?-1:1,t.y*=this.flipY?-1:1,t.x*=this.scaleX,t.y*=this.scaleY,Rk(t,0,0,this.rotation),t.x+=this.x,t.y+=this.y,t}};var Mg=function(f,$){return f===$?1:f/$};var jv={updateChildPosition:function(i){i.isRexContainerLite&&(i.syncChildrenEnable=!1);var t=this.getLocalState(i);return i.x=t.x,i.y=t.y,this.localToWorld(i),i.scaleX=t.scaleX*this.scaleX,i.scaleY=t.scaleY*this.scaleY,void 0!==i.flipX&&(i.flipX=this.flipX?!t.flipX:t.flipX,i.flipY=this.flipY?!t.flipY:t.flipY),i.rotation=t.rotation+this.rotation,i.isRexContainerLite&&(i.syncChildrenEnable=!0,i.syncPosition()),this},syncPosition:function(){return this.syncChildrenEnable&&this.children.forEach(this.updateChildPosition,this),this},resetChildPositionState:function(i){var t=this.getLocalState(i);return t.x=i.x,t.y=i.y,this.worldToLocal(t),t.scaleX=Mg(i.scaleX,this.scaleX),t.scaleY=Mg(i.scaleY,this.scaleY),void 0!==i.flipX&&(t.flipX=i.flipX,t.flipY=i.flipY),t.rotation=i.rotation-this.rotation,this},setChildPosition:function(i,t,a){return i.x=t,i.y=a,this.resetChildPositionState(i),this},setChildLocalPosition:function(i,t,a){var e=this.getLocalState(i);return e.x=t,e.y=a,this.updateChildPosition(i),this}};var kv={updateChildVisible:function(i){return i.visible=this.visible&&this.getLocalState(i).visible,this},syncVisible:function(){return this.syncChildrenEnable&&this.children.forEach(this.updateChildVisible,this),this},resetChildVisibleState:function(i){return this.getLocalState(i).visible=i.visible,this},setChildVisible:function(i,t){return i.visible=t,this.resetChildVisibleState(i),this},setChildLocalVisible:function(i,t){return void 0===t&&(t=!0),this.getLocalState(i).visible=t,this.updateChildVisible(i),this}};var lv={updateChildAlpha:function(t){return t.alpha=this.alpha*this.getLocalState(t).alpha,this},syncAlpha:function(){return this.syncChildrenEnable&&this.children.forEach(this.updateChildAlpha,this),this},resetChildAlphaState:function(t){return this.getLocalState(t).alpha=Mg(t.alpha,this.alpha),this},setChildAlpha:function(t,a){return t.alpha=a,this.resetChildAlphaState(t),this._add},setChildLocalAlpha:function(t,a){return this.getLocalState(t).alpha=a,this.updateChildAlpha(t),this}};var mv={updateChildActive:function(t){return t.active=this.active&&this.getLocalState(t).active,this},syncActive:function(){return this.syncChildrenEnable&&this.children.forEach(this.updateChildActive,this),this},resetChildActiveState:function(t){return this.getLocalState(t).active=t.active,this},setChildActive:function(t,e){return t.active=e,this.resetChildActiveState(t),this},setChildLocalActive:function(t,e){return void 0===e&&(e=!0),this.getLocalState(t).active=e,this.updateChildActive(t),this}};var nv={updateChildScrollFactor:function(t){return t.setScrollFactor(this.scrollFactorX,this.scrollFactorY),this},syncScrollFactor:function(){return this.syncChildrenEnable&&this.children.forEach(this.updateChildScrollFactor,this),this}};var ov={updateChildMask:function(s){return null==this.mask?this:((this.mask.hasOwnProperty("geometryMask")?this.mask.geometryMask:this.mask.bitmapMask)!==s&&(s.mask=this.mask),this)},syncMask:function(){return this.syncChildrenEnable&&this.children.forEach(this.updateChildMask,this),this},setMask:function(s){return this.mask=s,this},clearMask:function(s){return void 0===s&&(s=!1),s&&this.mask&&this.mask.destroy(),this.mask=null,this}};var pv={setDepth:function(t,e){if(this.depth=t,!e&&this.children)for(var h=this.getAllChildren(),i=0,n=h.length;i<n;i++)h[i].depth=t;return this},swapDepth:function(t){var e=this.depth,h=t.depth;return this.setDepth(h),t.setDepth(e),this},incDepth:function(t){if(this.depth+=t,this.children)for(var e=this.getAllChildren(),h=0,i=e.length;h<i;h++)e[h].depth+=t;return this}};function qv(r){return uv(r)||tv(r)||sv(r)||rv()}function rv(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function sv(r,t){if(r){if("string"==typeof r)return Ng(r,t);var e=Object.prototype.toString.call(r).slice(8,-1);return"Object"===e&&r.constructor&&(e=r.constructor.name),"Map"===e||"Set"===e?Array.from(r):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?Ng(r,t):void 0}}function tv(r){if("undefined"!=typeof Symbol&&null!=r[Symbol.iterator]||null!=r["@@iterator"])return Array.from(r)}function uv(r){if(Array.isArray(r))return Ng(r)}function Ng(r,t){(null==t||t>r.length)&&(t=r.length);for(var e=0,n=new Array(t);e<t;e++)n[e]=r[e];return n}var bc=Phaser.Utils.Array,vv={getChildren:function(){return this.children},getAllChildren:function(r){void 0===r&&(r=[]);for(var t,e=this.children,n=0,a=e.length;n<a;n++){var i;if(t=e[n],r.push(t),t.hasOwnProperty("isRexContainerLite"))(i=r).push.apply(i,qv(t.getAllChildren()))}return r},contains:function(r){var t=this.getParent(r);return!!t&&(t===this||this.contains(t))},getByName:function(r,t){if(t){for(var e,n,a=[this];a.length;)for(var i=0,o=(e=a.shift()).children.length;i<o;i++){if((n=e.children[i]).name===r)return n;n.isRexContainerLite&&a.push(n)}return null}return bc.GetFirst(this.children,"name",r)},getRandom:function(r,t){return bc.GetRandom(this.children,r,t)},getFirst:function(r,t,e,n){return bc.GetFirstElement(this.children,r,t,e,n)},getAll:function(r,t,e,n){return bc.GetAll(this.children,r,t,e,n)},count:function(r,t,e,n){return bc.CountAllMatching(this.children,r,t,e,n)},swap:function(r,t){return bc.Swap(this.children,r,t),this},moveTo:function(r,t){return bc.MoveTo(this.children,r,t),this},setAll:function(r,t,e,n){return bc.SetAll(this.children,r,t,e,n),this}};var Sk=function(t){return"[object Array]"===Object.prototype.toString.call(t)};var wv={tweenChild:function(e){var a=e.targets;Sk(a)||(a=[a]);for(var t,r,n=[],s=0,i=a.length;s<i;s++)(r=a[s]).hasOwnProperty("rexContainer")&&(t=r.scene,n.push(r.rexContainer));if(t){e.targets=n;var c=t.tweens.add(e);return c.on("update",function(e,a,t){for(var r,n,s=0,i=t.length;s<i;s++)switch(r=t.parent,n=t.self,a){case"x":case"y":case"angle":case"rotation":case"scaleX":case"scaleY":case"flipX":case"flipY":r.updateChildPosition(n);break;case"alpha":r.updateChildAlpha(n);}}),c}},tween:function(e){var a=this.scene;return e.targets||(e.targets=this),a.tweens.add(e)}};var Tk={};Object.assign(Tk,bv,dv,gv,hv,iv,jv,kv,lv,mv,nv,ov,pv,vv,wv);var pf=function(t){Iu(r,Ad);var e=Ku(r);function r(t,o,n,i,$,s){var a;return Eu(this,r),(a=e.call(this,t,o,n,i,$)).type="rexContainerLite",a.isRexContainerLite=!0,a.syncChildrenEnable=!0,a._active=!0,a._mask=null,a._scrollFactorX=1,a._scrollFactorY=1,s&&a.add(s),a}return Fu(r,[{key:"destroy",value:function(t){this.scene&&(this.syncChildrenEnable=!1,vb(Ka(r.prototype),"destroy",this).call(this,t))}},{key:"resize",value:function(t,e){return this.setSize(t,e),this}},{key:"x",get:function(){return this._x},set:function(t){this._x!==t&&(this._x=t,this.syncPosition())}},{key:"y",get:function(){return this._y},set:function(t){this._y!==t&&(this._y=t,this.syncPosition())}},{key:"rotation",get:function(){return vb(Ka(r.prototype),"rotation",this)},set:function(t){this.rotation!==t&&(tc(Ka(r.prototype),"rotation",t,this,!0),this.syncPosition())}},{key:"scaleX",get:function(){return vb(Ka(r.prototype),"scaleX",this)},set:function(t){this.scaleX!==t&&(tc(Ka(r.prototype),"scaleX",t,this,!0),this.syncPosition())}},{key:"scaleY",get:function(){return vb(Ka(r.prototype),"scaleY",this)},set:function(t){this.scaleY!==t&&(tc(Ka(r.prototype),"scaleY",t,this,!0),this.syncPosition())}},{key:"flipX",get:function(){return vb(Ka(r.prototype),"flipX",this)},set:function(t){vb(Ka(r.prototype),"flipX",this)!==t&&(tc(Ka(r.prototype),"flipX",t,this,!0),this.syncPosition())}},{key:"flipY",get:function(){return vb(Ka(r.prototype),"flipY",this)},set:function(t){vb(Ka(r.prototype),"flipY",this)!==t&&(tc(Ka(r.prototype),"flipY",t,this,!0),this.syncPosition())}},{key:"visible",get:function(){return vb(Ka(r.prototype),"visible",this)},set:function(t){vb(Ka(r.prototype),"visible",this)!==t&&(tc(Ka(r.prototype),"visible",t,this,!0),this.syncVisible())}},{key:"alpha",get:function(){return vb(Ka(r.prototype),"alpha",this)},set:function(t){vb(Ka(r.prototype),"alpha",this)!==t&&(tc(Ka(r.prototype),"alpha",t,this,!0),this.syncAlpha())}},{key:"active",get:function(){return this._active},set:function(t){this._active!==t&&(this._active=t,this.syncActive())}},{key:"mask",get:function(){return this._mask},set:function(t){this._mask!==t&&(this._mask=t,this.syncMask())}},{key:"scrollFactorX",get:function(){return this._scrollFactorX},set:function(t){this._scrollFactorX!==t&&(this._scrollFactorX=t,this.syncScrollFactor())}},{key:"scrollFactorY",get:function(){return this._scrollFactorY},set:function(t){this._scrollFactorY!==t&&(this._scrollFactorY=t,this.syncScrollFactor())}},{key:"list",get:function(){return this.children}}]),r}();Object.assign(pf.prototype,Tk);var xv=function(e,t,r,$,i){var n=new pf(this.scene,e,t,r,$,i);return this.scene.add.existing(n),n};var Uk=Phaser.Utils.Objects.GetAdvancedValue,yv=Phaser.Utils.Objects.GetValue,zv=Phaser.GameObjects.BuildGameObject,Av=function(e){var a=Uk(e,"width",1),$=Uk(e,"height",a),t=yv(e,"children",void 0),r=new pf(this.scene,0,0,a,$);return r.syncChildrenEnable=!1,zv(this.scene,r,e),r.syncChildrenEnable=!0,r.add(t),r};var Bv=function(t){xu(r,Phaser.Plugins.BasePlugin);var e=zu(r);function r(t){var o;return vu(this,r),o=e.call(this,t),t.registerGameObject("rexContainerLite",xv,Av),o}return wu(r,[{key:"start",value:function(){this.game.events.on("destroy",this.destroy,this)}}]),r}();sc(window,"RexPlugins.GameObjects.ContainerLite",pf);function Cv(r){return(Cv="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(r){return typeof r}:function(r){return r&&"function"==typeof Symbol&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r})(r)}function Dv(r,t){if(!(r instanceof t))throw new TypeError("Cannot call a class as a function")}function Vk(r,t){for(var e=0;e<t.length;e++){var o=t[e];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(r,o.key,o)}}function Ev(r,t,e){return t&&Vk(r.prototype,t),e&&Vk(r,e),r}function Fv(r,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(t&&t.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),t&&Gv(r,t)}function Gv(r,t){return(Gv=Object.setPrototypeOf||function(r,t){return r.__proto__=t,r})(r,t)}function Hv(r){var t=Kv();return function(){var e,o=Wk(r);if(t){var n=Wk(this).constructor;e=Reflect.construct(o,arguments,n)}else e=o.apply(this,arguments);return Iv(this,e)}}function Iv(r,t){return!t||"object"!==Cv(t)&&"function"!=typeof t?Jv(r):t}function Jv(r){if(void 0===r)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function Kv(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(r){return!1}}function Wk(r){return(Wk=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)})(r)}var Lv=function(r){Fv(e,Phaser.Plugins.BasePlugin);var t=Hv(e);function e(r){return Dv(this,e),t.call(this,r)}return Ev(e,[{key:"start",value:function(){this.game.events.on("destroy",this.destroy,this)}},{key:"add",value:function(r,t){return new Pi(r,t)}}]),e}();function Mv(t){return(Mv="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Nv(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Xk(t,e){for(var r=0;r<e.length;r++){var o=e[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function Ov(t,e,r){return e&&Xk(t.prototype,e),r&&Xk(t,r),t}function Pv(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Qv(t,e)}function Qv(t,e){return(Qv=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Rv(t){var e=Uv();return function(){var r,o=Yk(t);if(e){var n=Yk(this).constructor;r=Reflect.construct(o,arguments,n)}else r=o.apply(this,arguments);return Sv(this,r)}}function Sv(t,e){return!e||"object"!==Mv(e)&&"function"!=typeof e?Tv(t):e}function Tv(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Uv(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function Yk(t){return(Yk=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Vv=function(t){Pv(r,Phaser.Plugins.BasePlugin);var e=Rv(r);function r(t){return Nv(this,r),e.call(this,t)}return Ov(r,[{key:"start",value:function(){this.game.events.on("destroy",this.destroy,this)}},{key:"add",value:function(t,e){return new $f(t,e)}}]),r}();function Wv(t){return(Wv="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Xv(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Zk(t,e){for(var r=0;r<e.length;r++){var o=e[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function Yv(t,e,r){return e&&Zk(t.prototype,e),r&&Zk(t,r),t}function Zv(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&$v(t,e)}function $v(t,e){return($v=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function _v(t){var e=cw();return function(){var r,o=$k(t);if(e){var n=$k(this).constructor;r=Reflect.construct(o,arguments,n)}else r=o.apply(this,arguments);return aw(this,r)}}function aw(t,e){return!e||"object"!==Wv(e)&&"function"!=typeof e?bw(t):e}function bw(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function cw(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function $k(t){return($k=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var dw=function(t){Zv(r,Phaser.Plugins.BasePlugin);var e=_v(r);function r(t){return Xv(this,r),e.call(this,t)}return Yv(r,[{key:"start",value:function(){this.game.events.on("destroy",this.destroy,this)}},{key:"add",value:function(t,e){return new xj(t,e)}}]),r}();function ew(e){return(ew="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function fw(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _k(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function gw(e,t,r){return t&&_k(e.prototype,t),r&&_k(e,r),e}function hw(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&iw(e,t)}function iw(e,t){return(iw=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function jw(e){var t=mw();return function(){var r,o=al(e);if(t){var n=al(this).constructor;r=Reflect.construct(o,arguments,n)}else r=o.apply(this,arguments);return kw(this,r)}}function kw(e,t){return!t||"object"!==ew(t)&&"function"!=typeof t?lw(e):t}function lw(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function mw(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function al(e){return(al=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var bl=function(e){hw(r,Phaser.Plugins.BasePlugin);var t=jw(r);function r(e){return fw(this,r),t.call(this,e)}return gw(r,[{key:"start",value:function(){this.game.events.on("destroy",this.destroy,this)}},{key:"add",value:function(e,t){return new jd(e,t)}}]),r}(),nw={moveTo:Ld,moveFrom:ph,moveToDestroy:Bn,moveFromDestroy:Cn};Object.assign(bl.prototype,nw);function ow(t){return(ow="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function pw(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function cl(t,e){for(var r=0;r<e.length;r++){var o=e[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function qw(t,e,r){return e&&cl(t.prototype,e),r&&cl(t,r),t}function rw(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&sw(t,e)}function sw(t,e){return(sw=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function tw(t){var e=ww();return function(){var r,o=dl(t);if(e){var n=dl(this).constructor;r=Reflect.construct(o,arguments,n)}else r=o.apply(this,arguments);return uw(this,r)}}function uw(t,e){return!e||"object"!==ow(e)&&"function"!=typeof e?vw(t):e}function vw(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ww(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function dl(t){return(dl=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function xw(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function el(t,e){for(var i=0;i<e.length;i++){var s=e[i];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,s.key,s)}}function yw(t,e,i){return e&&el(t.prototype,e),i&&el(t,i),t}var Og,Pg={};!function(e,t){"function"==typeof Og&&Og.amd?Og([],t):void 0!==Pg?Pg=t():e.Papa=t()}(Pg,function e(){var t="undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==t?t:{},i=!t.document&&!!t.postMessage,r=i&&/blob:/i.test((t.location||{}).protocol),n={},s=0,a={parse:function(i,r){var o=(r=r||{}).dynamicTyping||!1;if(b(o)&&(r.dynamicTypingFunction=o,o={}),r.dynamicTyping=o,r.transform=!!b(r.transform)&&r.transform,r.worker&&a.WORKERS_SUPPORTED){var h=function(){if(!a.WORKERS_SUPPORTED)return!1;var i,r,o=(i=t.URL||t.webkitURL||null,r=e.toString(),a.BLOB_URL||(a.BLOB_URL=i.createObjectURL(new Blob(["(",r,")();"],{type:"text/javascript"})))),h=new t.Worker(o);return h.onmessage=m,h.id=s++,n[h.id]=h}();return h.userStep=r.step,h.userChunk=r.chunk,h.userComplete=r.complete,h.userError=r.error,r.step=b(r.step),r.chunk=b(r.chunk),r.complete=b(r.complete),r.error=b(r.error),delete r.worker,void h.postMessage({input:i,config:r,workerId:h.id})}var c=null;return a.NODE_STREAM_INPUT,"string"==typeof i?c=r.download?new u(r):new d(r):!0===i.readable&&b(i.read)&&b(i.on)?c=new l(r):(t.File&&i instanceof File||i instanceof Object)&&(c=new f(r)),c.stream(i)},unparse:function(e,t){var i=!1,r=!0,n=",",s="\r\n",o="\"",h=o+o,u=!1,f=null,d=!1;!function(){if("object"==typeof t){if("string"!=typeof t.delimiter||a.BAD_DELIMITERS.filter(function(e){return-1!==t.delimiter.indexOf(e)}).length||(n=t.delimiter),("boolean"==typeof t.quotes||"function"==typeof t.quotes||Array.isArray(t.quotes))&&(i=t.quotes),"boolean"!=typeof t.skipEmptyLines&&"string"!=typeof t.skipEmptyLines||(u=t.skipEmptyLines),"string"==typeof t.newline&&(s=t.newline),"string"==typeof t.quoteChar&&(o=t.quoteChar),"boolean"==typeof t.header&&(r=t.header),Array.isArray(t.columns)){if(0===t.columns.length)throw new Error("Option columns is empty");f=t.columns}void 0!==t.escapeChar&&(h=t.escapeChar+o),"boolean"==typeof t.escapeFormulae&&(d=t.escapeFormulae)}}();var l=new RegExp(p(o),"g");if("string"==typeof e&&(e=JSON.parse(e)),Array.isArray(e)){if(!e.length||Array.isArray(e[0]))return g(null,e,u);if("object"==typeof e[0])return g(f||c(e[0]),e,u)}else if("object"==typeof e)return"string"==typeof e.data&&(e.data=JSON.parse(e.data)),Array.isArray(e.data)&&(e.fields||(e.fields=e.meta&&e.meta.fields),e.fields||(e.fields=Array.isArray(e.data[0])?e.fields:c(e.data[0])),Array.isArray(e.data[0])||"object"==typeof e.data[0]||(e.data=[e.data])),g(e.fields||[],e.data||[],u);throw new Error("Unable to serialize unrecognized input");function c(e){if("object"!=typeof e)return[];var t=[];for(var i in e)t.push(i);return t}function g(e,t,i){var a="";"string"==typeof e&&(e=JSON.parse(e)),"string"==typeof t&&(t=JSON.parse(t));var o=Array.isArray(e)&&0<e.length,h=!Array.isArray(t[0]);if(o&&r){for(var u=0;u<e.length;u++)0<u&&(a+=n),a+=m(e[u],u);0<t.length&&(a+=s)}for(var f=0;f<t.length;f++){var d=o?e.length:t[f].length,l=!1,c=o?0===Object.keys(t[f]).length:0===t[f].length;if(i&&!o&&(l="greedy"===i?""===t[f].join("").trim():1===t[f].length&&0===t[f][0].length),"greedy"===i&&o){for(var p=[],g=0;g<d;g++){var _=h?e[g]:g;p.push(t[f][_])}l=""===p.join("").trim()}if(!l){for(var v=0;v<d;v++){0<v&&!c&&(a+=n);var y=o&&h?e[v]:v;a+=m(t[f][y],v)}f<t.length-1&&(!i||0<d&&!c)&&(a+=s)}}return a}function m(e,t){if(null==e)return"";if(e.constructor===Date)return JSON.stringify(e).slice(1,25);!0===d&&"string"==typeof e&&null!==e.match(/^[=+\-@].*$/)&&(e="'"+e);var r=e.toString().replace(l,h);return"boolean"==typeof i&&i||"function"==typeof i&&i(e,t)||Array.isArray(i)&&i[t]||function(e,t){for(var i=0;i<t.length;i++)if(-1<e.indexOf(t[i]))return!0;return!1}(r,a.BAD_DELIMITERS)||-1<r.indexOf(n)||" "===r.charAt(0)||" "===r.charAt(r.length-1)?o+r+o:r}}};if(a.RECORD_SEP=String.fromCharCode(30),a.UNIT_SEP=String.fromCharCode(31),a.BYTE_ORDER_MARK="\uFEFF",a.BAD_DELIMITERS=["\r","\n","\"",a.BYTE_ORDER_MARK],a.WORKERS_SUPPORTED=!i&&!!t.Worker,a.NODE_STREAM_INPUT=1,a.LocalChunkSize=10485760,a.RemoteChunkSize=5242880,a.DefaultDelimiter=",",a.Parser=g,a.ParserHandle=c,a.NetworkStreamer=u,a.FileStreamer=f,a.StringStreamer=d,a.ReadableStreamStreamer=l,t.jQuery){var o=t.jQuery;o.fn.parse=function(e){var i=e.config||{},r=[];return this.each(function(e){if("INPUT"!==o(this).prop("tagName").toUpperCase()||"file"!==o(this).attr("type").toLowerCase()||!t.FileReader||!this.files||0===this.files.length)return!0;for(var n=0;n<this.files.length;n++)r.push({file:this.files[n],inputElem:this,instanceConfig:o.extend({},i)})}),n(),this;function n(){if(0!==r.length){var t,i,n,h=r[0];if(b(e.before)){var u=e.before(h.file,h.inputElem);if("object"==typeof u){if("abort"===u.action)return"AbortError",t=h.file,i=h.inputElem,n=u.reason,void(b(e.error)&&e.error({name:"AbortError"},t,i,n));if("skip"===u.action)return void s();"object"==typeof u.config&&(h.instanceConfig=o.extend(h.instanceConfig,u.config))}else if("skip"===u)return void s()}var f=h.instanceConfig.complete;h.instanceConfig.complete=function(e){b(f)&&f(e,h.file,h.inputElem),s()},a.parse(h.file,h.instanceConfig)}else b(e.complete)&&e.complete()}function s(){r.splice(0,1),n()}}}function h(e){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},function(e){var t=y(e);t.chunkSize=parseInt(t.chunkSize),e.step||e.chunk||(t.chunkSize=null),this._handle=new c(t),(this._handle.streamer=this)._config=t}.call(this,e),this.parseChunk=function(e,i){if(this.isFirstChunk&&b(this._config.beforeFirstChunk)){var n=this._config.beforeFirstChunk(e);void 0!==n&&(e=n)}this.isFirstChunk=!1,this._halted=!1;var s=this._partialLine+e;this._partialLine="";var o=this._handle.parse(s,this._baseIndex,!this._finished);if(!this._handle.paused()&&!this._handle.aborted()){var h=o.meta.cursor;this._finished||(this._partialLine=s.substring(h-this._baseIndex),this._baseIndex=h),o&&o.data&&(this._rowCount+=o.data.length);var u=this._finished||this._config.preview&&this._rowCount>=this._config.preview;if(r)t.postMessage({results:o,workerId:a.WORKER_ID,finished:u});else if(b(this._config.chunk)&&!i){if(this._config.chunk(o,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);o=void 0,this._completeResults=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(o.data),this._completeResults.errors=this._completeResults.errors.concat(o.errors),this._completeResults.meta=o.meta),this._completed||!u||!b(this._config.complete)||o&&o.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),u||o&&o.meta.paused||this._nextChunk(),o}this._halted=!0},this._sendError=function(e){b(this._config.error)?this._config.error(e):r&&this._config.error&&t.postMessage({workerId:a.WORKER_ID,error:e,finished:!1})}}function u(e){var t;(e=e||{}).chunkSize||(e.chunkSize=a.RemoteChunkSize),h.call(this,e),this._nextChunk=i?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(e){this._input=e,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(t=new XMLHttpRequest,this._config.withCredentials&&(t.withCredentials=this._config.withCredentials),i||(t.onload=k(this._chunkLoaded,this),t.onerror=k(this._chunkError,this)),t.open(this._config.downloadRequestBody?"POST":"GET",this._input,!i),this._config.downloadRequestHeaders){var e=this._config.downloadRequestHeaders;for(var r in e)t.setRequestHeader(r,e[r])}if(this._config.chunkSize){var n=this._start+this._config.chunkSize-1;t.setRequestHeader("Range","bytes="+this._start+"-"+n)}try{t.send(this._config.downloadRequestBody)}catch(e){this._chunkError(e.message)}i&&0===t.status&&this._chunkError()}},this._chunkLoaded=function(){var e;4===t.readyState&&(t.status<200||400<=t.status?this._chunkError():(this._start+=this._config.chunkSize?this._config.chunkSize:t.responseText.length,this._finished=!this._config.chunkSize||this._start>=(null===(e=t.getResponseHeader("Content-Range"))?-1:parseInt(e.substring(e.lastIndexOf("/")+1))),this.parseChunk(t.responseText)))},this._chunkError=function(e){var i=t.statusText||e;this._sendError(new Error(i))}}function f(e){var t,i;(e=e||{}).chunkSize||(e.chunkSize=a.LocalChunkSize),h.call(this,e);var r="undefined"!=typeof FileReader;this.stream=function(e){this._input=e,i=e.slice||e.webkitSlice||e.mozSlice,r?((t=new FileReader).onload=k(this._chunkLoaded,this),t.onerror=k(this._chunkError,this)):t=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var e=this._input;if(this._config.chunkSize){var n=Math.min(this._start+this._config.chunkSize,this._input.size);e=i.call(e,this._start,n)}var s=t.readAsText(e,this._config.encoding);r||this._chunkLoaded({target:{result:s}})},this._chunkLoaded=function(e){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(e.target.result)},this._chunkError=function(){this._sendError(t.error)}}function d(e){var t;h.call(this,e=e||{}),this.stream=function(e){return t=e,this._nextChunk()},this._nextChunk=function(){if(!this._finished){var e,i=this._config.chunkSize;return i?(e=t.substring(0,i),t=t.substring(i)):(e=t,t=""),this._finished=!t,this.parseChunk(e)}}}function l(e){h.call(this,e=e||{});var t=[],i=!0,r=!1;this.pause=function(){h.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){h.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(e){this._input=e,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){r&&1===t.length&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),t.length?this.parseChunk(t.shift()):i=!0},this._streamData=k(function(e){try{t.push("string"==typeof e?e:e.toString(this._config.encoding)),i&&(i=!1,this._checkIsFinished(),this.parseChunk(t.shift()))}catch(e){this._streamError(e)}},this),this._streamError=k(function(e){this._streamCleanUp(),this._sendError(e)},this),this._streamEnd=k(function(){this._streamCleanUp(),r=!0,this._streamData("")},this),this._streamCleanUp=k(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function c(e){var t,i,r,n=Math.pow(2,53),s=-n,o=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)(e[-+]?\d+)?\s*$/,h=/(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))/,u=this,f=0,d=0,l=!1,c=!1,m=[],_={data:[],errors:[],meta:{}};if(b(e.step)){var v=e.step;e.step=function(t){if(_=t,w())E();else{if(E(),0===_.data.length)return;f+=t.data.length,e.preview&&f>e.preview?i.abort():(_.data=_.data[0],v(_,u))}}}function k(t){return"greedy"===e.skipEmptyLines?""===t.join("").trim():1===t.length&&0===t[0].length}function E(){if(_&&r&&(R("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+a.DefaultDelimiter+"'"),r=!1),e.skipEmptyLines)for(var t=0;t<_.data.length;t++)k(_.data[t])&&_.data.splice(t--,1);return w()&&function(){if(_)if(Array.isArray(_.data[0])){for(var t=0;w()&&t<_.data.length;t++)_.data[t].forEach(i);_.data.splice(0,1)}else _.data.forEach(i);function i(t,i){b(e.transformHeader)&&(t=e.transformHeader(t,i)),m.push(t)}}(),function(){if(!_||!e.header&&!e.dynamicTyping&&!e.transform)return _;function t(t,i){var r,n=e.header?{}:[];for(r=0;r<t.length;r++){var s=r,a=t[r];e.header&&(s=r>=m.length?"__parsed_extra":m[r]),e.transform&&(a=e.transform(a,s)),a=C(s,a),"__parsed_extra"===s?(n[s]=n[s]||[],n[s].push(a)):n[s]=a}return e.header&&(r>m.length?R("FieldMismatch","TooManyFields","Too many fields: expected "+m.length+" fields but parsed "+r,d+i):r<m.length&&R("FieldMismatch","TooFewFields","Too few fields: expected "+m.length+" fields but parsed "+r,d+i)),n}var i=1;return!_.data.length||Array.isArray(_.data[0])?(_.data=_.data.map(t),i=_.data.length):_.data=t(_.data,0),e.header&&_.meta&&(_.meta.fields=m),d+=i,_}()}function w(){return e.header&&0===m.length}function C(t,i){return r=t,e.dynamicTypingFunction&&void 0===e.dynamicTyping[r]&&(e.dynamicTyping[r]=e.dynamicTypingFunction(r)),!0===(e.dynamicTyping[r]||e.dynamicTyping)?"true"===i||"TRUE"===i||"false"!==i&&"FALSE"!==i&&(function(e){if(o.test(e)){var t=parseFloat(e);if(s<t&&t<n)return!0}return!1}(i)?parseFloat(i):h.test(i)?new Date(i):""===i?null:i):i;var r}function R(e,t,i,r){var n={type:e,code:t,message:i};void 0!==r&&(n.row=r),_.errors.push(n)}this.parse=function(n,s,o){var h=e.quoteChar||"\"";if(e.newline||(e.newline=function(e,t){e=e.substring(0,1048576);var i=new RegExp(p(t)+"([^]*?)"+p(t),"gm"),r=(e=e.replace(i,"")).split("\r"),n=e.split("\n"),s=1<n.length&&n[0].length<r[0].length;if(1===r.length||s)return"\n";for(var a=0,o=0;o<r.length;o++)"\n"===r[o][0]&&a++;return a>=r.length/2?"\r\n":"\r"}(n,h)),r=!1,e.delimiter)b(e.delimiter)&&(e.delimiter=e.delimiter(n),_.meta.delimiter=e.delimiter);else{var u=function(t,i,r,n,s){var o,h,u,f;s=s||[",","\t","|",";",a.RECORD_SEP,a.UNIT_SEP];for(var d=0;d<s.length;d++){var l=s[d],c=0,p=0,m=0;u=void 0;for(var _=new g({comments:n,delimiter:l,newline:i,preview:10}).parse(t),v=0;v<_.data.length;v++)if(r&&k(_.data[v]))m++;else{var y=_.data[v].length;p+=y,void 0!==u?0<y&&(c+=Math.abs(y-u),u=y):u=y}0<_.data.length&&(p/=_.data.length-m),(void 0===h||c<=h)&&(void 0===f||f<p)&&1.99<p&&(h=c,o=l,f=p)}return{successful:!!(e.delimiter=o),bestDelimiter:o}}(n,e.newline,e.skipEmptyLines,e.comments,e.delimitersToGuess);u.successful?e.delimiter=u.bestDelimiter:(r=!0,e.delimiter=a.DefaultDelimiter),_.meta.delimiter=e.delimiter}var f=y(e);return e.preview&&e.header&&f.preview++,t=n,i=new g(f),_=i.parse(t,s,o),E(),l?{meta:{paused:!0}}:_||{meta:{paused:!1}}},this.paused=function(){return l},this.pause=function(){l=!0,i.abort(),t=b(e.chunk)?"":t.substring(i.getCharIndex())},this.resume=function(){u.streamer._halted?(l=!1,u.streamer.parseChunk(t,!0)):setTimeout(u.resume,3)},this.aborted=function(){return c},this.abort=function(){c=!0,i.abort(),_.meta.aborted=!0,b(e.complete)&&e.complete(_),t=""}}function p(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function g(e){var t,i=(e=e||{}).delimiter,r=e.newline,n=e.comments,s=e.step,o=e.preview,h=e.fastMode,u=t=void 0===e.quoteChar?"\"":e.quoteChar;if(void 0!==e.escapeChar&&(u=e.escapeChar),("string"!=typeof i||-1<a.BAD_DELIMITERS.indexOf(i))&&(i=","),n===i)throw new Error("Comment character same as delimiter");!0===n?n="#":("string"!=typeof n||-1<a.BAD_DELIMITERS.indexOf(n))&&(n=!1),"\n"!==r&&"\r"!==r&&"\r\n"!==r&&(r="\n");var f=0,d=!1;this.parse=function(e,a,l){if("string"!=typeof e)throw new Error("Input must be a string");var c=e.length,g=i.length,m=r.length,_=n.length,v=b(s),y=[],k=[],E=[],w=f=0;if(!e)return $();if(h||!1!==h&&-1===e.indexOf(t)){for(var C=e.split(r),R=0;R<C.length;R++){if(E=C[R],f+=E.length,R!==C.length-1)f+=r.length;else if(l)return $();if(!n||E.substring(0,_)!==n){if(v){if(y=[],L(E.split(i)),j(),d)return $()}else L(E.split(i));if(o&&o<=R)return y=y.slice(0,o),$(!0)}}return $()}for(var S=e.indexOf(i,f),x=e.indexOf(r,f),O=new RegExp(p(u)+p(t),"g"),D=e.indexOf(t,f);;)if(e[f]!==t){if(n&&0===E.length&&e.substring(f,f+_)===n){if(-1===x)return $();f=x+m,x=e.indexOf(r,f),S=e.indexOf(i,f)}else{if(-1!==S&&(S<x||-1===x)){if(!(S<D)){E.push(e.substring(f,S)),f=S+g,S=e.indexOf(i,f);continue}var I=q(S,D,x);if(I&&void 0!==I.nextDelim){S=I.nextDelim,D=I.quoteSearch,E.push(e.substring(f,S)),f=S+g,S=e.indexOf(i,f);continue}}if(-1===x)break;if(E.push(e.substring(f,x)),M(x+m),v&&(j(),d))return $();if(o&&y.length>=o)return $(!0)}}else for(D=f,f++;;){if(-1===(D=e.indexOf(t,D+1)))return l||k.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:y.length,index:f}),z();if(D===c-1)return z(e.substring(f,D).replace(O,t));if(t!==u||e[D+1]!==u){if(t===u||0===D||e[D-1]!==u){-1!==S&&S<D+1&&(S=e.indexOf(i,D+1)),-1!==x&&x<D+1&&(x=e.indexOf(r,D+1));var T=F(-1===x?S:Math.min(S,x));if(e[D+1+T]===i){E.push(e.substring(f,D).replace(O,t)),e[f=D+1+T+g]!==t&&(D=e.indexOf(t,f)),S=e.indexOf(i,f),x=e.indexOf(r,f);break}var A=F(x);if(e.substring(D+1+A,D+1+A+m)===r){if(E.push(e.substring(f,D).replace(O,t)),M(D+1+A+m),S=e.indexOf(i,f),D=e.indexOf(t,f),v&&(j(),d))return $();if(o&&y.length>=o)return $(!0);break}k.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:y.length,index:f}),D++}}else D++}return z();function L(e){y.push(e),w=f}function F(t){var i=0;if(-1!==t){var r=e.substring(D+1,t);r&&""===r.trim()&&(i=r.length)}return i}function z(t){return l||(void 0===t&&(t=e.substring(f)),E.push(t),f=c,L(E),v&&j()),$()}function M(t){f=t,L(E),E=[],x=e.indexOf(r,f)}function $(e){return{data:y,errors:k,meta:{delimiter:i,linebreak:r,aborted:d,truncated:!!e,cursor:w+(a||0)}}}function j(){s($()),y=[],k=[]}function q(r,n,s){var a={nextDelim:void 0,quoteSearch:void 0},o=e.indexOf(t,n+1);if(n<r&&r<o&&(o<s||-1===s)){var h=e.indexOf(i,o);if(-1===h)return a;o<h&&(o=e.indexOf(t,o+1)),a=q(h,o,s)}else a={nextDelim:r,quoteSearch:n};return a}},this.abort=function(){d=!0},this.getCharIndex=function(){return f}}function m(e){var t=e.data,i=n[t.workerId],r=!1;if(t.error)i.userError(t.error,t.file);else if(t.results&&t.results.data){var s={abort:function(){r=!0,_(t.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:v,resume:v};if(b(i.userStep)){for(var a=0;a<t.results.data.length&&(i.userStep({data:t.results.data[a],errors:t.results.errors,meta:t.results.meta},s),!r);a++);delete t.results}else b(i.userChunk)&&(i.userChunk(t.results,s,t.file),delete t.results)}t.finished&&!r&&_(t.workerId,t.results)}function _(e,t){var i=n[e];b(i.userComplete)&&i.userComplete(t),i.terminate(),delete n[e]}function v(){throw new Error("Not implemented.")}function y(e){if("object"!=typeof e||null===e)return e;var t=Array.isArray(e)?[]:{};for(var i in e)t[i]=y(e[i]);return t}function k(e,t){return function(){e.apply(t,arguments)}}function b(e){return"function"==typeof e}return r&&(t.onmessage=function(e){var i=e.data;if(void 0===a.WORKER_ID&&i&&(a.WORKER_ID=i.workerId),"string"==typeof i.input)t.postMessage({workerId:a.WORKER_ID,results:a.parse(i.input,i.config),finished:!0});else if(t.File&&i.input instanceof File||i.input instanceof Object){var r=a.parse(i.input,i.config);r&&t.postMessage({workerId:a.WORKER_ID,results:r,finished:!0})}}),(u.prototype=Object.create(h.prototype)).constructor=u,(f.prototype=Object.create(h.prototype)).constructor=f,(d.prototype=Object.create(d.prototype)).constructor=d,(l.prototype=Object.create(h.prototype)).constructor=l,a});function zw(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function fl(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Aw(e,t,r){return t&&fl(e.prototype,t),r&&fl(e,r),e}var gl=function(e,r){var l=Array.isArray(e);if(void 0===r?r=l?[]:{}:Vc(r),l){r.length=e.length;for(var $=0,a=e.length;$<a;$++)r[$]=e[$]}else for(var t in e)r[t]=e[t];return r};var Qg=Phaser.Utils.Objects.GetValue,Bw=function(){function e(t){zw(this,e),this.scenario=t,this.queue=[],this.currentIdx=-1,this.nextIdx=0}return Aw(e,[{key:"resetFromJSON",value:function(e){var t=Qg(e,"queue",void 0);return void 0===t?Vc(this.queue):gl(t,this.queue),this.currentIdx=Qg(e,"curIdx",-1),this.nextIdx=Qg(e,"nextIdx",0),this}},{key:"clear",value:function(){return this.currentIdx=-1,this.nextIdx=0,this.queue.length=0,this}},{key:"append",value:function(e){return this.queue.push(e),this}},{key:"setNextIndex",value:function(e){return void 0===e&&(e=this.currentIdx+1),this.nextIdx=e,this}},{key:"get",value:function(e){return void 0===e&&(e=this.nextIdx),this.currentIdx=e,this.queue[e]}},{key:"length",get:function(){return this.queue.length}}]),e}();function Cw(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function hl(e,r){for(var t=0;t<r.length;t++){var o=r[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function Dw(e,r,t){return r&&hl(e.prototype,r),t&&hl(e,t),e}function Ew(e){return(Ew="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Fw(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function il(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function Gw(e,t,r){return t&&il(e.prototype,t),r&&il(e,r),e}function Hw(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Iw(e,t)}function Iw(e,t){return(Iw=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Jw(e){var t=Mw();return function(){var r,a=jl(e);if(t){var o=jl(this).constructor;r=Reflect.construct(a,arguments,o)}else r=a.apply(this,arguments);return Kw(this,r)}}function Kw(e,t){return!t||"object"!==Ew(t)&&"function"!=typeof t?Lw(e):t}function Lw(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Mw(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function jl(e){return(jl=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Nw(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function kl(e,r){for(var t=0;t<r.length;t++){var a=r[t];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function Ow(e,r,t){return r&&kl(e.prototype,r),t&&kl(e,t),e}var Wc=function(){function e(r,t){Nw(this,e),this.scenario=r,this.type=t}return Ow(e,[{key:"resetFromJSON",value:function(e){}},{key:"toJSON",value:function(){return{}}},{key:"parse",value:function(e,r){return e}},{key:"run",value:function(e){}}]),e}();var Pw=function(t,e,$,r){void 0===$&&($=0),void 0===r&&(r=e.length),t.length=r-$;for(var o=0,x=t.length;o<x;o++)t[o]=e[o+$];return t};var Qw=/^\s*-?(\d*\.?\d+|\d+\.?\d*)(e[-+]?\d+)?\s*$/i,ll=function($){return"string"!=typeof $?$:(""===$?$=null:Qw.test($)?$=parseFloat($):"false"===screen?$=!1:"true"===$&&($=!0),$)};var qf=Phaser.Utils.Objects.GetValue,Rg=function($,a,r){var e,t=qf(r,"reverse",!1);if(Sk($[0])){if(t)for(d=(l=$.length)-1;d>=0;d--)e=Rg($[d],a,r);else for(var d=0,l=$.length;d<l;d++)e=Rg($[d],a,r);}else e=Rw($,a,r);return e},Rw=function($,a,r){var e,t=qf(r,"argsConvert",void 0),d=qf(r,"argsConvertScope",void 0),l=$[0];if(Xc=Pw(Xc,$,1),t){!0===t&&(t=ll,d=void 0);for(var v=0,o=Xc.length;v<o;v++)Xc[v]=d?t.call(d,Xc[v],$):t(Xc[v],$)}return"string"==typeof l?null==(e=a[l])&&(e=qf(a,l,null)):e=l,e.apply(a,Xc)},Xc=[];var Sw=Phaser.Utils.Array.SpliceOne,Tw=function(e){Hw(r,Wc);var t=Jw(r);function r(e){var a;return Fw(this,r),(a=t.call(this,e,"-")).task=void 0,a}return Gw(r,[{key:"resetFromJSON",value:function(e){this.task&&(this.task.off("complete",this.resume,this),this.task=void 0)}},{key:"parse",value:function(e,t){var r=Sw(e,0),a=this.scenario,o=a.argsConvert,n=a.argsConvertScope;if(o){!0===o&&(o=ll,n=void 0);for(var i=1,$=e.length;i<$;i++)e[i]=n?o.call(n,e[i],e):o(e[i],e)}return e=[r,e]}},{key:"run",value:function(e){var t=this.scenario,r=Rg(e[1],t.scope);r&&"function"==typeof r.once?(r.once("complete",this.resume,this),this.pause(),this.task=r):this.task=void 0}},{key:"pause",value:function(){this.scenario.pause()}},{key:"resume",value:function(){this.task=void 0;var e=this.scenario;e.resume(),e.runNextCmd()}}]),r}();function Uw(t){return(Uw="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Vw(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ml(t,e){for(var r=0;r<e.length;r++){var o=e[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function Ww(t,e,r){return e&&ml(t.prototype,e),r&&ml(t,r),t}function Xw(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Yw(t,e)}function Yw(t,e){return(Yw=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Zw(t){var e=ax();return function(){var r,o=nl(t);if(e){var n=nl(this).constructor;r=Reflect.construct(o,arguments,n)}else r=o.apply(this,arguments);return $w(this,r)}}function $w(t,e){return!e||"object"!==Uw(e)&&"function"!=typeof e?_w(t):e}function _w(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ax(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function nl(t){return(nl=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var bx=function(t){Xw(r,Wc);var e=Zw(r);function r(t){return Vw(this,r),e.call(this,t,"wait")}return Ww(r,[{key:"parse",value:function(t,e){t.length=2;var r=this.getEventName(t);return isNaN(r)||(t[1]=parseFloat(r)),t}},{key:"run",value:function(t){var e=this.getEventName(t);"number"==typeof e?this.waitTime(e):this.waitEvent(e)}},{key:"waitTime",value:function(t){t>this.scenario.offset?(t-=this.scenario.offset,this.scenario.offset=0,this.scenario.isDebugMode&&this.scenario.log("#WAIT: "+t),this.scenario.wait(t)):this.scenario.offset-=t}},{key:"waitEvent",value:function(t){this.scenario.isDebugMode&&this.scenario.log("#WAIT: "+t),this.scenario.wait(t)}},{key:"getEventName",value:function(t){var e=t[1];return null==e&&(e="",t[1]=e),e}}]),r}();function cx(e){return(cx="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function dx(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ol(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function ex(e,t,r){return t&&ol(e.prototype,t),r&&ol(e,r),e}function fx(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&gx(e,t)}function gx(e,t){return(gx=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function hx(e){var t=kx();return function(){var r,a=pl(e);if(t){var s=pl(this).constructor;r=Reflect.construct(a,arguments,s)}else r=a.apply(this,arguments);return ix(this,r)}}function ix(e,t){return!t||"object"!==cx(t)&&"function"!=typeof t?jx(e):t}function jx(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function kx(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function pl(e){return(pl=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Sg=Phaser.Utils.Objects.GetValue,lx=function(e){fx(r,Wc);var t=hx(r);function r(e){var a;return dx(this,r),(a=t.call(this,e,"label")).labels={},a.prevLabel="",a.lastLabel="",a}return ex(r,[{key:"resetFromJSON",value:function(e){this.prevLabel=Sg(e,"preLabel",""),this.lastLabel=Sg(e,"lastLabel","");var t=Sg(e,"labels",void 0);void 0===t?Vc(this.labels):gl(t,this.labels)}},{key:"toJSON",value:function(){return{preLabel:this.prevLabel,lastLabel:this.lastLabel,labels:this.labels}}},{key:"parse",value:function(e,t){e.length=2;var r=this.getLabel(e);return this.addLabel(r,t),e}},{key:"run",value:function(e){var t=this.getLabel(e);this.scenario.isDebugMode&&this.scenario.log("#LABEL: "+t),this.prevLabel=this.lastLabel,this.lastLabel=t;var r=this.scenario;r.emit("labelchange",this.lastLabel,this.prevLabel,r)}},{key:"getLabel",value:function(e){var t=e[1];return null==t&&(t="",e[1]=t),t}},{key:"addLabel",value:function(e,t){this.labels[e]=t}},{key:"getIndex",value:function(e){return""!==e&&this.hasLabel(e)?this.labels[e]:0}},{key:"hasLabel",value:function(e){return this.labels.hasOwnProperty(e)}}]),r}();function mx(t){return(mx="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function nx(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ql(t,e){for(var r=0;r<e.length;r++){var o=e[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function ox(t,e,r){return e&&ql(t.prototype,e),r&&ql(t,r),t}function px(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&qx(t,e)}function qx(t,e){return(qx=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function rx(t){var e=ux();return function(){var r,o=rl(t);if(e){var n=rl(this).constructor;r=Reflect.construct(o,arguments,n)}else r=o.apply(this,arguments);return sx(this,r)}}function sx(t,e){return!e||"object"!==mx(e)&&"function"!=typeof e?tx(t):e}function tx(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ux(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function rl(t){return(rl=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var vx=function(t){px(r,Wc);var e=rx(r);function r(t){return nx(this,r),e.call(this,t,"exit")}return ox(r,[{key:"parse",value:function(t,e){return t.length=1,t}},{key:"run",value:function(t){this.scenario.log("#EXIT"),this.scenario.complete()}}]),r}();function wx(t){return(wx="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function xx(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function sl(t,e){for(var r=0;r<e.length;r++){var o=e[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function yx(t,e,r){return e&&sl(t.prototype,e),r&&sl(t,r),t}function zx(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Ax(t,e)}function Ax(t,e){return(Ax=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Bx(t){var e=Ex();return function(){var r,o=tl(t);if(e){var n=tl(this).constructor;r=Reflect.construct(o,arguments,n)}else r=o.apply(this,arguments);return Cx(this,r)}}function Cx(t,e){return!e||"object"!==wx(e)&&"function"!=typeof e?Dx(t):e}function Dx(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Ex(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function tl(t){return(tl=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Fx=function(t){zx(r,Wc);var e=Bx(r);function r(t){return xx(this,r),e.call(this,t,"goto")}return yx(r,[{key:"parse",value:function(t,e){return t.length=2,t}},{key:"run",value:function(t){var e=this.getLabel(t);this.scenario.isDebugMode&&this.scenario.log("#GOTO label: "+e),this.scenario.goto(e)}},{key:"getLabel",value:function(t){var e=t[1];return null==e&&(e="",t[1]=e),e}}]),r}();function Gx(e){return(Gx="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Hx(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ul(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Ix(e,t,r){return t&&ul(e.prototype,t),r&&ul(e,r),e}function Jx(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Kx(e,t)}function Kx(e,t){return(Kx=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Lx(e){var t=Ox();return function(){var r,n=vl(e);if(t){var o=vl(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return Mx(this,r)}}function Mx(e,t){return!t||"object"!==Gx(t)&&"function"!=typeof t?Nx(e):t}function Nx(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ox(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function vl(e){return(vl=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Px=function(e){Jx(r,Wc);var t=Lx(r);function r(e){return Hx(this,r),t.call(this,e,"if")}return Ix(r,[{key:"parse",value:function(e,t){e.length=4;var r="("+this.getCond(e)+")";return e[1]=new Function("return "+r),e}},{key:"run",value:function(e){var t=this.getCond(e).call(this.scenario.scope),r=t?this.getTrueLabel(e):this.getFalseLabel(e);""!==r&&(this.scenario.isDebugMode&&this.scenario.log("#IF "+t+"- GOTO label: "+r),this.scenario.goto(r))}},{key:"getCond",value:function(e){var t=e[1];return null!=t&&""!==t||(t="true",e[1]=t),t}},{key:"getTrueLabel",value:function(e){var t=e[2];return null==t&&(t="",e[2]=t),t}},{key:"getFalseLabel",value:function(e){var t=e[3];return null==t&&(t="",e[3]=t),t}}]),r}();var Qx=Phaser.Utils.Objects.GetValue,Rx=function(){function e(r){Cw(this,e),this.cmds={"-":new Tw(r),wait:new bx(r),label:new lx(r),exit:new vx(r),goto:new Fx(r),if:new Px(r)}}return Dw(e,[{key:"resetFromJSON",value:function(e){for(var r in this.cmds)this.cmds[r].resetFromJSON(Qx(e,r,void 0));return this}},{key:"toJSON",value:function(){var e={};for(var r in this.cmds)e[r]=this.cmds[r].toJSON();return e}},{key:"get",value:function(e){return this.cmds[e]}},{key:"isValidCmdName",value:function(e){return this.cmds.hasOwnProperty(e)}}]),e}();var Sx="=";var rf=function(){function t(e,i){var $gK07$$interop$default=xb(oc);xw(this,t),this.setEventEmitter($gK07$$interop$default.d(i,"eventEmitter",void 0)),this.scene=e,this.timer=void 0,this.instMem=new Bw(this),this.cmdHandlers=new Rx(this),this.resetFromJSON(i),this.boot()}return yw(t,[{key:"resetFromJSON",value:function(t){var $gK07$$interop$default=xb(oc);return this._inRunCmdLoop=!1,this.isRunning=$gK07$$interop$default.d(t,"state",!1),this.isPaused=$gK07$$interop$default.d(t,"pause",!1),this.waitEvent=$gK07$$interop$default.d(t,"wait",void 0),this.scope=$gK07$$interop$default.d(t,"scope",void 0),this.timeUnit=$gK07$$interop$default.d(t,"timeUnit",0),this.cmdPrefix=$gK07$$interop$default.d(t,"prefix",Ux),this.argsConvert=$gK07$$interop$default.d(t,"argsConvert",!0),this.argsConvertScope=$gK07$$interop$default.d(t,"argsConvertScope",void 0),this.cmdHandlers.resetFromJSON($gK07$$interop$default.d(t,"handlers",void 0)),this.instMem.resetFromJSON($gK07$$interop$default.d(t,"instMem",void 0)),this}},{key:"toJSON",value:function(){return{state:this.isRunning,pause:this.isPaused,wait:this.waitEvent,scope:this.scope,timeUnit:this.timeUnit,prefix:this.cmdPrefix,argsConvert:this.argsConvert,argsConvertScope:this.argsConvertScope,handlers:this.cmdHandlers.toJSON(),instMem:this.instMem.toJSON()}}},{key:"boot",value:function(){this.scene.events.once("shutdown",this.destroy,this)}},{key:"shutdown",value:function(){this.destroyEventEmitter(),this.clear(),this.scene=void 0}},{key:"destroy",value:function(){this.shutdown()}},{key:"load",value:function(t,e,i){var $gK07$$interop$default=xb(oc);return this.clear(),this.timeUnit=$gK07$$interop$default.d(i,"timeUnit",this.timeUnit),"string"==typeof this.timeUnit&&(this.timeUnit=Tx[this.timeUnit]),this.cmdPrefix=$gK07$$interop$default.d(i,"prefix",this.cmdPrefix),"string"==typeof this.cmdPrefix&&(this.cmdPrefix=new RegExp(this.cmdPrefix)),this.argsConvert=$gK07$$interop$default.d(i,"argsConvert",this.argsConvert),this.argsConvertScope=$gK07$$interop$default.d(i,"argsConvertScope",this.argsConvertScope),this.scope=e,this.append(t),this}},{key:"clear",value:function(){this.stop(),this.instMem.resetFromJSON(),this.cmdHandlers.resetFromJSON()}},{key:"start",value:function(t){this.stop();var $gK07$$interop$default=xb(oc);var e=$gK07$$interop$default.d(t,"label","");return this.offset=$gK07$$interop$default.d(t,"offset",0),this.isDebugMode&&this.log("Start at Label: "+e),!!this.goto(e)&&(this.isRunning=!0,this.runNextCmd(),!0)}},{key:"getIndex",value:function(t){var e=this.getCmdHandler("label").getIndex(t);return null==e&&this.error("Label: "+t+" is not found"),e}},{key:"goto",value:function(t){var e;return null!=(e="string"==typeof t?this.getIndex(t):t)&&(this.instMem.setNextIndex(e),!0)}},{key:"wait",value:function(t){if(this.waitEvent=t,"number"==typeof t){var e=t;1===this.timeUnit&&(e*=1e3),this.timer=this.scene.time.delayedCall(e,this.continue,[t],this)}return this}},{key:"stop",value:function(){return this.isRunning?(this.isRunning=!1,this.isPaused=!1,this.waitEvent=void 0,this.timer&&(this.timer.remove(),this.timer=void 0),this):this}},{key:"complete",value:function(){return this.emit("complete",this),this.stop(),this}},{key:"append",value:function(t,e){void 0===e&&(e=Sx);var $rVYa$$interop$default=xb(Pg);var i=$rVYa$$interop$default.d.parse(t,{delimiter:e}).data;return this.parse(i),this}},{key:"pause",value:function(){return this.isRunning?this.isPaused?this:(this.isPaused=!0,this.timer&&(this.timer.paused=!0),this):this}},{key:"resume",value:function(){return this.isRunning&&this.isPaused?(this.isPaused=!1,this.timer&&(this.timer.paused=!1),this):this}},{key:"continue",value:function(t){return!this.isRunning||this.isPaused||void 0===this.waitEvent?this:(t===this.waitEvent&&(this.timer=void 0,this.waitEvent=void 0,this.runNextCmd()),this)}},{key:"getCmdHandler",value:function(t){return"string"!=typeof t&&(t=t[0]),this.cmdHandlers.get(t)}},{key:"parse",value:function(t){for(var e,i,s=this.cmdPrefix,r=0,n=t.length;r<n;r++)if("-"===(i=(e=t[r])[0]))this.appendCommand(e);else if(isNaN(i)){if(s.test(i)){var a=i.match(s);e[0]=a[1].toLowerCase(),this.appendCommand(e)||this.error("Line "+r+": "+JSON.stringify(e)+" is not a valid command")}else this.appendCommand(["wait",i]),e[0]="-",this.appendCommand(e);}else{var o=parseFloat(i);o>0&&this.appendCommand(["wait",o]),e[0]="-",this.appendCommand(e)}return this}},{key:"appendCommand",value:function(t){var e=this.getCmdHandler(t);return null!=e&&((t=e.parse(t,this.instMem.length))&&this.instMem.append(t),!0)}},{key:"runNextCmd",value:function(){if(!this._inRunCmdLoop){this.threadId;var t,e=this.instMem;for(this._inRunCmdLoop=!0;this.isRunning&&!this.isPaused&&void 0===this.waitEvent;){if(t=e.get(),e.setNextIndex(),null==t){this.complete();break}this.getCmdHandler(t).run(t)}return this._inRunCmdLoop=!1,this}}},{key:"log",value:function(t){return this.emit("log",t,this),this}},{key:"error",value:function(t){return this.emit("error",t,this),this}},{key:"lastLabel",get:function(){return this.cmdHandlers.labelCmd.lastLabel}},{key:"previousLabel",get:function(){return this.cmdHandlers.labelCmd.preLabel}},{key:"isDebugMode",get:function(){return this.listenerCount("log")>0}}]),t}();Object.assign(rf.prototype,gd);var Tx={ms:0,s:1,sec:1},Ux=/^#([a-zA-Z]+)/;var Vx=function(t){rw(r,Phaser.Plugins.BasePlugin);var e=tw(r);function r(t){return pw(this,r),e.call(this,t)}return qw(r,[{key:"start",value:function(){this.game.events.on("destroy",this.destroy,this)}},{key:"add",value:function(t,e){return new rf(t,e)}}]),r}();var Wx={scene:[{key:"spine",plugin:SpinePlugin,start:!0,sceneKey:"spine",mapping:"spine"},{key:"rexGestures",plugin:pu,start:!0,sceneKey:"rexGestures",mapping:"rexGestures"}],global:[{key:"rexContainerLitePlugin",plugin:Bv,start:!0,sceneKey:"rexContainerLitePlugin",mapping:"rexContainerLitePlugin"},{key:"rexCsvScenario",plugin:Vx,start:!0,sceneKey:"rexCsvScenario",mapping:"rexCsvScenario"},{key:"rexEaseMove",plugin:bl,start:!0,sceneKey:"rexEaseMove",mapping:"rexEaseMove"},{key:"rexMoveTo",plugin:Lv,start:!0,sceneKey:"rexMoveTo",mapping:"rexMoveTo"},{key:"rexBullet",plugin:Vv,start:!0,sceneKey:"rexBullet",mapping:"rexBullet"},{key:"rexRotateTo",plugin:dw,start:!0}]};function Xx(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function wl(e,n){for(var a=0;a<n.length;a++){var r=n[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Yx(e,n,a){return n&&wl(e.prototype,n),a&&wl(e,a),e}var pb="SCENE_INTERFACE";var Zx=[{layerName:ld,sceneKey:vd},{layerName:Pn,sceneKey:pb},{layerName:Cb,sceneKey:pb},{layerName:wh,sceneKey:pb},{layerName:xh,sceneKey:Zd},{layerName:If,sceneKey:Zd}];function $x(e){return($x="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _x(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function xl(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function ay(e,t,r){return t&&xl(e.prototype,t),r&&xl(e,r),e}function by(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&cy(e,t)}function cy(e,t){return(cy=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function dy(e){var t=gy();return function(){var r,o=yl(e);if(t){var n=yl(this).constructor;r=Reflect.construct(o,arguments,n)}else r=o.apply(this,arguments);return ey(this,r)}}function ey(e,t){return!t||"object"!==$x(t)&&"function"!=typeof t?fy(e):t}function fy(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function gy(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function yl(e){return(yl=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var hy=function(e){by(r,Phaser.Scene);var t=dy(r);function r(){return _x(this,r),t.apply(this,arguments)}return ay(r,[{key:"create",value:function(){}},{key:"postCreate",value:function(){}},{key:"update",value:function(){}}]),r}();function iy(e){return(iy="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function jy(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function zl(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function ky(e,t,r){return t&&zl(e.prototype,t),r&&zl(e,r),e}function ly(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&my(e,t)}function my(e,t){return(my=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ny(e){var t=qy();return function(){var r,o=Al(e);if(t){var n=Al(this).constructor;r=Reflect.construct(o,arguments,n)}else r=o.apply(this,arguments);return oy(this,r)}}function oy(e,t){return!t||"object"!==iy(t)&&"function"!=typeof t?py(e):t}function py(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function qy(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function Al(e){return(Al=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var ry=function(e){ly(r,Phaser.Scene);var t=ny(r);function r(){return jy(this,r),t.apply(this,arguments)}return ky(r,[{key:"create",value:function(){}},{key:"postCreate",value:function(){}},{key:"update",value:function(){}}]),r}();function sy(r){return(sy="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(r){return typeof r}:function(r){return r&&"function"==typeof Symbol&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r})(r)}function ty(r,t){if(!(r instanceof t))throw new TypeError("Cannot call a class as a function")}function Bl(r,t){for(var e=0;e<t.length;e++){var o=t[e];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(r,o.key,o)}}function uy(r,t,e){return t&&Bl(r.prototype,t),e&&Bl(r,e),r}function vy(r,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(t&&t.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),t&&wy(r,t)}function wy(r,t){return(wy=Object.setPrototypeOf||function(r,t){return r.__proto__=t,r})(r,t)}function xy(r){var t=Ay();return function(){var e,o=Cl(r);if(t){var n=Cl(this).constructor;e=Reflect.construct(o,arguments,n)}else e=o.apply(this,arguments);return yy(this,e)}}function yy(r,t){return!t||"object"!==sy(t)&&"function"!=typeof t?zy(r):t}function zy(r){if(void 0===r)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function Ay(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(r){return!1}}function Cl(r){return(Cl=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)})(r)}var By=function(r){vy(e,Phaser.Scene);var t=xy(e);function e(){return ty(this,e),t.apply(this,arguments)}return uy(e,[{key:"create",value:function(){}},{key:"postCreate",value:function(){}},{key:"update",value:function(){}}]),e}();var Cy=[{key:vd,sceneClass:hy,canBePaused:1},{key:pb,sceneClass:ry,canBePaused:1},{key:Zd,sceneClass:By,canBePaused:-1}];function Dy(t){return(Dy="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ey(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Fy(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Gy(t,e)}function Gy(t,e){return(Gy=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Hy(t){var e=Ky();return function(){var r,o=Dl(t);if(e){var n=Dl(this).constructor;r=Reflect.construct(o,arguments,n)}else r=o.apply(this,arguments);return Iy(this,r)}}function Iy(t,e){return!e||"object"!==Dy(e)&&"function"!=typeof e?Jy(t):e}function Jy(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Ky(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function Dl(t){return(Dl=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Ly=function(t){Fy(r,rb);var e=Hy(r);function r(){return Ey(this,r),e.apply(this,arguments)}return r}();function My(e){return(My="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function El(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Fl(e,t){for(var o=0;o<t.length;o++){var r=t[o];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Gl(e,t,o){return t&&Fl(e.prototype,t),o&&Fl(e,o),e}function Tg(e,t,o){return(Tg="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,o){var r=Ny(e,t);if(r){var a=Object.getOwnPropertyDescriptor(r,t);return a.get?a.get.call(o):a.value}})(e,t,o||e)}function Ny(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Yc(e)););return e}function Oy(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Py(e,t)}function Py(e,t){return(Py=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Qy(e){var t=Ty();return function(){var o,r=Yc(e);if(t){var a=Yc(this).constructor;o=Reflect.construct(r,arguments,a)}else o=r.apply(this,arguments);return Ry(this,o)}}function Ry(e,t){return!t||"object"!==My(t)&&"function"!=typeof t?Sy(e):t}function Sy(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ty(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function Yc(e){return(Yc=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var sf={scorefont:"scorefont"};var ka={COVER:"BAG_GUI_COVER",GAMEOVER:"BAG_GUI_GAME_OVER",GAMEPLAY:"BAG_GUI_GAMEPLAY",GAMEWON:"BAG_GUI_GAME_WON",TUTORIAL:"BAG_GUI_TUTORIAL",SETTINGS:"BAG_GUI_SETTINGS",FADE:"BAG_GUI_FADE",PAUSE:"BAG_GUI_PAUSE",PREGAME:"BAG_GUI_PREGAME",ADVERTISING_QUESTION:"ADVERTISING_QUESTION",REWARDS_LOTTERY:"REWARDS_LOTTERY",UPGRADES:"UPGRADES"};var uc="ACT_COVER_ENTER";var vc="ACT_COVER_EXIT";var Uy=function(e){Oy(o,rb);var t=Qy(o);function o(){return El(this,o),t.apply(this,arguments)}return Gl(o,[{key:"onEnterInstant",value:function(){Tg(Yc(o.prototype),"onEnterInstant",this).call(this),ha.TriggerActionOnAllActorsInBag(uc,ka.COVER)}},{key:"onExitInstant",value:function(){Tg(Yc(o.prototype),"onExitInstant",this).call(this),ha.TriggerActionOnAllActorsInBag(vc,ka.COVER)}},{key:"onExitDelayed",value:function(){Tg(Yc(o.prototype),"onExitDelayed",this).call(this),Da.MassQueueDisposeEntities(ka.COVER)}}]),o}();var Bd=function(){function e(){El(this,e)}return Gl(e,null,[{key:"CoverTitle",value:function(){var e=ga.MixImageActor(null,0,0,wa.GameTitle,Na,0);return cb.InjectIntoActor(e,["cover_title"]),ia.InjectIntoActor(e,[ka.COVER]),ga.GetActionMixerWithValues().mixTweenPositionByDeltaFrom_ScreenTop(e,uc,{_y:-1e3,_d:800,_onComplete:[{type:"trigger",trigger:"ACT_TWEEN_COVER_ENTER_END"}]}),ga.GetActionMixerWithValues().mixTweenPositionByDeltaTo_ScreenTop(e,vc,{_y:-1e3,_d:800}),ga.GetActionMixerWithValues().mixTweenPositionYoYo(e,"ACT_TWEEN_COVER_ENTER_END",{_d:1200}),e.bake(),e}},{key:"Bmlogo",value:function(){var e=ga.MixImageActor(null,0,0,wa.BMLogo,Nd,0);return cb.InjectIntoActor(e,["cover_logo"]),ia.InjectIntoActor(e,[ka.COVER]),Eb.InjectIntoActor(e,Ia,-1,1),ga.GetActionMixerWithValues().mixTweenPositionByDeltaFrom_ScreenTop(e,uc,{_y:-300,_d:800}),ga.GetActionMixerWithValues().mixTweenPositionByDeltaTo_ScreenTop(e,vc,{_y:-300,_d:800}),e.bake(),e}},{key:"Highscoreicon",value:function(){var e=ga.MixImageActor(null,0,0,wa.HighscoreIcon,fc,0);return cb.InjectIntoActor(e,["cover_highscore_icon"]),ia.InjectIntoActor(e,[ka.COVER]),Eb.InjectIntoActor(e,Ia,1,1),ga.GetActionMixerWithValues().mixTweenPositionByDeltaFrom_ScreenTop(e,uc,{_y:-300,_d:500}),ga.GetActionMixerWithValues().mixTweenPositionByDeltaTo_ScreenTop(e,vc,{_y:-1e3,_d:800}),e.bake(),e}},{key:"ScorePanel",value:function(){var e=ga.MixImageActor(null,0,0,wa.ScorePanel,fc,0);return cb.InjectIntoActor(e,["cover_score_panel"]),ia.InjectIntoActor(e,[ka.COVER]),Eb.InjectIntoActor(e,Ia,1,1),ga.GetActionMixerWithValues().mixTweenPositionByDeltaFrom_ScreenTop(e,uc,{_y:-300,_d:450}),ga.GetActionMixerWithValues().mixTweenPositionByDeltaTo_ScreenTop(e,vc,{_d:800,_y:-1e3}),e.bake(),e}},{key:"Scorefont",value:function(){var e=ga.MixFontActor(null,0,0,sf.scorefont,fc,0);return cb.InjectIntoActor(e,["cover_score_font"]),ia.InjectIntoActor(e,[ka.COVER]),ga.GetActionMixerWithValues().mixTweenPositionByDeltaFrom_ScreenTop(e,uc),ga.GetActionMixerWithValues().mixTweenPositionByDeltaTo_ScreenTop(e,vc),e.bake(),e}},{key:"BtnPlay",value:function(e){var t=ga.MixSpriteActor(null,0,0,wa.Btn_Play,Na,1);cb.InjectIntoActor(t,["cover_btn_play"]),ia.InjectIntoActor(t,[ka.COVER]),ib.InjectIntoActor(t,"alias_cover_btn_play"),ga.GetActionMixerWithValues().mixTweenPositionByDeltaFrom_ScreenBottom(t,uc,{_y:700,_d:1100,delay:300}),ga.GetActionMixerWithValues().mixTweenPositionByDeltaTo_ScreenBottom(t,vc,{_y:1e3}),xa.InjectIntoActor(t,_b,Vb.BASIC),xa.InjectCommandOnUp(t,Xb.Name,{f:e}),t.bake()}}]),e}();function Vy(t){return(Vy="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Hl(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Il(t,e){for(var r=0;r<e.length;r++){var o=e[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function Jl(t,e,r){return e&&Il(t.prototype,e),r&&Il(t,r),t}function Cd(t,e,r){return(Cd="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,r){var o=Wy(t,e);if(o){var $=Object.getOwnPropertyDescriptor(o,e);return $.get?$.get.call(r):$.value}})(t,e,r||t)}function Wy(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=cc(t)););return t}function Xy(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Yy(t,e)}function Yy(t,e){return(Yy=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Zy(t){var e=az();return function(){var r,o=cc(t);if(e){var $=cc(this).constructor;r=Reflect.construct(o,arguments,$)}else r=o.apply(this,arguments);return $y(this,r)}}function $y(t,e){return!e||"object"!==Vy(e)&&"function"!=typeof e?_y(t):e}function _y(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function az(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function cc(t){return(cc=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Kl="ACT_FADE_ENTER";var Ll="ACT_FADE_EXIT";var bz=function(t){Xy(r,rb);var e=Zy(r);function r(){return Hl(this,r),e.apply(this,arguments)}return Jl(r,[{key:"onEnterInstant",value:function(){Cd(cc(r.prototype),"onEnterInstant",this).call(this),cz.FadeZaslona(this.getStateExitTimeInMs()),ha.TriggerActionOnAllActorsInBag(Kl,ka.FADE)}},{key:"onEnterDelayed",value:function(){Cd(cc(r.prototype),"onEnterDelayed",this).call(this)}},{key:"onExitInstant",value:function(){Cd(cc(r.prototype),"onExitInstant",this).call(this),ha.TriggerActionOnAllActorsInBag(Ll,ka.FADE)}},{key:"onExitDelayed",value:function(){Cd(cc(r.prototype),"onExitDelayed",this).call(this),Da.MassQueueDisposeEntities(ka.FADE)}},{key:"onUpdate",value:function(t,e){Cd(cc(r.prototype),"onUpdate",this).call(this,t,e)}}]),r}();var cz=function(){function t(){Hl(this,t)}return Jl(t,null,[{key:"FadeZaslona",value:function(t){var e=ra.GetEmptyActor();oa.InjectIntoActor(e,0,0),Ja.InjectIntoActor(e,wa.ZaslonkaFade,Bh),ia.InjectIntoActor(e,[ka.FADE]),fa.SetAlpha(e,0),fa.SetDisplaySize(e,2500,2500),Hc.InjectIntoActor(e,Kl,{_alpha:1,_d:t}),Hc.InjectIntoActor(e,Ll,{_alpha:0,_d:t}),e.bake()}}]),t}();function dz(e){return(dz="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ml(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function Nl(e,t,r){return t&&Ml(e.prototype,t),r&&Ml(e,r),e}function tf(e,t,r){return(tf="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,r){var o=ez(e,t);if(o){var $=Object.getOwnPropertyDescriptor(o,t);return $.get?$.get.call(r):$.value}})(e,t,r||e)}function ez(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=wc(e)););return e}function fz(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&gz(e,t)}function gz(e,t){return(gz=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function hz(e){var t=kz();return function(){var r,o=wc(e);if(t){var $=wc(this).constructor;r=Reflect.construct(o,arguments,$)}else r=o.apply(this,arguments);return iz(this,r)}}function iz(e,t){return!t||"object"!==dz(t)&&"function"!=typeof t?jz(e):t}function jz(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function kz(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function wc(e){return(wc=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ug(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var Hb="ACT_TWEEN_OUT_ON_REQUEST";var uf={HTP_MinimalHand:"HTP_MinimalHand"};var Dd="ACT_GAMEOVER_ENTER";var Ed="ACT_GAMEOVER_EXIT";var lz=function e(){Ug(this,e),this.canShowTrophy=!1},mz=function(e){fz(r,rb);var t=hz(r);function r(){var e;return Ug(this,r),(e=t.call(this)).stateVals=new lz,e}return Nl(r,[{key:"onEnterInstant",value:function(){tf(wc(r.prototype),"onEnterInstant",this).call(this),ha.TriggerActionOnAllActorsInBag(Dd,ka.GAMEOVER)}},{key:"onExitInstant",value:function(){tf(wc(r.prototype),"onExitInstant",this).call(this),ha.TriggerActionOnAllActorsInBag(Ed,ka.GAMEOVER),ha.TriggerActionOnAllActorsInBag(Hb,ka.REWARDS_LOTTERY)}},{key:"onExitDelayed",value:function(){tf(wc(r.prototype),"onExitDelayed",this).call(this),Da.MassQueueDisposeEntities(ka.GAMEOVER)}},{key:"onUpdate",value:function(e,t){tf(wc(r.prototype),"onUpdate",this).call(this,e,t)}},{key:"enableHigherScoreTrophy",value:function(){this.stateVals.canShowTrophy=!0}},{key:"canShowHigherScoreTrophy",value:function(){return this.stateVals.canShowTrophy}},{key:"enableTapToCover",value:function(){this.resetTicker("delayGotoCoverTapCheck",1250),zb.ResetTap("tap_on_game_over_to_cover")}},{key:"doGameOverWantsToQuit",value:function(){return!!this.isInputForTapAndTickerValid("delayGotoCoverTapCheck","tap_on_game_over_to_cover")}}]),r}();var Zc=function(){function e(){Ug(this,e)}return Nl(e,null,[{key:"GameOverIcon",value:function(){var e=ga.MixImageActor(null,0,0,wa.GameOverIcon,Na,1);return oa.InjectIntoActor(e,0,0),cb.InjectIntoActor(e,["gameover_icon"]),ia.InjectIntoActor(e,[ka.GAMEOVER]),ga.GetActionMixerWithValues().mixTweenPositionByDeltaFrom_ScreenTop(e,Dd,{_y:-1e3,_d:800}),ga.GetActionMixerWithValues().mixTweenPositionByDeltaTo_ScreenTop(e,Ed,{_d:800,_y:-1e3}),e.bake(),e}},{key:"Highscore",value:function(){var e=ga.MixImageActor(null,0,0,wa.HighscoreBigIcon,Na,0);return ia.InjectIntoActor(e,[ka.GAMEOVER]),cb.InjectIntoActor(e,["gameover_big_highscore"]),ga.GetActionMixerWithValues().mixTweenPositionByDeltaFrom_ScreenTop(e,Dd,{_y:-1e3,_d:800}),ga.GetActionMixerWithValues().mixTweenPositionByDeltaTo_ScreenTop(e,Ed,{_d:800,_y:-1e3}),e.bake(),e}},{key:"TryAgainSpinned",value:function(){var e=ga.MixImageActor(null,0,0,wa.TryAgain,Na,1);return ia.InjectIntoActor(e,[ka.GAMEOVER]),cb.InjectIntoActor(e,["gameover_tryagain"]),ga.GetActionMixerWithValues().mixTweenPositionByDeltaFrom_ScreenTop(e,Dd,{_y:-1e3,_d:800}),ga.GetActionMixerWithValues().mixTweenPositionByDeltaTo_ScreenTop(e,Ed,{_d:800,_y:-1e3}),e.bake(),e}},{key:"TapToContinue",value:function(){var e=ga.MixSpineObject(null,0,0,uf.HTP_MinimalHand,"Tap",!0,Na,1);return ia.InjectIntoActor(e,[ka.GAMEOVER]),ib.InjectIntoActor(e,"alias_gameover_tap_to_continue"),cb.InjectIntoActor(e,["gameover_tap_to_continue"]),ga.GetActionMixerWithValues().mixTweenPositionByDeltaFrom_ScreenTop(e,Dd,{_y:1200,_d:800}),ga.GetActionMixerWithValues().mixTweenPositionByDeltaTo_ScreenTop(e,Ed,{_y:1200,_d:800}),e.bake(),e}}]),e}();function nz(e){return(nz="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ol(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Pl(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function Ql(e,t,r){return t&&Pl(e.prototype,t),r&&Pl(e,r),e}function vf(e,t,r){return(vf="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,r){var o=oz(e,t);if(o){var n=Object.getOwnPropertyDescriptor(o,t);return n.get?n.get.call(r):n.value}})(e,t,r||e)}function oz(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=xc(e)););return e}function pz(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&qz(e,t)}function qz(e,t){return(qz=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function rz(e){var t=uz();return function(){var r,o=xc(e);if(t){var n=xc(this).constructor;r=Reflect.construct(o,arguments,n)}else r=o.apply(this,arguments);return sz(this,r)}}function sz(e,t){return!t||"object"!==nz(t)&&"function"!=typeof t?tz(e):t}function tz(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function uz(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function xc(e){return(xc=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var wf="ACT_GAMEPLAY_ENTER";var xf="ACT_GAMEPLAY_EXIT";var vz=function(e){pz(r,rb);var t=rz(r);function r(){return Ol(this,r),t.call(this)}return Ql(r,[{key:"onEnterInstant",value:function(){vf(xc(r.prototype),"onEnterInstant",this).call(this)}},{key:"onUpdate",value:function(e,t){vf(xc(r.prototype),"onUpdate",this).call(this,e,t)}},{key:"onExitInstant",value:function(){vf(xc(r.prototype),"onExitInstant",this).call(this)}},{key:"onExitDelayed",value:function(){vf(xc(r.prototype),"onExitDelayed",this).call(this)}}]),r}();var Vg=function(){function e(){Ol(this,e)}return Ql(e,null,[{key:"ScorePanel",value:function(){var e=ga.MixImageActor(null,0,0,wa.ScorePanel,fc,0);return cb.InjectIntoActor(e,["gameplay_score_panel"]),ia.InjectIntoActor(e,[ka.GAMEPLAY]),ga.GetActionMixerWithValues().mixTweenPositionByDeltaFrom_ScreenTop(e,wf,{_y:-300,_d:500}),ga.GetActionMixerWithValues().mixTweenPositionByDeltaTo_ScreenTop(e,xf,{_y:-300,_d:500}),Eb.InjectIntoActor(e,Ia,1,1),e.bake(),e}},{key:"ScoreText",value:function(){var e=ga.MixFontActor(null,0,0,sf.scorefont,fc,0);return cb.InjectIntoActor(e,["gameplay_score_font"]),ia.InjectIntoActor(e,[ka.GAMEPLAY]),ib.InjectIntoActor(e,"alias_gameplay_text_score"),ga.GetActionMixerWithValues().mixTweenPositionByDeltaFrom_ScreenTop(e,wf),ga.GetActionMixerWithValues().mixTweenPositionByDeltaTo_ScreenTop(e,xf),e.bake(),e}},{key:"ScoreIcon",value:function(){var e=ga.MixImageActor(null,0,0,wa.ScoreIcon,fc,0);return cb.InjectIntoActor(e,["gameplay_score_icon"]),ia.InjectIntoActor(e,[ka.GAMEPLAY]),Eb.InjectIntoActor(e,Ia,1,1),ga.GetActionMixerWithValues().mixTweenPositionByDeltaFrom_ScreenTop(e,wf),ga.GetActionMixerWithValues().mixTweenPositionByDeltaTo_ScreenTop(e,xf),e.bake(),e}},{key:"Tutorial",value:function(){var e=ra.GetEmptyActor();return oa.InjectIntoActor(e,0,220),Lb.InjectIntoActor(e,uf.HTP_MinimalHand,"Tap",!0,Na),ia.InjectIntoActor(e,[ka.GAMEPLAY]),ib.InjectIntoActor(e,"alias_howtoplay_generic_anim"),e.bake(),e}}]),e}();function wz(t){return(wz="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Wg(t,e,r){return(Wg="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,r){var o=xz(t,e);if(o){var $=Object.getOwnPropertyDescriptor(o,e);return $.get?$.get.call(r):$.value}})(t,e,r||t)}function xz(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=$c(t)););return t}function yz(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&zz(t,e)}function zz(t,e){return(zz=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Az(t){var e=Dz();return function(){var r,o=$c(t);if(e){var $=$c(this).constructor;r=Reflect.construct(o,arguments,$)}else r=o.apply(this,arguments);return Bz(this,r)}}function Bz(t,e){return!e||"object"!==wz(e)&&"function"!=typeof e?Cz(t):e}function Cz(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Dz(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function $c(t){return($c=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Rl(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Sl(t,e){for(var r=0;r<e.length;r++){var o=e[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function Tl(t,e,r){return e&&Sl(t.prototype,e),r&&Sl(t,r),t}var Ez="ACT_PAUSE_ENTER";var Fz="ACT_PAUSE_EXIT";var Xg=function(){function t(){Rl(this,t)}return Tl(t,null,[{key:"PauseBackground",value:function(){var t=ra.GetEmptyActor();oa.InjectIntoActor(t,0,0),Ja.InjectIntoActor(t,wa.PauseCurtain,Od),ia.InjectIntoActor(t,[ka.PAUSE]),t.bake(),fa.SetDisplaySize(t,8192,8192)}},{key:"PauseIcon",value:function(){var t=ra.GetEmptyActor();oa.InjectIntoActor(t,0,-100),Ja.InjectIntoActor(t,wa.PauseIcon,Od),ia.InjectIntoActor(t,[ka.PAUSE]),t.bake()}},{key:"BtnPlay",value:function(){var t=ra.GetEmptyActor();oa.InjectIntoActor(t,0,200),Ja.InjectIntoActor(t,wa.Btn_Play,Od),ia.InjectIntoActor(t,[ka.PAUSE]),xa.InjectIntoActor(t,Pc,Vb.BASIC),xa.InjectCommandOnUp(t,eg.Name,null),t.bake()}}]),t}();var Gz=function(t){yz(r,rb);var e=Az(r);function r(){return Rl(this,r),e.apply(this,arguments)}return Tl(r,[{key:"onEnterInstant",value:function(){Wg($c(r.prototype),"onEnterInstant",this).call(this),Xg.PauseBackground(),Xg.PauseIcon(),Xg.BtnPlay(),ha.TriggerActionOnAllActorsInBag(Ez,ka.PAUSE),pa.GetGameRemix().doOnEnterPauseState()}},{key:"onExitInstant",value:function(){Wg($c(r.prototype),"onExitInstant",this).call(this),ha.TriggerActionOnAllActorsInBag(Fz,ka.PAUSE)}},{key:"onExitDelayed",value:function(){Wg($c(r.prototype),"onExitDelayed",this).call(this),Da.MassQueueDisposeEntities(ka.PAUSE)}}]),r}();function Hz(t){return(Hz="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Yg(t,e,r){return(Yg="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,r){var o=Iz(t,e);if(o){var $=Object.getOwnPropertyDescriptor(o,e);return $.get?$.get.call(r):$.value}})(t,e,r||t)}function Iz(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=_c(t)););return t}function Jz(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Kz(t,e)}function Kz(t,e){return(Kz=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Lz(t){var e=Oz();return function(){var r,o=_c(t);if(e){var $=_c(this).constructor;r=Reflect.construct(o,arguments,$)}else r=o.apply(this,arguments);return Mz(this,r)}}function Mz(t,e){return!e||"object"!==Hz(e)&&"function"!=typeof e?Nz(t):e}function Nz(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Oz(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function _c(t){return(_c=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Ul(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Vl(t,e){for(var r=0;r<e.length;r++){var o=e[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function Wl(t,e,r){return e&&Vl(t.prototype,e),r&&Vl(t,r),t}var Pz="ACT_PREGAME_ENTER";var Qz="ACT_PREGAME_EXIT";var Rz=function(){function t(){Ul(this,t)}return Wl(t,null,[{key:"LogoPreloader",value:function(){var t=ra.GetEmptyActor();oa.InjectIntoActor(t,0,-75),Ja.InjectIntoActor(t,"PreloaderLogo",Na),ia.InjectIntoActor(t,[ka.PREGAME]),t.bake()}},{key:"BtnPlay",value:function(t){var e=ra.GetEmptyActor();oa.InjectIntoActor(e,0,170),Ja.InjectIntoActor(e,wa.Btn_Play,Na),ia.InjectIntoActor(e,[ka.PREGAME]),xa.InjectIntoActor(e,ud,Vb.BASIC),xa.InjectCommandOnUp(e,Xb.Name,t),e.bake()}}]),t}();var Sz=function(t){Jz(r,rb);var e=Lz(r);function r(){return Ul(this,r),e.apply(this,arguments)}return Wl(r,[{key:"onEnterInstant",value:function(){Yg(_c(r.prototype),"onEnterInstant",this).call(this),Rz.BtnPlay(function(){pa.GetGameRemix().bootInitialGameStates()}),ha.TriggerActionOnAllActorsInBag(Pz,ka.PREGAME)}},{key:"onExitInstant",value:function(){Yg(_c(r.prototype),"onExitInstant",this).call(this),ha.TriggerActionOnAllActorsInBag(Qz,ka.PREGAME)}},{key:"onExitDelayed",value:function(){Yg(_c(r.prototype),"onExitDelayed",this).call(this),Da.MassQueueDisposeEntities(ka.PREGAME)}}]),r}();var Fd="SETTINGS_STATE";function Tz(t){return(Tz="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Xl(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Yl(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function Zl(t,e,n){return e&&Yl(t.prototype,e),n&&Yl(t,n),t}function Uz(t,e,n){return(Uz="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var o=Vz(t,e);if(o){var r=Object.getOwnPropertyDescriptor(o,e);return r.get?r.get.call(n):r.value}})(t,e,n||t)}function Vz(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=yf(t)););return t}function Wz(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Xz(t,e)}function Xz(t,e){return(Xz=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Yz(t){var e=_z();return function(){var n,o=yf(t);if(e){var r=yf(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return Zz(this,n)}}function Zz(t,e){return!e||"object"!==Tz(e)&&"function"!=typeof e?$z(t):e}function $z(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _z(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function yf(t){return(yf=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var $l="ACT_SETTINGS_ENTER";var aA="ACT_SETTINGS_EXIT";var bA=function(t){Wz(n,rb);var e=Yz(n);function n(){return Xl(this,n),e.apply(this,arguments)}return Zl(n,[{key:"onEnterInstant",value:function(){Uz(yf(n.prototype),"onEnterInstant",this).call(this),_l.ButtonToggleSound(),ha.TriggerActionOnAllActorsInBag($l,ka.SETTINGS)}}]),n}();var _l=function(){function t(){Xl(this,t)}return Zl(t,null,[{key:"ButtonPause",value:function(){var t=ha.GetActorByAliasIfExists("alias_settings_btn_pause");if(t)return t;var e=ra.GetEmptyActor();oa.InjectIntoActor(e,-5,80),ab.InjectIntoActor(e,wa.Btn_Pause,Nd),ia.InjectIntoActor(e,[ka.SETTINGS]),ib.InjectIntoActor(e,"alias_settings_btn_pause"),xa.InjectIntoActor(e,Fd,Vb.BASIC),xa.InjectCommandOnUp(e,cg.Name,null),e.bake(),fa.MoveByHalfOwnSizeInDir(e,-1,1),fa.SetScale(e,.1),ga.GetActionMixerWithValues().mixTweenScaleTo(e,"ACT_CUSTOM_SCALE_ME",{_d:200},1),e.triggerActions("ACT_CUSTOM_SCALE_ME")}},{key:"ButtonToggleSound",value:function(){var t=ra.GetEmptyActor();oa.InjectIntoActor(t,-5,5),ab.InjectIntoActor(t,wa.Btn_SoundOn,Nd),ia.InjectIntoActor(t,[ka.SETTINGS]),xa.InjectIntoActor(t,Fd,Vb.BASIC),xa.SetAsToggle(t),xa.InjectSwapFromPositiveStateActionOnUp(t,bg.Name),xa.InjectSwapFromNegativeStateActionOnUp(t,dg.Name),xa.SetToggleStateWithoutTriggeringActions(t,Kb.GetAudioState()),Ob.InjectIntoActor(t,{sound_on:{texture:wa.Btn_SoundOn},sound_off:{texture:wa.Btn_SoundOff}}),Ub.InjectIntoActor(t,Wd,"sound_on"),Ub.InjectIntoActor(t,Vd,"sound_off"),t.bake(),fa.MoveByHalfOwnSizeInDir(t,-1,1),Ic.InjectIntoActor(t,$l,{_x:0,_y:-200,_d:500}),Jc.InjectIntoActor(t,aA,{_x:0,_y:-200,_d:500})}}]),t}();var zf="UPGRADES_STATE";function cA(e){return(cA="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function am(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function bm(e,t){for(var o=0;o<t.length;o++){var r=t[o];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function cm(e,t,o){return t&&bm(e.prototype,t),o&&bm(e,o),e}function Zg(e,t,o){return(Zg="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,o){var r=dA(e,t);if(r){var $=Object.getOwnPropertyDescriptor(r,t);return $.get?$.get.call(o):$.value}})(e,t,o||e)}function dA(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=ad(e)););return e}function eA(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&fA(e,t)}function fA(e,t){return(fA=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function gA(e){var t=jA();return function(){var o,r=ad(e);if(t){var $=ad(this).constructor;o=Reflect.construct(r,arguments,$)}else o=r.apply(this,arguments);return hA(this,o)}}function hA(e,t){return!t||"object"!==cA(t)&&"function"!=typeof t?iA(e):t}function iA(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function jA(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function ad(e){return(ad=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function dm(e,a){for(var t=0;t<a.length;t++){var r=a[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function kA(e,a,t){return a&&dm(e.prototype,a),t&&dm(e,t),e}function em(e,a){if(!(e instanceof a))throw new TypeError("Cannot call a class as a function")}var lA=function e(){em(this,e),this.saveSlot=null,this.data=null},dc=new lA,ya=function(){function e(){em(this,e)}return kA(e,null,[{key:"SetSaveSlot",value:function(e){dc.saveSlot=e}},{key:"IsSaveDataExistingOnPlatform",value:function(){return!!localStorage.getItem(dc.saveSlot)}},{key:"SetSaveDataObject",value:function(e){dc.data=e}},{key:"SaveSaveDataObject",value:function(){localStorage.setItem(dc.saveSlot,JSON.stringify(dc.data))}},{key:"LoadSaveDataObject",value:function(){dc.data=JSON.parse(localStorage.getItem(dc.saveSlot))}},{key:"GetDataObject",value:function(){return dc.data}}]),e}();var Gd={Obelix16:"Obelix16",Obelix28:"Obelix28"};var la={Bossfight:"Bossfight",Boss_Green:"Boss_Green",Boss_Red:"Boss_Red",Boss_Red_Turret:"Boss_Red_Turret",Boss_Zeppelin:"Boss_Zeppelin",ChmurkiPoBokach:"ChmurkiPoBokach",Cloud_01:"Cloud_01",Cloud_02:"Cloud_02",Cloud_03:"Cloud_03",Cloud_04:"Cloud_04",Cloud_05:"Cloud_05",EnemyBullet:"EnemyBullet",Enemy_Green:"Enemy_Green",Enemy_LightBlue:"Enemy_LightBlue",Enemy_Orange:"Enemy_Orange",Enemy_Red:"Enemy_Red",Enemy_Violet:"Enemy_Violet",FarBG_Forest:"FarBG_Forest",Hole_01:"Hole_01",Hole_02:"Hole_02",Hole_03:"Hole_03",Hole_04:"Hole_04",ParticleDymuZRury:"ParticleDymuZRury",PlayerBullet:"PlayerBullet",PlayerPlane:"PlayerPlane",PowerUpBaloon:"PowerUpBaloon",Sides:"Sides",PlayerPlane_Armored:"PlayerPlane_Armored",UpgradeIcon_Armor:"UpgradeIcon_Armor",UpgradeIcon_Bonus:"UpgradeIcon_Bonus",UpgradeIcon_DoublePoints:"UpgradeIcon_DoublePoints",UpgradeIcon_MoreBullets:"UpgradeIcon_MoreBullets",Upgrade_Armor_Off:"Upgrade_Armor_Off",Upgrade_Armor_On:"Upgrade_Armor_On",Upgrade_Armor_None:"Upgrade_Armor_None",Upgrade_BonusScore_Off:"Upgrade_BonusScore_Off",Upgrade_BonusScore_On:"Upgrade_BonusScore_On",Upgrade_BonusScore_None:"Upgrade_BonusScore_None",Upgrade_Shots_Off:"Upgrade_Shots_Off",Upgrade_Shots_On:"Upgrade_Shots_On",Upgrade_Shots_None:"Upgrade_Shots_None",Wicherek_01:"Wicherek_01",Wicherek_02:"Wicherek_02",Star:"Star"};var Af="ACT_UPGRADES_ENTER";var Bf="ACT_UPGRADES_EXIT";var mA=function(e){eA(o,rb);var t=gA(o);function o(){return am(this,o),t.apply(this,arguments)}return cm(o,[{key:"onEnterInstant",value:function(){Zg(ad(o.prototype),"onEnterInstant",this).call(this);var e=Qb.UpgradeConsumableToggleButton(-140,-40,"alias_upgrades_score_mult",la.Upgrade_BonusScore_On,la.Upgrade_BonusScore_Off,la.Upgrade_BonusScore_None),t=Qb.UpgradeConsumableToggleButton(0,-40,"alias_upgrades_bullet_count",la.Upgrade_Shots_On,la.Upgrade_Shots_Off,la.Upgrade_Shots_None),r=Qb.UpgradeConsumableToggleButton(140,-40,"alias_upgrades_armor",la.Upgrade_Armor_On,la.Upgrade_Armor_Off,la.Upgrade_Armor_None,function(){Ob.ChangeAnimation(Ec("player"),"armor")},function(){Ob.ChangeAnimation(Ec("player"),"base")});ya.GetDataObject().consumable.extraBullets<=0&&xa.SetDisabled(t,!0),ya.GetDataObject().consumable.doubleScore<=0&&xa.SetDisabled(e,!0),ya.GetDataObject().consumable.extraHealth<=0&&xa.SetDisabled(r,!0),Qb.UpgradeConsumableCountPanel(-144,-10),Qb.UpgradeConsumableCountPanel(-4,-10),Qb.UpgradeConsumableCountPanel(136,-10),Qb.UpgradeConsumableCountFont(-144,-22,Gd.Obelix28,"alias_upgrades_counter_score",ya.GetDataObject().consumable.doubleScore),Qb.UpgradeConsumableCountFont(-4,-22,Gd.Obelix28,"alias_upgrades_counter_bullets",ya.GetDataObject().consumable.extraBullets),Qb.UpgradeConsumableCountFont(136,-22,Gd.Obelix28,"alias_upgrades_counter_armor",ya.GetDataObject().consumable.extraHealth),ha.TriggerActionOnAllActorsInBag(Af,ka.UPGRADES)}},{key:"onExitInstant",value:function(){Zg(ad(o.prototype),"onExitInstant",this).call(this),ha.TriggerActionOnAllActorsInBag(Bf,ka.UPGRADES)}},{key:"onExitDelayed",value:function(){Zg(ad(o.prototype),"onExitDelayed",this).call(this),Da.MassQueueDisposeEntities(ka.UPGRADES)}},{key:"onUpdate",value:function(){xa.GetToggleState(ha.GetActorByAlias("alias_upgrades_score_mult"))?Ga.SetText(ha.GetActorByAlias("alias_upgrades_counter_score"),ya.GetDataObject().consumable.doubleScore-1):Ga.SetText(ha.GetActorByAlias("alias_upgrades_counter_score"),ya.GetDataObject().consumable.doubleScore),xa.GetToggleState(ha.GetActorByAlias("alias_upgrades_bullet_count"))?Ga.SetText(ha.GetActorByAlias("alias_upgrades_counter_bullets"),ya.GetDataObject().consumable.extraBullets-1):Ga.SetText(ha.GetActorByAlias("alias_upgrades_counter_bullets"),ya.GetDataObject().consumable.extraBullets),xa.GetToggleState(ha.GetActorByAlias("alias_upgrades_armor"))?Ga.SetText(ha.GetActorByAlias("alias_upgrades_counter_armor"),ya.GetDataObject().consumable.extraHealth-1):Ga.SetText(ha.GetActorByAlias("alias_upgrades_counter_armor"),ya.GetDataObject().consumable.extraHealth)}}]),o}();var Qb=function(){function e(){am(this,e)}return cm(e,null,[{key:"ExampleItem",value:function(){}},{key:"UpgradeConsumableToggleButton",value:function(e,t,o,r,$,n,a,i){var p=ga.MixSpriteActor(null,e,t,r,gc,0);return Eb.InjectIntoActor(p,Ia,0,-1),ia.InjectIntoActor(p,[ka.UPGRADES]),xa.InjectIntoActor(p,zf,Vb.BASIC),xa.SetAsToggle(p),ib.InjectIntoActor(p,o),a&&xa.InjectSwapFromNegativeStateActionOnUp(p,Xb.Name,a),i&&xa.InjectSwapFromPositiveStateActionOnUp(p,Xb.Name,i),xa.SetToggleStateWithoutTriggeringActions(p,!1),Ob.InjectIntoActor(p,{on:{texture:r},off:{texture:$},disabled:{texture:n}}),Ub.InjectIntoActor(p,Wd,"on"),Ub.InjectIntoActor(p,Vd,"off"),Ub.InjectIntoActor(p,Gi,"disabled"),ga.GetActionMixerWithValues().mixTweenPositionByDeltaFrom_ScreenBottom(p,Af),ga.GetActionMixerWithValues().mixTweenPositionByDeltaTo_ScreenBottom(p,Bf),p.bake(),p}},{key:"UpgradeConsumableCountPanel",value:function(e,t){var o=ga.MixImageActor(null,e,t,wa.Rewards_UpgradesCountPanel,gc,0);return Eb.InjectIntoActor(o,Ia,0,-1),ia.InjectIntoActor(o,[ka.UPGRADES]),ga.GetActionMixerWithValues().mixTweenPositionByDeltaFrom_ScreenBottom(o,Af),ga.GetActionMixerWithValues().mixTweenPositionByDeltaTo_ScreenBottom(o,Bf),o.bake(),o}},{key:"UpgradeConsumableCountFont",value:function(e,t,o,r,$){var n=ga.MixFontActor(null,e,t,o,gc,0);return ia.InjectIntoActor(n,[ka.UPGRADES]),r&&ib.InjectIntoActor(n,r),ga.GetActionMixerWithValues().mixTweenPositionByDeltaFrom_ScreenBottom(n,Af),ga.GetActionMixerWithValues().mixTweenPositionByDeltaTo_ScreenBottom(n,Bf),n.bake(),Ga.SetText(n,$),Ga.SetOriginMiddle(n),n}}]),e}();function nA(e){return(nA="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function fm(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function gm(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function hm(e,t,n){return t&&gm(e.prototype,t),n&&gm(e,n),e}function $g(e,t,n){return($g="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=oA(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function oA(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=bd(e)););return e}function pA(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&qA(e,t)}function qA(e,t){return(qA=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function rA(e){var t=uA();return function(){var n,r=bd(e);if(t){var o=bd(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return sA(this,n)}}function sA(e,t){return!t||"object"!==nA(t)&&"function"!=typeof t?tA(e):t}function tA(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function uA(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function bd(e){return(bd=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var yc="STATE_ADVERTISING_QUESTION";var vA=function(e){pA(n,rb);var t=rA(n);function n(){return fm(this,n),t.apply(this,arguments)}return hm(n,[{key:"onEnterInstant",value:function(){$g(bd(n.prototype),"onEnterInstant",this).call(this),Hd.RewardedAdOverlay(),Hd.RewardedAdPanel(),Hd.RewardedAdButtonNoThankYou(),Hd.RewardedAdWhatYouGet(),Hd.RewardedAdButtonYesPlease()}},{key:"onExitInstant",value:function(){$g(bd(n.prototype),"onExitInstant",this).call(this)}},{key:"onExitDelayed",value:function(){$g(bd(n.prototype),"onExitDelayed",this).call(this),Da.MassQueueDisposeEntities(ka.ADVERTISING_QUESTION)}},{key:"onUpdate",value:function(){}}]),n}();var Hd=function(){function e(){fm(this,e)}return hm(e,null,[{key:"RewardedAdOverlay",value:function(){var e=ga.MixImageActor(null,0,0,wa.PauseCurtain,Na,0);return fa.SetAlpha(e,0),Hc.InjectIntoActor(e,Ia,{_alpha:1,_d:500}),ia.InjectIntoActor(e,[ka.ADVERTISING_QUESTION]),e.bake(),fa.SetDisplaySize(e,4096,4096),e}},{key:"RewardedAdPanel",value:function(){var e=ga.MixImageActor(null,0,0,wa.Rewards_Panel,Na,0);return ia.InjectIntoActor(e,[ka.ADVERTISING_QUESTION]),e.bake(),e}},{key:"RewardedAdButtonNoThankYou",value:function(){var e=ga.MixSpriteActor(null,172,-100,wa.Rewards_CloseBtn,Na,0);return ia.InjectIntoActor(e,[ka.ADVERTISING_QUESTION]),xa.InjectIntoActor(e,yc,Vb.BASIC),xa.InjectCommandOnUp(e,Xb.Name,{f:function(e){pa.GetGameRemix().getRemixCfg().funcDoLogicAfterDenyingAdvertising(),na.ExitState(yc)}}),e.bake(),e}},{key:"RewardedAdWhatYouGet",value:function(){var e=ga.MixImageActor(null,0,0,wa.Rewards_WhatYouGet,Na,0);return ia.InjectIntoActor(e,[ka.ADVERTISING_QUESTION]),e.bake(),e}},{key:"RewardedAdButtonYesPlease",value:function(){var e=ga.MixSpriteActor(null,0,150,wa.Rewards_PlayAd_Button,Na,0);return ia.InjectIntoActor(e,[ka.ADVERTISING_QUESTION]),xa.InjectIntoActor(e,yc,Vb.BASIC),xa.InjectCommandOnUp(e,Xb.Name,{f:function(e){na.ExitState(yc)}}),e.bake(),e}}]),e}();var _g="ENUM_STATE_REWARDS_LOTTERY";function wA(e){return(wA="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function im(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function jm(e,t,r){return t&&im(e.prototype,t),r&&im(e,r),e}function Cf(e,t,r){return(Cf="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,r){var o=xA(e,t);if(o){var a=Object.getOwnPropertyDescriptor(o,t);return a.get?a.get.call(r):a.value}})(e,t,r||e)}function xA(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=zc(e)););return e}function yA(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&zA(e,t)}function zA(e,t){return(zA=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function AA(e){var t=DA();return function(){var r,o=zc(e);if(t){var a=zc(this).constructor;r=Reflect.construct(o,arguments,a)}else r=o.apply(this,arguments);return BA(this,r)}}function BA(e,t){return!t||"object"!==wA(t)&&"function"!=typeof t?CA(e):t}function CA(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function DA(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function zc(e){return(zc=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ah(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var Ib="ACT_TWEEN_IN_ON_REQUEST";var km=function(e){return e/1e3};var EA=function e(){ah(this,e),this.updateConsumableGain=!1,this.rewardProgressBarSubstractionPerSecond=1,this.rewardProgressBarHowMuchProgressedOnTier=0,this.timeToWaitToProgressFurther=0,this.rewardProgressBarSubstractionMultiplier=1,this.rewards={},this.ownedConsumables={},this.consumableGainCfg=null},FA=function(e){yA(r,rb);var t=AA(r);function r(){var e;return ah(this,r),(e=t.call(this)).stateVals=new EA,e}return jm(r,[{key:"onEnterInstant",value:function(){Cf(zc(r.prototype),"onEnterInstant",this).call(this);var e=pa.GetGameRemix().getSessionData().latestGameplayScore,t={iconsInAnimation:{slot_1:{texture:la.UpgradeIcon_DoublePoints},slot_2:{texture:la.UpgradeIcon_MoreBullets},slot_3:{texture:la.UpgradeIcon_Armor}},consumableList:["slot_1","slot_1","slot_2","slot_2","slot_3"],ownedConsumables:{slot_1:{texture:la.Upgrade_BonusScore_Off,getOwnedCount:function(){return ya.GetDataObject().consumable.doubleScore},upgrade:function(){ya.GetDataObject().consumable.doubleScore+=1,ya.SaveSaveDataObject()}},slot_2:{texture:la.Upgrade_Shots_Off,getOwnedCount:function(){return ya.GetDataObject().consumable.extraBullets},upgrade:function(){ya.GetDataObject().consumable.extraBullets+=1,ya.SaveSaveDataObject()}},slot_3:{texture:la.Upgrade_Armor_Off,getOwnedCount:function(){return ya.GetDataObject().consumable.extraHealth},upgrade:function(){ya.GetDataObject().consumable.extraHealth+=1,ya.SaveSaveDataObject()}}},fontName:Gd.Obelix28,score:e};this.createRewardsProgressionScreen(t),this.setMainProgressBarValue(e),this.setRewardProgressBarBaseSubstractionValue(1200),this.processConsumableGain()}},{key:"onExitInstant",value:function(){Cf(zc(r.prototype),"onExitInstant",this).call(this)}},{key:"onExitDelayed",value:function(){Cf(zc(r.prototype),"onExitDelayed",this).call(this),Da.MassQueueDisposeEntities(ka.REWARDS_LOTTERY)}},{key:"onUpdate",value:function(e,t){if(Cf(zc(r.prototype),"onUpdate",this).call(this,e,t),this.stateVals.updateConsumableGain)if(Ga.SetText(this.stateVals.ownedConsumables.countTextFields.slot_1,this.stateVals.consumableGainCfg.ownedConsumables.slot_1.getOwnedCount()),Ga.SetText(this.stateVals.ownedConsumables.countTextFields.slot_2,this.stateVals.consumableGainCfg.ownedConsumables.slot_2.getOwnedCount()),Ga.SetText(this.stateVals.ownedConsumables.countTextFields.slot_3,this.stateVals.consumableGainCfg.ownedConsumables.slot_3.getOwnedCount()),this.stateVals.timeToWaitToProgressFurther>0)this.stateVals.timeToWaitToProgressFurther-=t;else if(3==this.stateVals.rewards.sequentialSlots.curIndex)this.stateVals.updateConsumableGain=!1,hb.GetFlowManager().onCustomInfo("lottery_finished",{}),Zc.TapToContinue();else{var o=this.stateVals.rewards.sequentialSlots.arr[this.stateVals.rewards.sequentialSlots.curIndex].firanka;if(!ei.IsTweeningPosition(o)){var a=Ec("alias_rewards_progressbar");if(nb.SubstractFromCurValueAndUpdateVisual(a,this.stateVals.rewardProgressBarSubstractionPerSecond*this.stateVals.rewardProgressBarSubstractionMultiplier*km(t)),Ga.SetText(this.stateVals.rewards.score,Math.floor(nb.GetCurValue(a))),nb.IsScaledtoZero(o)){var s=this.stateVals.rewards.sequentialSlots.arr[this.stateVals.rewards.sequentialSlots.curIndex];this.stateVals.consumableGainCfg.ownedConsumables[s.rewardType].upgrade(),this.stateVals.rewards.sequentialSlots.curIndex++,this.stateVals.timeToWaitToProgressFurther=2e3+Phaser.Math.Between(-10,10),this.stateVals.rewardProgressBarSubstractionMultiplier+=2;var n=this.stateVals.ownedConsumables.icons[s.rewardType];fa.ReparentToLayer(s.icon,n.vals.visualBase.layer),Db.tweenPositionTo(s.icon,{_x:n.displayed.x-4,_y:n.displayed.y+16,_d:500,_onComplete:[{type:"trigger",trigger:Fc}]})}else nb.SubstractFromCurValueAndUpdateVisual(o,km(t));nb.IsScaledtoZero(a)&&(this.stateVals.updateConsumableGain=!1,hb.GetFlowManager().onCustomInfo("lottery_finished",{}),Zc.TapToContinue())}}}},{key:"createRewardsProgressionScreen",value:function(e){this.stateVals.consumableGainCfg=e,this.stateVals.rewardProgressBarSubstractionMultiplier=1,this.stateVals.rewards.slots={},this.stateVals.rewards.slots._1={},this.stateVals.rewards.slots._2={},this.stateVals.rewards.slots._3={},this.stateVals.rewards.sequentialSlots={},this.stateVals.rewards.sequentialSlots.curIndex=0,this.stateVals.ownedConsumables.countTextFields={},this.stateVals.ownedConsumables.icons={},Qa.RewardProgressPanel(),Qa.RewardProgressBar(),this.stateVals.rewards.slots._1.panel=Qa.RewardPanel(-140,0),this.stateVals.rewards.slots._2.panel=Qa.RewardPanel(0,0),this.stateVals.rewards.slots._3.panel=Qa.RewardPanel(140,0);var t=Phaser.Utils.Array.GetRandom(e.consumableList);this.stateVals.rewards.slots._1.icon=Qa.RewardPanelIcon(-144,-2,e.iconsInAnimation,t),this.stateVals.rewards.slots._1.rewardType=t,this.stateVals.rewards.slots._2.icon=Qa.RewardPanelIcon(-4,-2,e.iconsInAnimation,t),this.stateVals.rewards.slots._2.rewardType=t,this.stateVals.rewards.slots._3.icon=Qa.RewardPanelIcon(136,-2,e.iconsInAnimation,t),this.stateVals.rewards.slots._3.rewardType=t,this.stateVals.rewards.slots._1.firanka=Qa.RewardsFiranka(-140,0),this.stateVals.rewards.slots._2.firanka=Qa.RewardsFiranka(0,0),this.stateVals.rewards.slots._3.firanka=Qa.RewardsFiranka(140,0),nb.SetMaxValue(this.stateVals.rewards.slots._1.firanka,.75,!0),nb.SetMaxValue(this.stateVals.rewards.slots._2.firanka,1.4,!0),nb.SetMaxValue(this.stateVals.rewards.slots._3.firanka,2,!0),this.stateVals.rewards.sequentialSlots.arr=[this.stateVals.rewards.slots._1,this.stateVals.rewards.slots._2,this.stateVals.rewards.slots._3],Qa.UpgradeConsumableCountPanel(-144,-10),Qa.UpgradeConsumableCountPanel(-4,-10),Qa.UpgradeConsumableCountPanel(136,-10),this.stateVals.ownedConsumables.countTextFields.slot_1=Qa.RewardOwnedConsumableCountFont(-144,-22,e.fontName),this.stateVals.ownedConsumables.countTextFields.slot_2=Qa.RewardOwnedConsumableCountFont(-4,-22,e.fontName),this.stateVals.ownedConsumables.countTextFields.slot_3=Qa.RewardOwnedConsumableCountFont(136,-22,e.fontName),this.stateVals.ownedConsumables.icons.slot_1=Qa.RewardBottomPanel(-140,-40,e.ownedConsumables.slot_1.texture),this.stateVals.ownedConsumables.icons.slot_2=Qa.RewardBottomPanel(0,-40,e.ownedConsumables.slot_2.texture),this.stateVals.ownedConsumables.icons.slot_3=Qa.RewardBottomPanel(140,-40,e.ownedConsumables.slot_3.texture),this.stateVals.rewards.score=Qa.RewardConsumableProgressScoreFont(0,-91,e.fontName),Ga.SetText(this.stateVals.rewards.score,e.score),ha.TriggerActionOnAllActorsInBag(Ib,ka.REWARDS_LOTTERY)}},{key:"setMainProgressBarValue",value:function(e){nb.SetMaxValue(Ec("alias_rewards_progressbar"),e,!0)}},{key:"setRewardProgressBarBaseSubstractionValue",value:function(e){this.stateVals.rewardProgressBarSubstractionPerSecond=e}},{key:"processConsumableGain",value:function(){this.stateVals.updateConsumableGain=!0}}]),r}();var Qa=function(){function e(){ah(this,e)}return jm(e,null,[{key:"RewardProgressPanel",value:function(){var e=ga.MixImageActor(null,0,-92,wa.Rewards_ProgressPanel,Na,0);return ia.InjectIntoActor(e,[ka.REWARDS_LOTTERY]),ga.GetActionMixerWithValues().mixTweenPositionByDeltaFrom_ScreenBottom(e,Ib),ga.GetActionMixerWithValues().mixTweenPositionByDeltaTo_ScreenBottom(e,Hb),e.bake(),e}},{key:"RewardPanel",value:function(e,t){var r=ga.MixImageActor(null,e,t,wa.Rewards_UpgradePanel,Na,0);return ia.InjectIntoActor(r,[ka.REWARDS_LOTTERY]),ga.GetActionMixerWithValues().mixTweenPositionByDeltaFrom_ScreenBottom(r,Ib),ga.GetActionMixerWithValues().mixTweenPositionByDeltaTo_ScreenBottom(r,Hb),r.bake(),r}},{key:"RewardConsumableProgressScoreFont",value:function(e,t,r){var o=ga.MixFontActor(null,e,t,r,Na,0);return ia.InjectIntoActor(o,[ka.REWARDS_LOTTERY]),ga.GetActionMixerWithValues().mixTweenPositionByDeltaFrom_ScreenBottom(o,Ib),ga.GetActionMixerWithValues().mixTweenPositionByDeltaTo_ScreenBottom(o,Hb),o.bake(),Ga.SetText(o,"00000"),Ga.SetOriginMiddle(o),o}},{key:"UpgradeConsumableCountPanel",value:function(e,t){var r=ga.MixImageActor(null,e,t,wa.Rewards_UpgradesCountPanel,gc,0);return Eb.InjectIntoActor(r,Ia,0,-1),ia.InjectIntoActor(r,[ka.REWARDS_LOTTERY]),ga.GetActionMixerWithValues().mixTweenPositionByDeltaFrom_ScreenBottom(r,Ib),ga.GetActionMixerWithValues().mixTweenPositionByDeltaTo_ScreenBottom(r,Hb),r.bake(),r}},{key:"RewardBottomPanel",value:function(e,t,r){var o=ga.MixImageActor(null,e,t,r,gc,0);return ia.InjectIntoActor(o,[ka.REWARDS_LOTTERY]),ga.GetActionMixerWithValues().mixTweenPositionByDeltaFrom_ScreenBottom(o,Ib),ga.GetActionMixerWithValues().mixTweenPositionByDeltaTo_ScreenBottom(o,Hb),o.bake(),fa.MoveByHalfOwnSizeInDir(o,0,-1),o}},{key:"RewardOwnedConsumableCountFont",value:function(e,t,r){var o=ga.MixFontActor(null,e,t,r,gc,0);return ia.InjectIntoActor(o,[ka.REWARDS_LOTTERY]),ga.GetActionMixerWithValues().mixTweenPositionByDeltaFrom_ScreenBottom(o,Ib),ga.GetActionMixerWithValues().mixTweenPositionByDeltaTo_ScreenBottom(o,Hb),o.bake(),Ga.SetText(o,"0"),Ga.SetOriginMiddle(o),o}},{key:"RewardProgressBar",value:function(){var e=ga.MixImageActor(null,0,-92,wa.Rewards_ProgressBar,Na,0);return ia.InjectIntoActor(e,[ka.REWARDS_LOTTERY]),ib.InjectIntoActor(e,"alias_rewards_progressbar"),nb.InjectIntoActor(e,0,!0,!1),ga.GetActionMixerWithValues().mixTweenPositionByDeltaFrom_ScreenBottom(e,Ib),ga.GetActionMixerWithValues().mixTweenPositionByDeltaTo_ScreenBottom(e,Hb),e.bake(),fa.ChangeOrigin(e,0,.5),fa.MoveByHalfOwnSizeInDir(e,-1,0),e}},{key:"RewardPanelIcon",value:function(e,t,r,o){var a=ga.MixImageActor(null,e,t,wa.BMLogo,Na,0);return ia.InjectIntoActor(a,[ka.REWARDS_LOTTERY]),Ob.InjectIntoActor(a,r),ga.GetActionMixerWithValues().mixTweenPositionByDeltaFrom_ScreenBottom(a,Ib),ga.GetActionMixerWithValues().mixTweenPositionByDeltaTo_ScreenBottom(a,Hb),a.bake(),Ob.ChangeAnimation(a,o),a}},{key:"RewardsFiranka",value:function(e,t){var r=ga.MixImageActor(null,e,t,wa.Rewards_Firanka,Na,0);return ia.InjectIntoActor(r,[ka.REWARDS_LOTTERY]),nb.InjectIntoActor(r,0),ga.GetActionMixerWithValues().mixTweenPositionByDeltaFrom_ScreenBottom(r,Ib),ga.GetActionMixerWithValues().mixTweenPositionByDeltaTo_ScreenBottom(r,Hb),r.bake(),fa.ChangeOrigin(r,.5,0),fa.MoveByHalfOwnSizeInDir(r,0,-1),nb.InjectIntoActor(r,0,!1,!0),r}}]),e}();var GA=[{key:rg,stateClass:Ly,sceneKey:pb},{key:ud,stateClass:Sz,sceneKey:pb},{key:Fd,stateClass:bA,sceneKey:pb},{key:_b,stateClass:Uy,sceneKey:pb},{key:zf,stateClass:mA,sceneKey:pb},{key:Fb,stateClass:vz,sceneKey:vd},{key:kc,stateClass:mz,sceneKey:pb},{key:_g,stateClass:FA,sceneKey:pb},{key:yc,stateClass:vA,sceneKey:pb},{key:$d,stateClass:bz,sceneKey:pb},{key:Pc,stateClass:Gz,sceneKey:pb}];var HA=!1;var IA=function(){function e(){Xx(this,e),this.assetsModelsList=[]}return Yx(e,[{key:"addAssetModelBundleList",value:function(e){for(var n=0;n<e.length;n++)this.assetsModelsList.push(e[n])}},{key:"getAssetsModelList",value:function(){return this.assetsModelsList}},{key:"getIsUsingLiteContainers",value:function(){return HA}},{key:"getScalingEnabled",value:function(){return Ca.enableScale}},{key:"getGameWidth",value:function(){return Ca.gameWidth}},{key:"getGameHeight",value:function(){return Ca.gameHeight}},{key:"getGameOrientation",value:function(){return Ca.orientationMode}},{key:"getAllowOrientationScreen",value:function(){return Ca.allowOrientationScreen}},{key:"getAllowLayerReposition",value:function(){return Ca.enableLayerReposition}},{key:"getDefaultScenesCfgArray",value:function(){return Cy}},{key:"getDefaultStates",value:function(){return GA}},{key:"getDefaultLayers",value:function(){return Zx}}]),e}(),db=new IA;function JA(e){return(JA="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function KA(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function lm(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function LA(e,t,r){return t&&lm(e.prototype,t),r&&lm(e,r),e}function MA(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&NA(e,t)}function NA(e,t){return(NA=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function OA(e){var t=RA();return function(){var r,o=mm(e);if(t){var n=mm(this).constructor;r=Reflect.construct(o,arguments,n)}else r=o.apply(this,arguments);return PA(this,r)}}function PA(e,t){return!t||"object"!==JA(t)&&"function"!=typeof t?QA(e):t}function QA(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function RA(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function mm(e){return(mm=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function SA(e){return(SA="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function TA(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function nm(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function UA(e,t,a){return t&&nm(e.prototype,t),a&&nm(e,a),e}function VA(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&WA(e,t)}function WA(e,t){return(WA=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function XA(e){var t=$A();return function(){var a,r=om(e);if(t){var o=om(this).constructor;a=Reflect.construct(r,arguments,o)}else a=r.apply(this,arguments);return YA(this,a)}}function YA(e,t){return!t||"object"!==SA(t)&&"function"!=typeof t?ZA(e):t}function ZA(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function $A(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function om(e){return(om=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _A(e,a){if(!(e instanceof a))throw new TypeError("Cannot call a class as a function")}function pm(e,a){for(var n=0;n<a.length;n++){var t=a[n];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(e,t.key,t)}}function aB(e,a,n){return a&&pm(e.prototype,a),n&&pm(e,n),e}var qm=function(){function e(){_A(this,e)}return aB(e,[{key:"configure",value:function(e){this.scene=e}},{key:"startNextSection",value:function(e){this.scene.load.setPath(e)}},{key:"addSpine",value:function(e){this.scene.load.spine(e,e+".json",e+".atlas")}},{key:"addSpineDict",value:function(e){for(var a in e)this.addSpine(e[a])}},{key:"addJS",value:function(e){this.scene.load.script(e)}},{key:"addAudio",value:function(e){var a=e+"/"+e;this.scene.load.audio(e,[a+".mp3",a+".ogg"])}},{key:"addAudioDict",value:function(e){for(var a in e)this.addAudio(e[a])}},{key:"addPNG",value:function(e){this.scene.load.image(e,e+".png")}},{key:"addTextureDict",value:function(e){for(var a in e)this.addPNG(e[a])}},{key:"addBitmapFont",value:function(e){this.scene.load.bitmapFont(e,e+".png",e+".xml")}},{key:"addBitmapFontDict",value:function(e){for(var a in e)this.addBitmapFont(e[a])}}]),e}();function bB(e){return(bB="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function cB(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function rm(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function dB(e,t,n){return t&&rm(e.prototype,t),n&&rm(e,n),e}function eB(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&fB(e,t)}function fB(e,t){return(fB=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function gB(e){var t=jB();return function(){var n,r=sm(e);if(t){var o=sm(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return hB(this,n)}}function hB(e,t){return!t||"object"!==bB(t)&&"function"!=typeof t?iB(e):t}function iB(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function jB(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function sm(e){return(sm=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function kB(e,a){if(!(e instanceof a))throw new TypeError("Cannot call a class as a function")}function tm(e,a){for(var s=0;s<a.length;s++){var r=a[s];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function lB(e,a,s){return a&&tm(e.prototype,a),s&&tm(e,s),e}var mB=function(){function e(){kB(this,e)}return lB(e,[{key:"initialize",value:function(e,a,s){console.assert(null!=s,"SceneDisplayObject::initialize-> no param aAllowUpdateLayerPositions: ",s),this.mode=Gc,this.sceneName=a,this.scene=e,this.allowUpdateLayerPositions=s,this._cameraPosX=0,this._cameraPosY=0,this._sublayersDict={}}},{key:"onResize",value:function(e){if(this.mode==Gc)for(var a in this._sublayersDict)this._sublayersDict[a].displayedLite.scale=e.screenScaleForGame;else this.mode==Sd&&(this.scene.cameras.main.centerToSize(),this.scene.cameras.main.zoom=e.screenScaleForGame);this.updateLayersPositions(e)}},{key:"updateLayersPositions",value:function(e){for(var a in console.assert(e,"SceneDisplayObject->updateLayersPositions:: requires screenData param which is: ",e),this._sublayersDict){var s=this._sublayersDict[a],r=s.displayedLite,i=s.anchorAxisX,t=s.anchorAxisY;console.assert(r),console.assert(i,"DisplaySystem->_updateLayerPosition:: anchorAxisX isn't set"),console.assert(t,"DisplaySystem->_updateLayerPosition:: anchorAxisY isn't set");var n=jb.game.canvas.getBoundingClientRect();this.allowUpdateLayerPositions&&(3==i&&(r.x=e.screenMaxWidthForGame*e.screenScaleForGame),2==i&&(r.x=e.screenMaxWidthForGame/2*e.screenScaleForGame+Math.abs(e.relsvg.left/2)),1==i&&(r.x=0*e.screenScaleForGame+Math.abs(e.relsvg.left)),3==t&&(r.y=e.screenMaxHeightForGame*e.screenScaleForGame+Math.round(Math.abs(n.top))),2==t&&(r.y=e.screenMaxHeightForGame/2*e.screenScaleForGame+Math.round(Math.abs(n.top))),1==t&&(r.y=0*e.screenScaleForGame+Math.round(Math.abs(n.top))))}}},{key:"_createSublayer",value:function(e,a,s,r){var i,t=r,n=a+"_"+t;i=db.getIsUsingLiteContainers()?this.scene.add.rexContainerLite(0,0):this.scene.make.container({},!1),this.scene.add.existing(i),i.scale=s.screenScaleForGame,i.setDepth(e.workaroundDepth+t*Qn),this._sublayersDict[n]={baseName:e.name,nameWithQualifierAndDepth:n,displayedLite:i,anchorAxisX:e.anchorAxisX,anchorAxisY:e.anchorAxisY},this.updateLayersPositions(s)}},{key:"getOrCreateContainerLiteLayer",value:function(e,a,s){console.assert(s,"SceneDisplayObject->getLayer:: aScreenData is undefined"),console.assert(e,"SceneDisplayObject->getLayer:: Layer is undefined"),console.assert(e.layerName,"SceneDisplayObject->getLayer:: Layer name is not set"),console.assert(e.anchorAxisX,"SceneDisplayObject->getLayer:: Layer anchorAxisX is not set or is illegaly equal to zero"),console.assert(e.anchorAxisY,"SceneDisplayObject->getLayer:: Layer anchorAxisY is not set or is illegaly equal to zero"),void 0===a&&(a=0);var r=e.layerName+"_"+e.anchorAxisX+e.anchorAxisY,i=r+"_"+a;this._sublayersDict[i]||this._createSublayer(e,r,s,a);var t=this._sublayersDict[i].displayedLite;return console.assert(t,"DisplaySystem->getLayer:: returned layer is null. Layer data or name: ",e," debug layer system: ",ta),t}},{key:"setCameraPosY",value:function(e,a){this._cameraPosY=e,this.scene.cameras.main.scrollY=this._cameraPosY*a.screenScaleForGame}}]),e}();var nB=function(e){eB(n,Phaser.Scene);var t=gB(n);function n(){return cB(this,n),t.apply(this,arguments)}return dB(n,[{key:"create",value:function(){zb.SetGameScene(this),console.log("GAMESCENE: allowOrientationScreen:: ",db.getAllowOrientationScreen()),ta.SetGameDisplayMode(db.getGameWidth(),db.getGameHeight(),db.getGameOrientation(),db.getAllowOrientationScreen(),this.game.config.scaleMode),$a.RegisterScene(this,md,-1);for(var e=db.getDefaultScenesCfgArray(),t=0;t<e.length;t++){var n=this.game.scene.add(e[t].key,e[t].sceneClass,!0);$a.RegisterScene(n,e[t].key,e[t].canBePaused);var r=new mB;r.initialize(n,e[t].key,db.getAllowLayerReposition()),ta.RegisterSceneDisplayObject(r)}for(var o=db.getDefaultStates(),i=0;i<o.length;i++){var $=o[i],p=$a.GetSceneByKey($.sceneKey);na.DefineState(p,$.key,new $.stateClass)}db.getScalingEnabled()&&(ta.AddScalingListeners(this),ta.CallResize());for(var a=db.getDefaultLayers(),s=0;s<a.length;s++){var c=a[s];ta.AddLayerToScene(c.layerName,c.sceneKey)}for(var l=$a.GetSceneArr(),M=0;M<l.length;M++)l[M].postCreate();pa.Run()}},{key:"postCreate",value:function(){}},{key:"update",value:function(e,t){hb.GetFlowManager().onUpdateGamePlaytime(t),zb.Update(e,t),$i.Update(t),na.UpdateStates(e,t),na.ExitQueuedStates(),Da.update(e,t),na.EnterQueuedStates(),ta.UpdateRotateScreen()}}]),n}();var Id=0,um=0,Ac=6e3,vm=null,oB=0,pB=!1,qB=!1,wm=!1,rB=setInterval(function(){1==um&&((Id+=25)>=Ac&&(Id=Ac),vm&&vm(oB))},25),xm=function(e){VA(a,Phaser.Scene);var t=XA(a);function a(){return TA(this,a),t.apply(this,arguments)}return UA(a,[{key:"preload",value:function(){this.fontX=0,this.m_layer_basic=this.make.container({},!0),this.m_layer_preloader22=this.make.container({},!1),this.m_layer_basic.add(this.m_layer_preloader22);var e="PreloaderLogo",t="preloaderfont";window.bmCustomPreloaderLogoName&&(e=window.bmCustomPreloaderLogoName),window.bmCustomPreloaderFontName&&(t=window.bmCustomPreloaderFontName),console.log(t),this.imgLogo=this.make.image({x:0,y:-75,key:e,add:!0},!1),this.m_layer_preloader22.add(this.imgLogo),this.fontText=this.make.bitmapText({x:this.fontX,y:125,font:t,text:"0",size:!1,add:!0,align:1},!1),this.m_layer_preloader22.add(this.fontText),this.load.on("progress",this._updatePreload,this),this.load.on("complete",this._completePreload,this),this.load.on("filecomplete",this._onFileComplete,this),this.load.on("loaderror",this._onFileError,this);var a=new qm;a.configure(this);for(var r=db.getAssetsModelList(),o=0;o<r.length;o++)for(var n=r[o],i=0;i<n.bundles.length;i++){var s=n.bundles[i];a.startNextSection(s.path),"image"==s.type&&a.addTextureDict(s.assets),"spine"==s.type&&a.addSpineDict(s.assets),"audio"==s.type&&a.addAudioDict(s.assets),"font"==s.type&&a.addBitmapFontDict(s.assets)}this.screenData={},this.screenData.desiredWidth=db.getGameWidth(),this.screenData.desiredHeight=db.getGameHeight(),this.screenData.scaleMode=this.game.config.scaleMode,this._resize(),this.startUpdatingPreloader=!0,this.ref_Resizef=this._onEventResize.bind(this),window.addEventListener("resize",this.ref_Resizef)}},{key:"_updatePreload",value:function(e){if(this.startUpdatingPreloader){var t=Math.ceil(100*e);oB=t,t>=75&&0==um&&(um=1,vm=this._updatePercentage.bind(this))}this._updatePercentage(t)}},{key:"_updatePercentage",value:function(e){wm||(e=Math.ceil((e+Math.ceil(Id/Ac*100))/200*100)),this.fontText.text=e+"%",this.fontText.x=this.fontX+-this.fontText.width/2}},{key:"_completePreload",value:function(){}},{key:"_onFileComplete",value:function(e,t){console.assert(e),console.assert(t)}},{key:"_onFileError",value:function(e){console.log("gamepreloader-> error loading file config: ",e)}},{key:"create",value:function(){this.load.removeAllListeners(),window.removeEventListener("resize",this.ref_Resizef)}},{key:"exitPreloader",value:function(){pB=!0,clearInterval(rB),vm=null,this.imgLogo.destroy(),this.fontText.destroy(),this.m_layer_basic.destroy(),this.m_layer_preloader22.destroy(),this.game.scene.add(md,nB,!0),this.game.scene.stop("MoonPreloader")}},{key:"update",value:function(e,t){if(!pB){if(this._updatePercentage(100),Id<Ac&&Id>=(Ac-=5*t)&&(Id=Ac),qB)!!window.document.getElementById("ni-overlay")||Id>=Ac&&this.exitPreloader();else Id>=Ac&&this.exitPreloader();wm&&this.exitPreloader()}}},{key:"_onEventResize",value:function(){this._resize()}},{key:"_resizeOnOrientationChange",value:function(){this._resize()}},{key:"_resize",value:function(){var e=jb.game.canvas.getBoundingClientRect();jb.game.scale.resize(Math.round(window.innerWidth),Math.round(window.innerHeight+Math.abs(e.top))),Zh(this.screenData),this.m_layer_basic.setScale(this.screenData.screenScaleForGame),this.m_layer_basic.setPosition(this.m_layer_basic.x,Math.round(Math.abs(e.top))),this.m_layer_preloader22.x=this.screenData.screenMaxWidthForGame/2,this.m_layer_preloader22.y=this.screenData.screenMaxHeightForGame/2}}],[{key:"SetPreloaderOverrides",value:function(e){wm=e.disableFakeMusicPreload,qB=e.showingAds}}]),a}();var Df={pngAssets:{path:"assets/preloader/textures/",assets:{PreloaderLogo:"PreloaderLogo",EmptyPNG:"EmptyPNG"}},bitmapFontAssets:{path:"assets/preloader/fonts/",assets:{preloaderfont:"preloaderfont"}}},sB=function(e){MA(r,Phaser.Scene);var t=OA(r);function r(){return KA(this,r),t.apply(this,arguments)}return LA(r,[{key:"preload",value:function(){this.load.on("progress",this._updatePreload,this),this.load.on("complete",this._completePreload,this),this.load.on("filecomplete",this._onFileComplete,this),this.load.on("loaderror",this._onFileError,this);var e=new qm;e.configure(this),e.startNextSection(Df.pngAssets.path),e.addTextureDict(Df.pngAssets.assets),e.startNextSection(Df.bitmapFontAssets.path),e.addBitmapFontDict(Df.bitmapFontAssets.assets),null!=window.bmOverridesPreloaderAssets&&window.bmOverridesPreloaderAssets.bitmapFontAssets&&(e.startNextSection(window.bmOverridesPreloaderAssets.bitmapFontAssets.path),e.addBitmapFontDict(window.bmOverridesPreloaderAssets.bitmapFontAssets.assets))}},{key:"_updatePreload",value:function(e){}},{key:"_onFileComplete",value:function(e,t){}},{key:"_onFileError",value:function(e){console.log("initialpreloader-> error loading file config: ",e)}},{key:"_completePreload",value:function(){}},{key:"create",value:function(){this.load.removeAllListeners(),this.game.scene.add("MoonPreloader",xm,!0),this.game.scene.stop("MoonInitialPreloader")}},{key:"update",value:function(){}}]),r}();var tB=function(){function e(){hs(this,e)}return is(e,null,[{key:"PreRun",value:function(){}},{key:"Run",value:function(e,a,r){var i;(Vr(),Wr(),a.isKlass&&hb.SetFlowManager(new a.klass),a.isObj&&hb.SetFlowManager(a.obj),e.isKlass)&&(null!=r&&r.overrideToggles&&(i=r.overrideToggles),null==i&&(i={}),pa.SetGameRemix(new e.klass),pa.SetOverrideToggles(i),xm.SetPreloaderOverrides(i));r&&r.templatingOverrides&&pa.GetGameRemix().setTemplatingOverrides(r.templatingOverrides),console.log("Game Title: ",pa.GetGameRemix().getRemixCfg().gameTitle);var $={};sa.iOS&&($={disableWebAudio:!1});var o=Phaser.AUTO;sa.android&&Za.firefox&&(o=Phaser.CANVAS);var m=new Phaser.Game({title:pa.GetGameRemix().getRemixCfg().gameTitle,width:Ca.gameWidth,height:Ca.gameHeight,type:o,backgroundColor:pa.GetGameRemix().getRemixCfg().backgroundColour,parent:"game-container",physics:pa.GetGameRemix().getRemixCfg().physicsCfg,scale:{mode:Ca.phaserMode,autoCenter:Ca.phaserCenterMode},plugins:Wx,audio:$});jb.game=m,db.addAssetModelBundleList(pa.GetGameRemix().getRemixCfg().assetBundlesList),m.scene.add("MoonInitialPreloader",sB,!0)}}]),e}();function uB(e){return(uB="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function vB(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ym(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function wB(e,t,r){return t&&ym(e.prototype,t),r&&ym(e,r),e}function xB(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&yB(e,t)}function yB(e,t){return(yB=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function zB(e){var t=CB();return function(){var r,a=zm(e);if(t){var o=zm(this).constructor;r=Reflect.construct(a,arguments,o)}else r=a.apply(this,arguments);return AB(this,r)}}function AB(e,t){return!t||"object"!==uB(t)&&"function"!=typeof t?BB(e):t}function BB(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function CB(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function zm(e){return(zm=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function DB(e,s){if(!(e instanceof s))throw new TypeError("Cannot call a class as a function")}function Am(e,s){for(var r=0;r<s.length;r++){var n=s[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function EB(e,s,r){return s&&Am(e.prototype,s),r&&Am(e,r),e}function FB(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function Bm(e,r){for(var n=0;n<r.length;n++){var t=r[n];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(e,t.key,t)}}function GB(e,r,n){return r&&Bm(e.prototype,r),n&&Bm(e,n),e}var wb=function(){function e(){FB(this,e)}return GB(e,null,[{key:"ProcessAndGetAssetBundle",value:function(e,r,n){var t={type:e,path:r,assets:[]};for(var a in n)t.assets.push(n[a]);return t}}]),e}();var HB=function(){function e(){DB(this,e)}return EB(e,null,[{key:"GetModuleAssetBundlesData",value:function(e){var s={module:"generic",assetPrefix:"gen"},r=[];return e?(r.push(wb.ProcessAndGetAssetBundle("image","assets/"+e+"/generic/textures/",wa)),r.push(wb.ProcessAndGetAssetBundle("spine","assets/"+e+"/generic/spines/",uf)),r.push(wb.ProcessAndGetAssetBundle("audio","assets/"+e+"/generic/sounds/",ic)),r.push(wb.ProcessAndGetAssetBundle("font","assets/"+e+"/generic/fonts/",sf))):(r.push(wb.ProcessAndGetAssetBundle("image","assets/generic/textures/",wa)),r.push(wb.ProcessAndGetAssetBundle("spine","assets/generic/spines/",uf)),r.push(wb.ProcessAndGetAssetBundle("audio","assets/generic/sounds/",ic)),r.push(wb.ProcessAndGetAssetBundle("font","assets/generic/fonts/",sf)),console.warn("USING FALLBACK GENERIC ASSETS")),console.log(r),s.bundles=r,s}}]),e}();function Ef(){return na.GetState(kc)}var IB=function(){na.GetState(_b).setExitDelayInMS(500),na.GetState($d).setExitDelayInMS(500),na.GetState(kc).setExitDelayInMS(500),na.GetState(Fb).setExitDelayInMS(500),na.GetState(zf).setExitDelayInMS(500),na.GetState(Pc).setExitDelayInMS(0),na.GetState(ud).setExitDelayInMS(0),na.GetState(Fd).setExitDelayInMS(0),na.GetState(_g).setExitDelayInMS(0),na.GetState(yc).setExitDelayInMS(0)};var Cm={};var Dm=function(){Ca.allowOrientationScreen=!0,Ca.gameWidth=640,Ca.gameHeight=1050,Ca.orientationMode=Rd,sa.iOS?(console.log("display mode: iOS"),Ca.enableScale=!0,Ca.enableLayerReposition=!0,Ca.phaserMode=Phaser.Scale.NONE,Ca.phaserCenterMode=Phaser.Scale.NONE):sa.android?(console.log("display mode: Android"),Ca.enableScale=!0,Ca.enableLayerReposition=!0,Ca.phaserMode=Phaser.Scale.NONE,Ca.phaserCenterMode=Phaser.Scale.NONE):(console.log("display mode: Desktop/AllElse"),Ca.enableScale=!0,Ca.enableLayerReposition=!0,Ca.phaserMode=Phaser.Scale.NONE,Ca.phaserCenterMode=Phaser.Scale.NONE,Ca.allowOrientationScreen=!1)}.bind(Cm);Cm.SetStandardPortraitDisplayValuesFunc=Dm;function JB(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Em(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function KB(e,t,n){return t&&Em(e.prototype,t),n&&Em(e,n),e}function LB(e){return(LB="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Fm(e,a){for(var t=0;t<a.length;t++){var r=a[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function MB(e,a,t){return a&&Fm(e.prototype,a),t&&Fm(e,t),e}function Jd(e,a,t){return(Jd="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,a,t){var r=NB(e,a);if(r){var o=Object.getOwnPropertyDescriptor(r,a);return o.get?o.get.call(t):o.value}})(e,a,t||e)}function NB(e,a){for(;!Object.prototype.hasOwnProperty.call(e,a)&&null!==(e=ec(e)););return e}function OB(e,a){if("function"!=typeof a&&null!==a)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(a&&a.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),a&&PB(e,a)}function PB(e,a){return(PB=Object.setPrototypeOf||function(e,a){return e.__proto__=a,e})(e,a)}function QB(e){var a=TB();return function(){var t,r=ec(e);if(a){var o=ec(this).constructor;t=Reflect.construct(r,arguments,o)}else t=r.apply(this,arguments);return RB(this,t)}}function RB(e,a){return!a||"object"!==LB(a)&&"function"!=typeof a?SB(e):a}function SB(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function TB(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function ec(e){return(ec=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Gm(e,a){if(!(e instanceof a))throw new TypeError("Cannot call a class as a function")}function UB(e,a){if(!(e instanceof a))throw new TypeError("Cannot call a class as a function")}function Hm(e,a){for(var r=0;r<a.length;r++){var t=a[r];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(e,t.key,t)}}function VB(e,a,r){return a&&Hm(e.prototype,a),r&&Hm(e,r),e}var WB=function(){function e(){UB(this,e)}return VB(e,[{key:"onEnter",value:function(e,a){}},{key:"onUpdate",value:function(e,a){}},{key:"onExitInstant",value:function(){}},{key:"onExitDelayed",value:function(){}},{key:"onGameplayActualStart",value:function(){pa.GetGameRemix().passEventOnGameplayActualStart()}}]),e}();function XB(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function Im(e,r){for(var o=0;o<r.length;o++){var a=r[o];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function YB(e,r,o){return r&&Im(e.prototype,r),o&&Im(e,o),e}var Ff=function(){function e(){XB(this,e)}return YB(e,null,[{key:"OverlapGroups",value:function(e,r,o,a,n,t){console.assert(a),e.physics.world.overlap(Ud.GetGroup(r),Ud.GetGroup(o),a,n,t)}},{key:"OverlapRectFromPoint",value:function(e,r,o,a,n,t,l){var i=a,$=n,c=r;c+=-i/2,c=ta.GetValueScaledByScreenScale(c);var s=o;return s+=-$/2,s=ta.GetValueScaled_VerticalAxis(s),e.physics.overlapRect(c,s,ta.GetValueScaledByScreenScale(i),ta.GetValueScaledByScreenScale($),t,l)}},{key:"OverlapRectAtDeltaFromEntity",value:function(r,o,a,n,t,l,i,$){var c=fa.GetPosWithParentOffset(o);return e.OverlapRectFromPoint(r,c.x+a,c.y+n,t,l,i,$)}}]),e}();function ZB(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}function Jm(n,t){for(var o=0;o<t.length;o++){var e=t[o];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(n,e.key,e)}}function $B(n,t,o){return t&&Jm(n.prototype,t),o&&Jm(n,o),n}var Km="ACT_DELAY_COMPLETE";function _B(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Lm(e,t){for(var a=0;a<t.length;a++){var o=t[a];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function aC(e,t,a){return t&&Lm(e.prototype,t),a&&Lm(e,a),e}var cd=function(){function e(){_B(this,e)}return aC(e,null,[{key:"InjectIntoActor",value:function(t,a,o){t.vals.actions.triggerOn[a]||(t.vals.actions.triggerOn[a]=[]),t.vals.actions.triggerOn[a].push({name:e.Name,data:o}),t.vals.actions.dict[e.Name]=!0}},{key:"OnAct",value:function(e,t){if(fa.IsActorOnScreen(e)){var a=[],o=e.vals.mm_bulletCount.cur%2,n=e.vals.mm_bulletCount.cur,r=e.displayed.x,l=e.displayed.y,i=e.displayed.angle,s=t.data.offsetX,u=t.data.offsetY,c=t.data.noScaleOffsetX,$=t.data.noScaleOffsetY;null!=c&&null!=$||(c=0,$=0);for(var d=Math.floor(n/2),p=0;p<d;p++){var f={},g=p+1;null!=t.data.reduceIteratorBy&&(g-=t.data.reduceIteratorBy)<0&&(g=0),f.angle=i-g*t.data.angleMultiplier,f.x=r,f.y=l,$b.AddRotatedByAnglePositionsToObject(f,s,-u*(p+1)+u*(1/t.data.offsetSpreadScale)*p,i-p*t.data.angleMultiplier),$b.AddRotatedByAnglePositionsToObject(f,c,$,i);var j={};j.angle=i+g*t.data.angleMultiplier,j.x=r,j.y=l,$b.AddRotatedByAnglePositionsToObject(j,s,u*(p+1)-u*(1/t.data.offsetSpreadScale)*p,i+p*t.data.angleMultiplier),$b.AddRotatedByAnglePositionsToObject(j,c,$,i),a.push(f),a.push(j)}if(1==o){var h={};h.angle=i,h.x=r,h.y=l,$b.AddRotatedByAnglePositionsToObject(h,s,0,h.angle),$b.AddRotatedByAnglePositionsToObject(h,c,$,i),a.push(h)}for(var v=0;v<a.length;v++)va.GenericBullet(t.data.bulletName,a[v].x,a[v].y,a[v].angle)}}},{key:"Name",get:function(){return"WunderplanesShootShotgunBulletsAction"}}]),e}();function bC(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function Mm(e,r){for(var a=0;a<r.length;a++){var t=r[a];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(e,t.key,t)}}function cC(e,r,a){return r&&Mm(e.prototype,r),a&&Mm(e,a),e}var qb=function(){function e(){bC(this,e)}return cC(e,null,[{key:"InjectIntoActor",value:function(r,a,t){Ta.CreateTriggerIfNotExisting(r,a),r.vals.actions.triggerOn[a].push({name:e.Name,data:t}),r.vals.actions.dict[e.Name]=!0}},{key:"OnAct",value:function(e,r){va.SmokeParticle(r.data.offsetX,r.data.offsetY,e.displayed.angle,e.vals.guid,r.data.phaserOverrides)}},{key:"Name",get:function(){return"WunderplanesCreateSmokeTrailsAction"}}]),e}();var bh={Boom:"Boom",Hit:"Hit"};var eb={SHOOT_BULLET:"SHOOT_BULLET",SHOOT_ROCKET:"SHOOT_ROCKET"};var ja={GAMEPLAY:"BAG_ELEMS_GAMEPLAY",SCROLL_0:"SCROLL_0",SCROLL_1_LEFT:"SCROLL_1_LEFT",SCROLL_1_RIGHT:"SCROLL_1_RIGHT",SCROLL_CLOUDS:"SCROLL_CLOUDS",KILL_AFTER_MOVES_INTO_OFFSCREEN:"KILL_AFTER_MOVES_INTO_OFFSCREEN",ENEMY_SHOOT_CAPABLE:"ENEMY_SHOOT_CAPABLE",PARTICLE_SMOKE:"PARTICLE_SMOKE",PLAYER_HIT_SCREEN_EFFECT:"PLAYER_HIT_SCREEN_EFFECT",ENEMY_VIOLET:"ENEMY_VIOLET",LIFETIME:"LIFETIME",SYNCH_WITH_ACTOR:"SYNCH_WITH_ACTOR",ROTATE_TOWARDS_ACTOR:"ROTATE_TOWARDS_ACTOR",BOSS:"BOSS",ENEMY:"ENEMY",ENEMY_PROJECTILE:"ENEMY_PROJECTILE"};var La={PLAYER:"PLAYER",BULLET_PLAYER:"BULLET_PLAYER",BULLET_ENEMY:"BULLET_ENEMY",ENEMY:"ENEMY",UPGRADE:"UPGRADE"};var fb={PLAYER:"PLAYER",BULLET_PLAYER:"BULLET_PLAYER",BULLET_ENEMY:"BULLET_ENEMY",ENEMY:"ENEMY"};var Rb={TICK_AI_RED_ENEMY:"TICK_AI_RED_ENEMY",NONE:"NONE"};var Jb={PLAYER_SHOOT_BULLETS:"PLAYER_SHOOT_BULLETS",PLAYER_SHOOT_ROCKETS:"PLAYER_SHOOT_ROCKETS",ENEMY_SHOOT_BULLETS:"ENEMY_SHOOT_BULLETS",NONE:"NONE"};var Ma={Enemy_Green_speed:200,Enemy_Green_shootingfreq:1700,Enemy_Green_HP:20,Enemy_LightBlue_speed:250,Enemy_LightBlue_HP:10,Enemy_Violet_speed:250,Enemy_Violet_shootingfreq:1500,Enemy_Violet_HP:15,Enemy_Violet_angleturnspeed:35,Enemy_Red_horizontalspeed:125,Enemy_Red_verticalSpeed:50,Enemy_Red_HP:80,Enemy_Red_shootingfreq:[1e3,150,150,150,150],Enemy_Orange_shootingfreq:1250,Enemy_Orange_speed:110,Enemy_Orange_HP:50,DUMMY:"dummyval"};var Ha={BACKGROUND_TILE:0,GAMEPLAY_SCROLL_CLOUDS:1,SMOKE:2,COMMON_ENEMY:4,ENEMY_BOSS:5,PLAYER_BULLET:6,ENEMY_BULLET:7,PLAYER_BONUS:8,PLAYER:9,GAMEPLAY_CLOUDS_SIDES:10,EXPLOSION:11,OVERLAY_HIT:12,NONE:0},va=function(){function n(){ZB(this,n)}return $B(n,null,[{key:"BackgroundTile",value:function(){var n=ra.GetEmptyActor();return oa.InjectIntoActor(n,0,0),Ja.InjectIntoActor(n,la.FarBG_Forest,Ea),fa.SetInLayerDepth(n,Ha.BACKGROUND_TILE),ia.InjectIntoActor(n,[ja.GAMEPLAY,ja.SCROLL_0]),Oc.InjectIntoActor(n,ja.SCROLL_0,{speedY:50,maxY:1700}),rd.InjectIntoActor(n,sd),n.bake(),n}},{key:"CloudRight",value:function(n,t){var o=ra.GetEmptyActor();return oa.InjectIntoActor(o,n,t),Ja.InjectIntoActor(o,la.ChmurkiPoBokach,Ea),fa.SetInLayerDepth(o,Ha.GAMEPLAY_CLOUDS_SIDES),ia.InjectIntoActor(o,[ja.GAMEPLAY,ja.SCROLL_1_RIGHT]),Oc.InjectIntoActor(o,ja.SCROLL_1_RIGHT,{speedY:100,maxY:1700}),rd.InjectIntoActor(o,sd),o.bake(),o}},{key:"CloudLeft",value:function(n,t){var o=ra.GetEmptyActor();return oa.InjectIntoActor(o,n,t),Ja.InjectIntoActor(o,la.ChmurkiPoBokach,Ea),fa.SetInLayerDepth(o,Ha.GAMEPLAY_CLOUDS_SIDES),ia.InjectIntoActor(o,[ja.GAMEPLAY,ja.SCROLL_1_LEFT]),Oc.InjectIntoActor(o,ja.SCROLL_1_LEFT,{speedY:100,maxY:1700}),rd.InjectIntoActor(o,sd),o.bake(),o}},{key:"ElemSide",value:function(n,t){var o=ra.GetEmptyActor();return oa.InjectIntoActor(o,n,t),Ja.InjectIntoActor(o,la.Sides,Ea),fa.SetInLayerDepth(o,Ha.GAMEPLAY_CLOUDS_SIDES),ia.InjectIntoActor(o,[ja.GAMEPLAY]),o.bake(),o}},{key:"ElemCloud",value:function(n,t){var o=ra.GetEmptyActor();return oa.InjectIntoActor(o,n,t),Ja.InjectIntoActor(o,Phaser.Utils.Array.GetRandom([la.Cloud_01,la.Cloud_02,la.Cloud_03,la.Cloud_04,la.Cloud_05]),Ea),fa.SetInLayerDepth(o,Ha.GAMEPLAY_SCROLL_CLOUDS),ia.InjectIntoActor(o,[ja.GAMEPLAY,ja.SCROLL_CLOUDS]),Oc.InjectIntoActor(o,ja.SCROLL_CLOUDS,{speedY:150+Phaser.Math.Between(-25,25),maxY:1e3}),ng.InjectIntoActor(o,sd,0,-3e3),fa.SetScale(o,Phaser.Math.FloatBetween(.4,.8)),fa.SetFlipX(o,Phaser.Utils.Array.GetRandom([!1,!0])),o.bake(),o}},{key:"CreatePlayerHit",value:function(n,t){var o=ra.GetEmptyActor();return oa.InjectIntoActor(o,n,t),Ja.InjectIntoActor(o,Phaser.Utils.Array.GetRandom([la.Hole_01,la.Hole_02,la.Hole_03,la.Hole_04]),Ea),fa.SetInLayerDepth(o,Ha.OVERLAY_HIT),fa.SetAngle(o,Phaser.Math.Between(-180,180)),fa.SetScale(o,Phaser.Math.Between(50,100)/100),ia.InjectIntoActor(o,[ja.GAMEPLAY,ja.PLAYER_HIT_SCREEN_EFFECT]),Nb.InjectIntoActor(o,1e3),Nb.SetAlphaChangePerSecond(o,-1),Nb.SetDelay(o,3e3),o.bake(),o}},{key:"CreateHit",value:function(n,t){var o=ra.GetEmptyActor();oa.InjectIntoActor(o,n,t),Lb.InjectIntoActor(o,bh.Hit,"Hit",!1,Ea),kb.InjectIntoActor(o),kb.EnableListenerCallbacks(o),fa.SetInLayerDepth(o,Ha.OVERLAY_HIT-1),fa.SetScale(o,Phaser.Math.Between(30,70)/100),fa.SetAngle(o,Phaser.Math.Between(0,360)),ia.InjectIntoActor(o,[ja.GAMEPLAY]),kd.InjectIntoActor(o,{Hit:Fc}),o.bake()}},{key:"BonusScore",value:function(n,t){var o=ra.GetEmptyActor();return oa.InjectIntoActor(o,n,t),Ja.InjectIntoActor(o,la.Star,Ea),fa.SetInLayerDepth(o,Ha.PLAYER_BONUS),fa.SetAngle(o,Phaser.Math.Between(-180,180)),ob.InjectIntoActor(o),ia.InjectIntoActor(o,[ja.GAMEPLAY,ja.KILL_AFTER_MOVES_INTO_OFFSCREEN]),bb.InjectIntoActor(o,[La.UPGRADE]),lb.InjectIntoActor(o,{speed:50,rotateToTarget:!1}),Nb.InjectIntoActor(o,1e3),Nb.SetDelay(o,1500),Nb.SetAlphaChangePerSecond(o,-1),Nb.SetScaleChangePerSecond(o,-1),Aa.InjectIntoActor(o,"picked",0),o.bake(),o}},{key:"UpgradeBaloon",value:function(n,t){Phaser.Utils.Array.GetRandom([-1,0]);var o=Phaser.Math.Between(-10,10)+0;n=-380;Phaser.Utils.Array.GetRandom(["shoot_freq_speed","bullet_count"]);var e=la.UpgradeIcon_MoreBullets,$=ra.GetEmptyActor();return oa.InjectIntoActor($,n,t),Ja.InjectIntoActor($,e,Ea),fa.SetInLayerDepth($,Ha.PLAYER_BONUS),fa.SetAngle($,o),ob.InjectIntoActor($),ia.InjectIntoActor($,[ja.GAMEPLAY,ja.KILL_AFTER_MOVES_INTO_OFFSCREEN]),bb.InjectIntoActor($,[La.UPGRADE]),lb.InjectIntoActor($,{speed:50,rotateToTarget:!1}),Aa.InjectIntoActor($,"picked",0),Aa.InjectIntoActor($,"upgrade","bullet_count"),$.bake(),$}},{key:"CreateExplosion",value:function(n,t,o){var e=ra.GetEmptyActor();return oa.InjectIntoActor(e,n,t),Lb.InjectIntoActor(e,bh.Boom,"Empty",!1,Ea),kb.InjectIntoActor(e),kb.EnableListenerCallbacks(e),fa.SetInLayerDepth(e,Ha.EXPLOSION),fa.SetScale(e,Phaser.Math.Between(35,80)/100),fa.SetAngle(e,Phaser.Math.Between(0,360)),ia.InjectIntoActor(e,[ja.GAMEPLAY]),tb.InjectIntoActor(e,"DELAY",0,o,Km),tb.SetRepeatTimes(e,"DELAY",1),Ub.InjectIntoActor(e,Km,"Explosion"),kd.InjectIntoActor(e,{Explosion:Fc}),e.bake(),e}},{key:"PlayerPlane",value:function(n,t){var o=ra.GetEmptyActor();return oa.InjectIntoActor(o,n,t),ab.InjectIntoActor(o,la.PlayerPlane,Ea),fa.SetInLayerDepth(o,Ha.PLAYER),fa.SetAngle(o,-90),Ob.InjectIntoActor(o,{base:{texture:la.PlayerPlane},armor:{texture:la.PlayerPlane_Armored}}),ia.InjectIntoActor(o,[ja.GAMEPLAY]),ib.InjectIntoActor(o,"player"),bb.InjectIntoActor(o,[La.PLAYER]),Ya.InjectIntoActor(o,[fb.PLAYER]),Fa.InjectIntoActor(o),Fa.SetAsCircle(o,35),Fa.SetOffset(o,16,17),_f.InjectIntoActor(o,{speed:1300,rotateToTarget:!1}),tb.InjectIntoActor(o,Jb.PLAYER_SHOOT_BULLETS,0,300,eb.SHOOT_BULLET),tb.InjectIntoActor(o,Jb.PLAYER_SHOOT_ROCKETS,0,1500,eb.SHOOT_ROCKET),cd.InjectIntoActor(o,eb.SHOOT_BULLET,{bulletName:"player_bullet",offsetX:50,offsetY:25,offsetSpreadScale:2,angleMultiplier:2,reduceIteratorBy:1}),za.InjectIntoActor(o,"health",50,0,100),za.InjectIntoActor(o,"bulletCount",2,0,9),qb.InjectIntoActor(o,Ia,{offsetX:-50,offsetY:-25,phaserOverrides:{frequency:20}}),qb.InjectIntoActor(o,Ia,{offsetX:-50,offsetY:25,phaserOverrides:{frequency:20}}),o.bake(),o}},{key:"GenericBullet",value:function(t,o,e,$){"player_bullet"==t&&n.PlayerBullet(o,e,$),"enemy_bullet"==t&&n.CreateBulletEnemy(o,e,$)}},{key:"PlayerBullet",value:function(n,t,o){var e=ra.GetEmptyActor();return oa.InjectIntoActor(e,n,t),Ja.InjectIntoActor(e,la.PlayerBullet,Ea),fa.SetInLayerDepth(e,Ha.PLAYER_BULLET),fa.SetAngle(e,o),ob.InjectIntoActor(e),ia.InjectIntoActor(e,[ja.GAMEPLAY,ja.KILL_AFTER_MOVES_INTO_OFFSCREEN]),bb.InjectIntoActor(e,[La.BULLET_PLAYER]),Ya.InjectIntoActor(e,[fb.BULLET_PLAYER]),Fa.InjectIntoActor(e),lb.InjectIntoActor(e,{speed:1e3,rotateToTarget:!1}),e.bake(),e}},{key:"CreateBulletEnemy",value:function(n,t,o){var e=ra.GetEmptyActor();return oa.InjectIntoActor(e,n,t),Ja.InjectIntoActor(e,la.EnemyBullet,Ea),fa.SetInLayerDepth(e,Ha.ENEMY_BULLET),fa.SetAngle(e,o),ob.InjectIntoActor(e),ia.InjectIntoActor(e,[ja.ENEMY_PROJECTILE,ja.GAMEPLAY,ja.KILL_AFTER_MOVES_INTO_OFFSCREEN]),bb.InjectIntoActor(e,[La.BULLET_ENEMY]),Ya.InjectIntoActor(e,[fb.BULLET_ENEMY]),Fa.InjectIntoActor(e),lb.InjectIntoActor(e,{speed:600,rotateToTarget:!1}),za.InjectIntoActor(e,"bulletDamage",10),e.bake(),e}},{key:"EnemyPlane_1_GREEN",value:function(n,t){var o=ra.GetEmptyActor();return oa.InjectIntoActor(o,n,t),ab.InjectIntoActor(o,la.Enemy_Green,Ea),fa.SetInLayerDepth(o,Ha.COMMON_ENEMY),fa.SetAngle(o,90+Phaser.Math.Between(-1,1)),ob.InjectIntoActor(o),ia.InjectIntoActor(o,[ja.ENEMY,ja.GAMEPLAY,ja.KILL_AFTER_MOVES_INTO_OFFSCREEN]),bb.InjectIntoActor(o,[La.ENEMY]),Ya.InjectIntoActor(o,[fb.ENEMY]),za.InjectIntoActor(o,"health",Ma.Enemy_Green_HP),za.InjectIntoActor(o,"score",5),za.InjectIntoActor(o,"bulletCount",1,0,9),tb.InjectIntoActor(o,Jb.ENEMY_SHOOT_BULLETS,0,Ma.Enemy_Green_shootingfreq,eb.SHOOT_BULLET),ed.InjectIntoActor(o,eb.SHOOT_BULLET,{bulletName:"enemy_bullet",offsetX:50,offsetY:0,offsetSpreadScale:2,angleMultiplier:2}),lb.InjectIntoActor(o,{speed:Ma.Enemy_Green_speed+Phaser.Math.Between(-3,2),rotateToTarget:!1}),qb.InjectIntoActor(o,Ia,{offsetX:-20,offsetY:-35}),qb.InjectIntoActor(o,Ia,{offsetX:-20,offsetY:35}),Aa.InjectIntoActor(o,"collisionDamage",2),o.bake(),o}},{key:"EnemyPlane_2_BLUE",value:function(n,t,o){var e=ra.GetEmptyActor();return oa.InjectIntoActor(e,n,t),ab.InjectIntoActor(e,la.Enemy_LightBlue,Ea),fa.SetInLayerDepth(e,Ha.COMMON_ENEMY),fa.SetAngle(e,o),ob.InjectIntoActor(e),ia.InjectIntoActor(e,[ja.ENEMY,ja.GAMEPLAY,ja.KILL_AFTER_MOVES_INTO_OFFSCREEN]),bb.InjectIntoActor(e,[La.ENEMY]),Ya.InjectIntoActor(e,[fb.ENEMY]),za.InjectIntoActor(e,"health",Ma.Enemy_LightBlue_HP),za.InjectIntoActor(e,"score",20),lb.InjectIntoActor(e,{speed:Ma.Enemy_LightBlue_speed+Phaser.Math.Between(-3,2),rotateToTarget:!1}),Fa.InjectIntoActor(e),Fa.SetAsCircle(e,60),Fa.SetOffset(e,-5,15),qb.InjectIntoActor(e,Ia,{offsetX:-20,offsetY:22,phaserOverrides:{frequency:30}}),qb.InjectIntoActor(e,Ia,{offsetX:-20,offsetY:-22,phaserOverrides:{frequency:30}}),Aa.InjectIntoActor(e,"collisionDamage",2),e.bake(),e}},{key:"EnemyPlane_3_VIOLET",value:function(n,t){var o=ra.GetEmptyActor();return oa.InjectIntoActor(o,n,t),ab.InjectIntoActor(o,la.Enemy_Violet,Ea),fa.SetInLayerDepth(o,Ha.COMMON_ENEMY),fa.SetAngle(o,90+Phaser.Math.Between(-1,1)),ob.InjectIntoActor(o),ia.InjectIntoActor(o,[ja.ENEMY,ja.GAMEPLAY,ja.KILL_AFTER_MOVES_INTO_OFFSCREEN,ja.ENEMY_VIOLET]),bb.InjectIntoActor(o,[La.ENEMY]),Ya.InjectIntoActor(o,[fb.ENEMY]),za.InjectIntoActor(o,"health",Ma.Enemy_Violet_HP),za.InjectIntoActor(o,"score",5),za.InjectIntoActor(o,"bulletCount",1,0,9),tb.InjectIntoActor(o,Jb.ENEMY_SHOOT_BULLETS,Phaser.Utils.Array.GetRandom([500,750,1e3,1250,1500]),Ma.Enemy_Violet_shootingfreq,eb.SHOOT_BULLET),ed.InjectIntoActor(o,eb.SHOOT_BULLET,{bulletName:"enemy_bullet",offsetX:0,offsetY:0,offsetSpreadScale:2,angleMultiplier:2}),lb.InjectIntoActor(o,{speed:Ma.Enemy_Violet_speed+Phaser.Math.Between(-3,2),rotateToTarget:!1}),sb.InjectIntoActor(o,Ma.Enemy_Violet_angleturnspeed,Phaser.Utils.Array.GetRandom([-1,1]),35),Aa.InjectIntoActor(o,"collisionDamage",2),o.bake(),o}},{key:"EnemyPlane_4_RED",value:function(n,t){var o=ra.GetEmptyActor();return oa.InjectIntoActor(o,n,t),ab.InjectIntoActor(o,la.Enemy_Red,Ea),fa.SetInLayerDepth(o,Ha.COMMON_ENEMY),fa.SetAngle(o,90+Phaser.Math.Between(-1,1)),ob.InjectIntoActor(o),ia.InjectIntoActor(o,[ja.ENEMY,ja.GAMEPLAY,ja.KILL_AFTER_MOVES_INTO_OFFSCREEN]),bb.InjectIntoActor(o,[La.ENEMY]),Ya.InjectIntoActor(o,[fb.ENEMY]),za.InjectIntoActor(o,"health",Ma.Enemy_Red_HP),za.InjectIntoActor(o,"score",50),za.InjectIntoActor(o,"bulletCount",1,0,9),Aa.InjectIntoActor(o,"explodeCount",20),Lc.InjectIntoActor(o,Rb.TICK_AI_RED_ENEMY),Bb.InjectIntoActor(o),tb.InjectIntoActor(o,Jb.ENEMY_SHOOT_BULLETS,0,Ma.Enemy_Red_shootingfreq,eb.SHOOT_BULLET),Cc.InjectIntoActor(o,Rb.TICK_AI_RED_ENEMY,[300,200],Ma.Enemy_Red_verticalSpeed,[Phaser.Math.Between(-320,-280),Phaser.Math.Between(280,320)],Ma.Enemy_Red_horizontalspeed,{randomizeIndex_X:!0}),ed.InjectIntoActor(o,eb.SHOOT_BULLET,{bulletName:"enemy_bullet",offsetX:65,offsetY:0,offsetSpreadScale:2,angleMultiplier:2}),qb.InjectIntoActor(o,Ia,{offsetX:-50,offsetY:-35}),qb.InjectIntoActor(o,Ia,{offsetX:-50,offsetY:35}),qb.InjectIntoActor(o,Ia,{offsetX:-50,offsetY:-70}),qb.InjectIntoActor(o,Ia,{offsetX:-50,offsetY:70}),Aa.InjectIntoActor(o,"collisionDamage",3),o.bake(),Fa.InjectIntoActor(o),Fa.SetBodySize(o,fa.GetDisplayWidth(o),fa.GetDisplayHeight(o)-150),Fa.SetOffset(o,0,50),o}},{key:"EnemyPlane_5_Orange",value:function(n,t){var o=ra.GetEmptyActor();return oa.InjectIntoActor(o,n,t),ab.InjectIntoActor(o,la.Enemy_Orange,Ea),fa.SetInLayerDepth(o,Ha.COMMON_ENEMY),fa.SetAngle(o,90),ob.InjectIntoActor(o),ia.InjectIntoActor(o,[ja.ENEMY,ja.GAMEPLAY,ja.KILL_AFTER_MOVES_INTO_OFFSCREEN]),bb.InjectIntoActor(o,[La.ENEMY]),Ya.InjectIntoActor(o,[fb.ENEMY]),za.InjectIntoActor(o,"health",Ma.Enemy_Orange_HP),za.InjectIntoActor(o,"score",30),za.InjectIntoActor(o,"bulletCount",3,0,9),tb.InjectIntoActor(o,Jb.ENEMY_SHOOT_BULLETS,Phaser.Utils.Array.GetRandom([500,750,1e3,1250,1500]),Ma.Enemy_Orange_shootingfreq,eb.SHOOT_BULLET),ed.InjectIntoActor(o,eb.SHOOT_BULLET,{bulletName:"enemy_bullet",offsetX:50,offsetY:10,offsetSpreadScale:1,angleMultiplier:2.5}),lb.InjectIntoActor(o,{speed:Ma.Enemy_Orange_speed+Phaser.Math.Between(-3,2),rotateToTarget:!1}),qb.InjectIntoActor(o,Ia,{offsetX:-25,offsetY:-30}),qb.InjectIntoActor(o,Ia,{offsetX:-25,offsetY:23}),Aa.InjectIntoActor(o,"collisionDamage",3),o.bake(),o}},{key:"SmokeParticle",value:function(n,t,o,e,$){var r={x:0,y:0,speed:{min:100,max:150},gravityX:0,gravityY:0,angle:{min:o-5,max:o+5},scale:{start:.5,end:1.1},maxVelocityX:1e4,maxVelocityY:1e4,lifespan:2e3,frequency:75,alpha:{start:1,end:0},rotate:Phaser.Math.Between(-180,180)};for(var S in $)r[S]=$[S];var p=ra.GetEmptyActor();return ia.InjectIntoActor(p,[ja.GAMEPLAY,ja.PARTICLE_SMOKE]),qg.InjectIntoActor(p,la.ParticleDymuZRury,Ea,r),fa.SetInLayerDepth(p,Ha.SMOKE),jg.InjectIntoActor(p,e,n,t),p.bake(),p}},{key:"EnemyBoss_1_RED",value:function(t,o){var e=ra.GetEmptyActor();return oa.InjectIntoActor(e,t,o),ab.InjectIntoActor(e,la.Boss_Red,Ea),fa.SetInLayerDepth(e,Ha.ENEMY_BOSS),fa.SetAngle(e,90+Phaser.Math.Between(-1,1)),ob.InjectIntoActor(e),ia.InjectIntoActor(e,[ja.GAMEPLAY,ja.KILL_AFTER_MOVES_INTO_OFFSCREEN,ja.BOSS]),bb.InjectIntoActor(e,[La.ENEMY]),Ya.InjectIntoActor(e,[fb.ENEMY]),za.InjectIntoActor(e,"health",300),za.InjectIntoActor(e,"score",500),Lc.InjectIntoActor(e,Rb.TICK_AI_RED_ENEMY),Bb.InjectIntoActor(e),Cc.InjectIntoActor(e,Rb.TICK_AI_RED_ENEMY,[200,150],Ma.Enemy_Red_verticalSpeed,[Phaser.Math.Between(-280,-260),Phaser.Math.Between(260,280)],Ma.Enemy_Red_horizontalspeed,{randomizeIndex_X:!0}),Aa.InjectIntoActor(e,"collisionDamage",3),Aa.InjectIntoActor(e,"isBoss",1),e.bake(),Fa.InjectIntoActor(e),Fa.SetBodySize(e,fa.GetDisplayWidth(e),fa.GetDisplayHeight(e)-150),Fa.SetOffset(e,0,80),n.CreateTurret(0,5,e.vals.guid,1,1,[300,300,300,300,300,1500],1),e}},{key:"EnemyBoss_2_OLIVE",value:function(t,o){var e=ra.GetEmptyActor();return oa.InjectIntoActor(e,t,o),ab.InjectIntoActor(e,la.Boss_Zeppelin,Ea),fa.SetInLayerDepth(e,Ha.ENEMY_BOSS),fa.SetAngle(e,90+Phaser.Math.Between(-1,1)),ob.InjectIntoActor(e),ia.InjectIntoActor(e,[ja.GAMEPLAY,ja.KILL_AFTER_MOVES_INTO_OFFSCREEN,ja.BOSS]),bb.InjectIntoActor(e,[La.ENEMY]),Ya.InjectIntoActor(e,[fb.ENEMY]),za.InjectIntoActor(e,"health",300),za.InjectIntoActor(e,"score",500),Lc.InjectIntoActor(e,Rb.TICK_AI_RED_ENEMY),Bb.InjectIntoActor(e),Cc.InjectIntoActor(e,Rb.TICK_AI_RED_ENEMY,[200,150],Ma.Enemy_Red_verticalSpeed,[Phaser.Math.Between(-280,-260),Phaser.Math.Between(260,280)],Ma.Enemy_Red_horizontalspeed,{randomizeIndex_X:!0}),za.InjectIntoActor(e,"bulletCount",3,0,9),tb.InjectIntoActor(e,Jb.ENEMY_SHOOT_BULLETS,0,[500,1500,2e3,3e3],eb.SHOOT_BULLET),cd.InjectIntoActor(e,eb.SHOOT_BULLET,{bulletName:"enemy_bullet",offsetX:175,offsetY:0,noScaleOffsetX:0,noScaleOffsetY:-5,offsetSpreadScale:1,angleMultiplier:1}),Aa.InjectIntoActor(e,"isBoss",1),Aa.InjectIntoActor(e,"collisionDamage",3),e.bake(),Fa.InjectIntoActor(e),Fa.SetBodySize(e,fa.GetDisplayWidth(e),fa.GetDisplayHeight(e)-150),Fa.SetOffset(e,0,80),n.CreateTurret(145,0,e.vals.guid,1,1,[300,300,300,300,1500],-1),n.CreateTurret(-145,0,e.vals.guid,1,1,[300,300,300,300,1500],-1),e}},{key:"EnemyBoss_3_GREEN",value:function(t,o){var e=ra.GetEmptyActor();oa.InjectIntoActor(e,t,o),ab.InjectIntoActor(e,la.Boss_Green,Ea),fa.SetInLayerDepth(e,Ha.ENEMY_BOSS),fa.SetAngle(e,90+Phaser.Math.Between(-1,1)),ob.InjectIntoActor(e),ia.InjectIntoActor(e,[ja.GAMEPLAY,ja.KILL_AFTER_MOVES_INTO_OFFSCREEN,ja.BOSS]),bb.InjectIntoActor(e,[La.ENEMY]),Ya.InjectIntoActor(e,[fb.ENEMY]),za.InjectIntoActor(e,"health",300),za.InjectIntoActor(e,"score",500),Lc.InjectIntoActor(e,Rb.TICK_AI_RED_ENEMY),Bb.InjectIntoActor(e),Cc.InjectIntoActor(e,Rb.TICK_AI_RED_ENEMY,[200,150],Ma.Enemy_Red_verticalSpeed,[Phaser.Math.Between(-280,-260),Phaser.Math.Between(260,280)],Ma.Enemy_Red_horizontalspeed,{randomizeIndex_X:!0}),Aa.InjectIntoActor(e,"isBoss",1),Aa.InjectIntoActor(e,"collisionDamage",3),e.bake(),Fa.InjectIntoActor(e),Fa.SetBodySize(e,fa.GetDisplayHeight(e),fa.GetDisplayWidth(e)-140),Fa.SetOffset(e,-120,150),n.CreateTurret(145,40,e.vals.guid,1,2,[300,350,700,1e3,1200,1500,200],-1),n.CreateTurret(-145,40,e.vals.guid,1,2,[200,400,500,600,1e3,1300,2e3],-1)}},{key:"CreateTurret",value:function(n,t,o,e,$,r,S){var p=ra.GetEmptyActor();return oa.InjectIntoActor(p,0,0),ab.InjectIntoActor(p,la.Boss_Red_Turret,Ea),fa.SetInLayerDepth(p,Ha.ENEMY_BOSS+S),fa.SetAngle(p,90+Phaser.Math.Between(-1,1)),ia.InjectIntoActor(p,[ja.GAMEPLAY]),za.InjectIntoActor(p,"bulletCount",$,0,9),tb.InjectIntoActor(p,Jb.ENEMY_SHOOT_BULLETS,0,r,eb.SHOOT_BULLET),cd.InjectIntoActor(p,eb.SHOOT_BULLET,{bulletName:"enemy_bullet",offsetX:45,offsetY:0,offsetSpreadScale:2,angleMultiplier:5}),pg.InjectIntoActor(p,o,n,t),kg.InjectIntoActor(p,ha.GetActorByAlias("player").vals.guid),hg.InjectIntoActor(p,{speed:300}),p.bake(),p}}]),n}();function dC(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}function Nm(r,e){for(var o=0;o<e.length;o++){var t=e[o];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(r,t.key,t)}}function eC(r,e,o){return e&&Nm(r.prototype,e),o&&Nm(r,o),r}var fC=function(){function r(){dC(this,r)}return eC(r,null,[{key:"BossLabel",value:function(){if(!ha.IsActorByAliasExisting("bossLabel")){var r=ra.GetEmptyActor();oa.InjectIntoActor(r,0,140),Ja.InjectIntoActor(r,la.Bossfight,yh),ia.InjectIntoActor(r,[ka.GAMEPLAY]),ib.InjectIntoActor(r,"bossLabel"),r.bake(),Ic.InjectIntoActor(r,"ACT_TWEEN_IN",{_x:0,_y:-300,_d:700,delay:0,_onComplete:[{type:"trigger",trigger:"ACT_TWEEN_OUT"}]}),Jc.InjectIntoActor(r,"ACT_TWEEN_OUT",{_x:0,_y:-600,_d:2400,delay:700,_onComplete:[{type:"trigger",trigger:Fc}]}),r.triggerActions("ACT_TWEEN_IN")}}}]),r}();var Ra={music:"music",upgrade:"upgrade",boom_1:"boom_1",boom_2:"boom_2",boom_3:"boom_3",metal_hit_1:"metal_hit_1",metal_hit_2:"metal_hit_2",metal_hit_3:"metal_hit_3",metal_hit_4:"metal_hit_4",industrial_tap:"industrial_tap",star:"star"};function Om($,O){if(!($ instanceof O))throw new TypeError("Cannot call a class as a function")}function Pm($,O){for(var E=0;E<O.length;E++){var a=O[E];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty($,a.key,a)}}function Qm($,O,E){return O&&Pm($.prototype,O),E&&Pm($,E),$}var gC=["easy_5","hard_10","hard_11","boss_3"];var Gf="=",Rm=function(){function $(){Om(this,$),this.curIncrementalID=0,this.curObj=null,this.curID=null,this.sequences={}}return Qm($,[{key:"reset",value:function(){this.curIncrementalID=0,this.curObj=null,this.curID=null,this.sequences={}}},{key:"finish",value:function(){this.tryPushCurObjIntoSequence()}},{key:"new",value:function($){this.tryPushCurObjIntoSequence(),null!=$&&null!=$||($=this.getNextID()),this.curObj="",this.curID=$}},{key:"tryPushCurObjIntoSequence",value:function(){this.curObj&&(this.sequences[this.curID]=this.curObj)}},{key:"addEmptyWait",value:function($){""!=this.curObj&&(this.curObj+="\n"),this.curObj+="#WAIT,"+$}},{key:"add",value:function($,O,E,a){if(""!=this.curObj&&(this.curObj+="\n"),this.curObj+=$*ch.curMultiplier+Gf+O+Gf+E,a)if(Array.isArray(a))for(var F=0;F<a.length;F++)this.curObj+=Gf+a[F];else this.curObj+=Gf+a}},{key:"get",value:function($){return this.tryPushCurObjIntoSequence(),this.sequences[$]}},{key:"getNextID",value:function(){var $=""+this.curIncrementalID;return this.curIncrementalID+=1,$}}]),$}(),ca={SINGLE:"single",LINE_HORIZONTAL:"line_horizontal",LINE_VERTICAL:"line_vertical",V_HORIZONTAL:"v_horizontal",V_HORIZONTAL_REVERSE:"v_horizontal_reverse"},da={GREEN:"green",BLUE:"blue",VIOLET:"violet",RED:"red",ORANGE:"orange",BOSS_RED:"boss_red",BOSS_OLIVE:"boss_olive",BOSS_GREEN:"boss_green"},ea={LEFT:"left",CENTER:"center",RIGHT:"right",EDGE_ANY:"edge_any",EDGE_LEFT:"edge_left",EDGE_RIGHT:"edge_right"},aa={LOW:125,MEDIUM:150,HIGH:175},ch={curMultiplier:1};var ba=new Rm,dh=function(){function $(){Om(this,$)}return Qm($,null,[{key:"SetMultiplier",value:function(O){ch.curMultiplier!=O&&(ch.curMultiplier=O,$.Rebuild())}},{key:"Get",value:function($){return ba.get($)}},{key:"Rebuild",value:function(){(ba=new Rm).new(),ba.add(0,ca.SINGLE,da.GREEN,ea.EDGE),ba.add(0,ca.SINGLE,da.GREEN,ea.EDGE),ba.add(750,ca.SINGLE,da.RED,ea.RIGHT),ba.add(1200,ca.SINGLE,da.BLUE),ba.add(400,ca.SINGLE,da.VIOLET,ea.RIGHT),ba.add(700,ca.SINGLE,da.ORANGE,ea.CENTER),ba.add(250,ca.LINE_HORIZONTAL,da.GREEN,[ea.CENTER,2,aa.LOW]),ba.add(1250,ca.LINE_HORIZONTAL,da.GREEN,[ea.CENTER,4,aa.LOW]),ba.add(1e3,ca.LINE_VERTICAL,da.GREEN,[ea.CENTER,2,aa.LOW]),ba.add(1250,ca.LINE_VERTICAL,da.GREEN,[ea.CENTER,4,aa.LOW]),ba.add(2e3,ca.V_HORIZONTAL_REVERSE,da.GREEN,[ea.CENTER,3,aa.LOW,aa.LOW]),ba.add(2e3,ca.V_HORIZONTAL,da.GREEN,[ea.CENTER,3,aa.LOW,aa.LOW]),ba.new("boss_0"),ba.add(0,ca.SINGLE,da.GREEN,ea.RIGHT),ba.addEmptyWait("proceed"),ba.new("boss_1"),ba.add(100,ca.SINGLE,da.BOSS_RED,ea.EDGE),ba.addEmptyWait("proceed"),ba.new("boss_2"),ba.add(100,ca.SINGLE,da.BOSS_OLIVE,ea.EDGE),ba.addEmptyWait("proceed"),ba.new("boss_3"),ba.add(100,ca.SINGLE,da.BOSS_GREEN,ea.EDGE),ba.addEmptyWait("proceed"),ba.new("support_0"),ba.add(300,ca.SINGLE,da.GREEN,ea.EDGE),ba.add(1100,ca.SINGLE,da.GREEN,ea.EDGE),ba.add(1500,ca.SINGLE,da.VIOLET,ea.RIGHT),ba.add(2100,ca.SINGLE,da.ORANGE,ea.CENTER),ba.new("hard_1"),ba.add(100,ca.LINE_VERTICAL,da.ORANGE,[ea.EDGE_LEFT,3,aa.HIGH]),ba.add(1393,ca.SINGLE,da.BLUE,ea.RIGHT),ba.add(2534,ca.SINGLE,da.ORANGE,ea.EDGE_ANY),ba.add(1167,ca.SINGLE,da.ORANGE,ea.EDGE_ANY),ba.add(2554,ca.LINE_HORIZONTAL,da.ORANGE,[ea.EDGE_ANY,3,aa.HIGH]),ba.add(2071,ca.LINE_VERTICAL,da.VIOLET,[ea.CENTER,3,aa.LOW]),ba.add(632,ca.SINGLE,da.ORANGE,ea.EDGE_ANY),ba.add(3172,ca.SINGLE,da.GREEN,ea.CENTER),ba.add(1612,ca.SINGLE,da.BLUE,ea.EDGE_RIGHT),ba.add(1939,ca.SINGLE,da.BLUE,ea.LEFT),ba.add(1852,ca.SINGLE,da.GREEN,ea.LEFT),ba.add(3302,ca.V_HORIZONTAL_REVERSE,da.BLUE,[ea.EDGE_RIGHT,3,aa.MEDIUM,aa.LOW]),ba.add(1832,ca.V_HORIZONTAL_REVERSE,da.BLUE,[ea.EDGE_ANY,3,aa.LOW,aa.LOW]),ba.add(1691,ca.V_HORIZONTAL_REVERSE,da.GREEN,[ea.RIGHT,3,aa.HIGH,aa.LOW]),ba.add(824,ca.LINE_VERTICAL,da.BLUE,[ea.CENTER,3,aa.LOW]),ba.add(3498,ca.V_HORIZONTAL,da.VIOLET,[ea.LEFT,3,aa.MEDIUM,aa.LOW]),ba.add(2508,ca.SINGLE,da.GREEN,ea.EDGE_RIGHT),ba.add(1599,ca.V_HORIZONTAL,da.VIOLET,[ea.EDGE_ANY,3,aa.HIGH,aa.LOW]),ba.add(1909,ca.V_HORIZONTAL,da.BLUE,[ea.RIGHT,3,aa.MEDIUM,aa.LOW]),ba.add(1115,ca.LINE_HORIZONTAL,da.VIOLET,[ea.EDGE_RIGHT,3,aa.LOW]),ba.add(2477,ca.SINGLE,da.RED,ea.CENTER),ba.add(1997,ca.V_HORIZONTAL,da.ORANGE,[ea.RIGHT,3,aa.HIGH,aa.LOW]),ba.add(2926,ca.SINGLE,da.RED,ea.LEFT),ba.add(350,ca.SINGLE,da.RED,ea.CENTER),ba.add(1200,ca.V_HORIZONTAL_REVERSE,da.RED,[ea.EDGE_RIGHT,3,aa.HIGH,aa.LOW]),ba.new("hard_2"),ba.add(100,ca.V_HORIZONTAL_REVERSE,da.GREEN,[ea.EDGE_ANY,3,aa.LOW,aa.LOW]),ba.add(510,ca.LINE_VERTICAL,da.BLUE,[ea.EDGE_ANY,3,aa.LOW]),ba.add(1871,ca.V_HORIZONTAL_REVERSE,da.RED,[ea.EDGE_RIGHT,3,aa.HIGH,aa.LOW]),ba.add(2845,ca.V_HORIZONTAL,da.VIOLET,[ea.EDGE_LEFT,3,aa.LOW,aa.LOW]),ba.add(2636,ca.SINGLE,da.GREEN,ea.EDGE_RIGHT),ba.add(2176,ca.LINE_HORIZONTAL,da.BLUE,[ea.EDGE_RIGHT,3,aa.HIGH]),ba.add(3016,ca.LINE_VERTICAL,da.BLUE,[ea.EDGE_ANY,3,aa.HIGH]),ba.add(3120,ca.SINGLE,da.ORANGE,ea.EDGE_LEFT),ba.add(3354,ca.V_HORIZONTAL_REVERSE,da.BLUE,[ea.CENTER,3,aa.HIGH,aa.LOW]),ba.add(2326,ca.SINGLE,da.BLUE,ea.CENTER),ba.add(814,ca.SINGLE,da.VIOLET,ea.EDGE_ANY),ba.add(3021,ca.LINE_HORIZONTAL,da.VIOLET,[ea.EDGE_ANY,3,aa.MEDIUM]),ba.add(587,ca.LINE_VERTICAL,da.VIOLET,[ea.EDGE_LEFT,3,aa.HIGH]),ba.add(2070,ca.V_HORIZONTAL,da.GREEN,[ea.RIGHT,3,aa.LOW,aa.LOW]),ba.add(2866,ca.SINGLE,da.GREEN,ea.CENTER),ba.add(771,ca.V_HORIZONTAL,da.RED,[ea.EDGE_ANY,3,aa.LOW,aa.LOW]),ba.add(823,ca.V_HORIZONTAL,da.RED,[ea.CENTER,3,aa.LOW,aa.LOW]),ba.add(801,ca.LINE_VERTICAL,da.VIOLET,[ea.LEFT,3,aa.LOW]),ba.add(2485,ca.V_HORIZONTAL_REVERSE,da.GREEN,[ea.EDGE_RIGHT,3,aa.LOW,aa.LOW]),ba.add(930,ca.V_HORIZONTAL_REVERSE,da.BLUE,[ea.EDGE_RIGHT,3,aa.LOW,aa.LOW]),ba.add(3316,ca.SINGLE,da.BLUE,ea.CENTER),ba.add(838,ca.V_HORIZONTAL,da.ORANGE,[ea.EDGE_ANY,3,aa.HIGH,aa.LOW]),ba.add(3107,ca.SINGLE,da.ORANGE,ea.EDGE_ANY),ba.add(3112,ca.V_HORIZONTAL,da.BLUE,[ea.EDGE_LEFT,3,aa.LOW,aa.LOW]),ba.add(2811,ca.LINE_HORIZONTAL,da.ORANGE,[ea.EDGE_RIGHT,3,aa.MEDIUM]),ba.add(1934,ca.LINE_VERTICAL,da.RED,[ea.EDGE_RIGHT,3,aa.LOW]),ba.add(2584,ca.V_HORIZONTAL_REVERSE,da.ORANGE,[ea.RIGHT,3,aa.LOW,aa.LOW]),ba.add(2820,ca.LINE_VERTICAL,da.BLUE,[ea.LEFT,3,aa.LOW]),ba.new("hard_3"),ba.add(100,ca.LINE_VERTICAL,da.GREEN,[ea.CENTER,3,aa.LOW]),ba.add(1930,ca.V_HORIZONTAL_REVERSE,da.BLUE,[ea.EDGE_RIGHT,3,aa.MEDIUM,aa.LOW]),ba.add(914,ca.LINE_VERTICAL,da.VIOLET,[ea.EDGE_ANY,3,aa.LOW]),ba.add(1329,ca.V_HORIZONTAL,da.BLUE,[ea.EDGE_LEFT,3,aa.HIGH,aa.MEDIUM]),ba.add(780,ca.SINGLE,da.ORANGE,ea.LEFT),ba.add(1878,ca.LINE_VERTICAL,da.VIOLET,[ea.RIGHT,3,aa.MEDIUM]),ba.add(2356,ca.LINE_VERTICAL,da.BLUE,[ea.CENTER,3,aa.HIGH]),ba.add(2629,ca.LINE_HORIZONTAL,da.BLUE,[ea.EDGE_LEFT,3,aa.LOW]),ba.add(1082,ca.V_HORIZONTAL_REVERSE,da.BLUE,[ea.LEFT,3,aa.HIGH,aa.HIGH]),ba.add(1524,ca.LINE_HORIZONTAL,da.GREEN,[ea.RIGHT,3,aa.HIGH]),ba.add(1408,ca.V_HORIZONTAL,da.BLUE,[ea.CENTER,3,aa.HIGH,aa.HIGH]),ba.add(2175,ca.SINGLE,da.GREEN,ea.LEFT),ba.add(684,ca.LINE_VERTICAL,da.ORANGE,[ea.EDGE_RIGHT,3,aa.LOW]),ba.add(1562,ca.LINE_HORIZONTAL,da.ORANGE,[ea.EDGE_ANY,3,aa.MEDIUM]),ba.add(1592,ca.V_HORIZONTAL_REVERSE,da.ORANGE,[ea.CENTER,3,aa.MEDIUM,aa.MEDIUM]),ba.add(2879,ca.LINE_HORIZONTAL,da.ORANGE,[ea.EDGE_LEFT,3,aa.LOW]),ba.add(2903,ca.LINE_HORIZONTAL,da.GREEN,[ea.RIGHT,3,aa.HIGH]),ba.add(2437,ca.V_HORIZONTAL_REVERSE,da.ORANGE,[ea.EDGE_ANY,3,aa.LOW,aa.LOW]),ba.add(2635,ca.V_HORIZONTAL,da.GREEN,[ea.EDGE_ANY,3,aa.HIGH,aa.HIGH]),ba.add(3143,ca.SINGLE,da.ORANGE,ea.RIGHT),ba.add(2506,ca.V_HORIZONTAL,da.VIOLET,[ea.RIGHT,3,aa.MEDIUM,aa.MEDIUM]),ba.add(3114,ca.LINE_VERTICAL,da.BLUE,[ea.EDGE_ANY,3,aa.HIGH]),ba.add(1634,ca.SINGLE,da.ORANGE,ea.RIGHT),ba.add(2151,ca.SINGLE,da.RED,ea.EDGE_ANY),ba.add(1226,ca.LINE_HORIZONTAL,da.VIOLET,[ea.RIGHT,3,aa.LOW]),ba.add(3396,ca.V_HORIZONTAL,da.RED,[ea.EDGE_LEFT,3,aa.MEDIUM,aa.MEDIUM]),ba.add(1565,ca.LINE_HORIZONTAL,da.BLUE,[ea.LEFT,3,aa.LOW]),ba.new("hard_4"),ba.add(100,ca.V_HORIZONTAL_REVERSE,da.ORANGE,[ea.EDGE_ANY,3,aa.MEDIUM,aa.MEDIUM]),ba.add(1469,ca.LINE_HORIZONTAL,da.BLUE,[ea.CENTER,3,aa.MEDIUM]),ba.add(3316,ca.V_HORIZONTAL_REVERSE,da.ORANGE,[ea.EDGE_RIGHT,3,aa.LOW,aa.HIGH]),ba.add(2086,ca.V_HORIZONTAL,da.BLUE,[ea.CENTER,3,aa.MEDIUM,aa.HIGH]),ba.add(2943,ca.LINE_HORIZONTAL,da.ORANGE,[ea.EDGE_LEFT,3,aa.MEDIUM]),ba.add(2846,ca.LINE_HORIZONTAL,da.BLUE,[ea.EDGE_RIGHT,3,aa.HIGH]),ba.add(3105,ca.V_HORIZONTAL,da.VIOLET,[ea.EDGE_ANY,3,aa.HIGH,aa.HIGH]),ba.add(2643,ca.LINE_HORIZONTAL,da.GREEN,[ea.EDGE_RIGHT,3,aa.HIGH]),ba.add(2436,ca.SINGLE,da.RED,ea.LEFT),ba.add(2775,ca.SINGLE,da.RED,ea.CENTER),ba.add(3433,ca.SINGLE,da.RED,ea.LEFT),ba.add(1991,ca.SINGLE,da.GREEN,ea.RIGHT),ba.add(1062,ca.V_HORIZONTAL_REVERSE,da.VIOLET,[ea.CENTER,3,aa.HIGH,aa.LOW]),ba.add(648,ca.SINGLE,da.GREEN,ea.RIGHT),ba.add(3180,ca.LINE_VERTICAL,da.VIOLET,[ea.CENTER,3,aa.MEDIUM]),ba.add(2740,ca.LINE_VERTICAL,da.GREEN,[ea.EDGE_RIGHT,3,aa.LOW]),ba.add(525,ca.V_HORIZONTAL_REVERSE,da.BLUE,[ea.EDGE_ANY,3,aa.LOW,aa.LOW]),ba.add(2687,ca.LINE_HORIZONTAL,da.BLUE,[ea.EDGE_RIGHT,3,aa.HIGH]),ba.add(3014,ca.LINE_HORIZONTAL,da.VIOLET,[ea.LEFT,3,aa.HIGH]),ba.add(849,ca.V_HORIZONTAL,da.VIOLET,[ea.LEFT,3,aa.HIGH,aa.HIGH]),ba.add(2360,ca.V_HORIZONTAL_REVERSE,da.VIOLET,[ea.LEFT,3,aa.LOW,aa.MEDIUM]),ba.add(712,ca.LINE_HORIZONTAL,da.ORANGE,[ea.EDGE_ANY,3,aa.HIGH]),ba.add(1515,ca.SINGLE,da.GREEN,ea.CENTER),ba.add(3115,ca.SINGLE,da.BLUE,ea.LEFT),ba.add(3442,ca.LINE_VERTICAL,da.RED,[ea.EDGE_LEFT,3,aa.HIGH]),ba.add(1780,ca.LINE_VERTICAL,da.BLUE,[ea.EDGE_RIGHT,3,aa.HIGH]),ba.add(2084,ca.LINE_VERTICAL,da.RED,[ea.CENTER,3,aa.LOW]),ba.new("hard_5"),ba.add(100,ca.V_HORIZONTAL,da.VIOLET,[ea.CENTER,3,aa.LOW,aa.MEDIUM]),ba.add(1569,ca.V_HORIZONTAL,da.VIOLET,[ea.EDGE_RIGHT,3,aa.LOW,aa.HIGH]),ba.add(1673,ca.V_HORIZONTAL_REVERSE,da.ORANGE,[ea.RIGHT,3,aa.LOW,aa.LOW]),ba.add(3012,ca.V_HORIZONTAL_REVERSE,da.BLUE,[ea.EDGE_LEFT,3,aa.MEDIUM,aa.LOW]),ba.add(2e3,ca.LINE_VERTICAL,da.VIOLET,[ea.LEFT,3,aa.LOW,aa.MEDIUM]),ba.add(10,ca.LINE_VERTICAL,da.VIOLET,[ea.CENTER,3,aa.LOW,aa.MEDIUM]),ba.add(20,ca.LINE_VERTICAL,da.VIOLET,[ea.RIGHT,3,aa.LOW,aa.MEDIUM]),ba.add(1500,ca.LINE_VERTICAL,da.VIOLET,[ea.LEFT,3,aa.LOW,aa.MEDIUM]),ba.add(10,ca.LINE_VERTICAL,da.VIOLET,[ea.CENTER,3,aa.LOW,aa.MEDIUM]),ba.add(20,ca.LINE_VERTICAL,da.VIOLET,[ea.RIGHT,3,aa.LOW,aa.MEDIUM]),ba.add(1500,ca.LINE_VERTICAL,da.VIOLET,[ea.LEFT,3,aa.LOW,aa.MEDIUM]),ba.add(10,ca.LINE_VERTICAL,da.VIOLET,[ea.CENTER,3,aa.LOW,aa.MEDIUM]),ba.add(20,ca.LINE_VERTICAL,da.VIOLET,[ea.RIGHT,3,aa.LOW,aa.MEDIUM]),ba.add(3245,ca.V_HORIZONTAL_REVERSE,da.ORANGE,[ea.EDGE_ANY,3,aa.MEDIUM,aa.LOW]),ba.add(2572,ca.LINE_HORIZONTAL,da.GREEN,[ea.EDGE_LEFT,3,aa.LOW]),ba.add(1394,ca.V_HORIZONTAL_REVERSE,da.GREEN,[ea.EDGE_RIGHT,3,aa.HIGH,aa.LOW]),ba.add(3408,ca.V_HORIZONTAL_REVERSE,da.GREEN,[ea.EDGE_RIGHT,3,aa.LOW,aa.MEDIUM]),ba.add(1258,ca.LINE_HORIZONTAL,da.ORANGE,[ea.EDGE_ANY,3,aa.MEDIUM]),ba.add(3419,ca.LINE_VERTICAL,da.BLUE,[ea.EDGE_RIGHT,3,aa.MEDIUM]),ba.add(733,ca.SINGLE,da.ORANGE,ea.CENTER),ba.add(2286,ca.V_HORIZONTAL,da.ORANGE,[ea.LEFT,3,aa.HIGH,aa.LOW]),ba.add(1063,ca.LINE_VERTICAL,da.VIOLET,[ea.EDGE_LEFT,3,aa.MEDIUM]),ba.add(940,ca.V_HORIZONTAL,da.ORANGE,[ea.EDGE_ANY,3,aa.HIGH,aa.HIGH]),ba.add(2305,ca.LINE_VERTICAL,da.GREEN,[ea.EDGE_RIGHT,3,aa.LOW]),ba.add(583,ca.V_HORIZONTAL,da.ORANGE,[ea.LEFT,3,aa.HIGH,aa.HIGH]),ba.add(2240,ca.V_HORIZONTAL,da.BLUE,[ea.EDGE_RIGHT,3,aa.HIGH,aa.MEDIUM]),ba.add(1093,ca.V_HORIZONTAL,da.BLUE,[ea.LEFT,3,aa.HIGH,aa.HIGH]),ba.add(3107,ca.V_HORIZONTAL_REVERSE,da.GREEN,[ea.LEFT,3,aa.HIGH,aa.LOW]),ba.add(1675,ca.LINE_HORIZONTAL,da.BLUE,[ea.EDGE_RIGHT,3,aa.LOW]),ba.add(1805,ca.LINE_HORIZONTAL,da.GREEN,[ea.EDGE_ANY,3,aa.LOW]),ba.add(1553,ca.LINE_HORIZONTAL,da.VIOLET,[ea.EDGE_LEFT,3,aa.MEDIUM]),ba.add(3451,ca.V_HORIZONTAL,da.BLUE,[ea.RIGHT,3,aa.MEDIUM,aa.MEDIUM]),ba.new("hard_6"),ba.add(100,ca.SINGLE,da.VIOLET,ea.CENTER),ba.add(3e3,ca.V_HORIZONTAL_REVERSE,da.BLUE,[ea.EDGE_ANY,3,aa.HIGH,aa.MEDIUM]),ba.add(1651,ca.V_HORIZONTAL,da.GREEN,[ea.EDGE_RIGHT,3,aa.HIGH,aa.MEDIUM]),ba.add(3083,ca.LINE_HORIZONTAL,da.ORANGE,[ea.EDGE_LEFT,3,aa.MEDIUM]),ba.add(3384,ca.V_HORIZONTAL_REVERSE,da.VIOLET,[ea.RIGHT,3,aa.MEDIUM,aa.MEDIUM]),ba.add(2929,ca.LINE_HORIZONTAL,da.VIOLET,[ea.LEFT,3,aa.HIGH]),ba.add(799,ca.V_HORIZONTAL_REVERSE,da.VIOLET,[ea.RIGHT,3,aa.HIGH,aa.LOW]),ba.add(1021,ca.LINE_VERTICAL,da.VIOLET,[ea.EDGE_LEFT,3,aa.LOW]),ba.add(3e3,ca.LINE_HORIZONTAL,da.ORANGE,[ea.LEFT,3,aa.MEDIUM]),ba.add(2e3,ca.LINE_HORIZONTAL,da.ORANGE,[ea.RIGHT,3,aa.MEDIUM]),ba.add(2e3,ca.LINE_HORIZONTAL,da.ORANGE,[ea.CENTER,3,aa.MEDIUM]),ba.add(1572,ca.V_HORIZONTAL_REVERSE,da.BLUE,[ea.RIGHT,3,aa.LOW,aa.MEDIUM]),ba.add(768,ca.V_HORIZONTAL,da.VIOLET,[ea.EDGE_ANY,3,aa.LOW,aa.MEDIUM]),ba.add(2162,ca.SINGLE,da.ORANGE,ea.EDGE_LEFT),ba.add(2771,ca.LINE_VERTICAL,da.VIOLET,[ea.EDGE_RIGHT,3,aa.HIGH]),ba.add(3428,ca.V_HORIZONTAL_REVERSE,da.VIOLET,[ea.LEFT,3,aa.HIGH,aa.MEDIUM]),ba.add(2823,ca.LINE_HORIZONTAL,da.BLUE,[ea.EDGE_ANY,3,aa.LOW]),ba.add(2376,ca.SINGLE,da.GREEN,ea.EDGE_RIGHT),ba.add(1618,ca.SINGLE,da.VIOLET,ea.EDGE_LEFT),ba.add(3419,ca.LINE_VERTICAL,da.GREEN,[ea.CENTER,3,aa.LOW]),ba.add(2524,ca.V_HORIZONTAL,da.VIOLET,[ea.EDGE_RIGHT,3,aa.MEDIUM,aa.HIGH]),ba.add(1856,ca.LINE_VERTICAL,da.BLUE,[ea.EDGE_ANY,3,aa.HIGH]),ba.add(2045,ca.LINE_HORIZONTAL,da.BLUE,[ea.LEFT,3,aa.HIGH]),ba.new("hard_7"),ba.add(100,ca.V_HORIZONTAL_REVERSE,da.BLUE,[ea.RIGHT,3,aa.HIGH,aa.LOW]),ba.add(2168,ca.V_HORIZONTAL_REVERSE,da.BLUE,[ea.LEFT,3,aa.MEDIUM,aa.MEDIUM]),ba.add(3358,ca.V_HORIZONTAL,da.VIOLET,[ea.CENTER,3,aa.MEDIUM,aa.HIGH]),ba.add(2709,ca.SINGLE,da.RED,ea.EDGE_ANY),ba.add(2709,ca.SINGLE,da.RED,ea.EDGE_ANY),ba.add(1648,ca.SINGLE,da.ORANGE,ea.RIGHT),ba.add(2816,ca.LINE_VERTICAL,da.ORANGE,[ea.RIGHT,3,aa.MEDIUM]),ba.add(2673,ca.LINE_HORIZONTAL,da.BLUE,[ea.CENTER,3,aa.MEDIUM]),ba.add(2004,ca.LINE_VERTICAL,da.GREEN,[ea.EDGE_LEFT,3,aa.LOW]),ba.add(2709,ca.SINGLE,da.RED,ea.EDGE_ANY),ba.add(2791,ca.SINGLE,da.GREEN,ea.EDGE_LEFT),ba.add(2712,ca.LINE_VERTICAL,da.GREEN,[ea.LEFT,3,aa.MEDIUM]),ba.add(2828,ca.LINE_HORIZONTAL,da.BLUE,[ea.LEFT,3,aa.MEDIUM]),ba.add(3467,ca.V_HORIZONTAL,da.GREEN,[ea.EDGE_ANY,3,aa.MEDIUM,aa.LOW]),ba.add(2709,ca.SINGLE,da.RED,ea.EDGE_ANY),ba.add(2643,ca.LINE_VERTICAL,da.VIOLET,[ea.EDGE_ANY,3,aa.HIGH]),ba.add(2180,ca.V_HORIZONTAL_REVERSE,da.BLUE,[ea.LEFT,3,aa.HIGH,aa.LOW]),ba.add(2810,ca.LINE_HORIZONTAL,da.GREEN,[ea.EDGE_ANY,3,aa.HIGH]),ba.add(2824,ca.V_HORIZONTAL_REVERSE,da.BLUE,[ea.CENTER,3,aa.LOW,aa.LOW]),ba.add(3045,ca.SINGLE,da.ORANGE,ea.CENTER),ba.add(2709,ca.SINGLE,da.RED,ea.EDGE_ANY),ba.add(2489,ca.LINE_HORIZONTAL,da.ORANGE,[ea.EDGE_ANY,3,aa.MEDIUM]),ba.add(3147,ca.SINGLE,da.ORANGE,ea.EDGE_ANY),ba.add(1132,ca.V_HORIZONTAL_REVERSE,da.BLUE,[ea.EDGE_LEFT,3,aa.MEDIUM,aa.HIGH]),ba.add(1791,ca.V_HORIZONTAL_REVERSE,da.BLUE,[ea.EDGE_LEFT,3,aa.LOW,aa.HIGH]),ba.new("hard_8"),ba.add(100,ca.SINGLE,da.VIOLET,ea.CENTER),ba.add(1821,ca.LINE_HORIZONTAL,da.GREEN,[ea.CENTER,3,aa.MEDIUM]),ba.add(2593,ca.LINE_VERTICAL,da.VIOLET,[ea.EDGE_RIGHT,3,aa.LOW]),ba.add(2224,ca.SINGLE,da.ORANGE,ea.CENTER),ba.add(1854,ca.V_HORIZONTAL,da.RED,[ea.CENTER,3,aa.MEDIUM,aa.HIGH]),ba.add(1516,ca.SINGLE,da.VIOLET,ea.CENTER),ba.add(2616,ca.V_HORIZONTAL_REVERSE,da.BLUE,[ea.EDGE_RIGHT,3,aa.HIGH,aa.MEDIUM]),ba.add(2644,ca.LINE_HORIZONTAL,da.VIOLET,[ea.EDGE_ANY,3,aa.LOW]),ba.add(1992,ca.V_HORIZONTAL_REVERSE,da.ORANGE,[ea.EDGE_ANY,3,aa.HIGH,aa.LOW]),ba.add(1373,ca.V_HORIZONTAL_REVERSE,da.BLUE,[ea.EDGE_LEFT,3,aa.MEDIUM,aa.LOW]),ba.add(2680,ca.V_HORIZONTAL_REVERSE,da.RED,[ea.EDGE_RIGHT,3,aa.MEDIUM,aa.MEDIUM]),ba.add(3330,ca.V_HORIZONTAL,da.BLUE,[ea.LEFT,3,aa.LOW,aa.LOW]),ba.add(1541,ca.V_HORIZONTAL,da.GREEN,[ea.LEFT,3,aa.LOW,aa.LOW]),ba.add(2677,ca.V_HORIZONTAL,da.VIOLET,[ea.EDGE_ANY,3,aa.LOW,aa.LOW]),ba.add(1758,ca.LINE_VERTICAL,da.VIOLET,[ea.EDGE_ANY,3,aa.MEDIUM]),ba.add(3232,ca.V_HORIZONTAL_REVERSE,da.BLUE,[ea.LEFT,3,aa.LOW,aa.HIGH]),ba.add(1032,ca.SINGLE,da.VIOLET,ea.RIGHT),ba.add(1828,ca.V_HORIZONTAL,da.BLUE,[ea.EDGE_RIGHT,3,aa.MEDIUM,aa.MEDIUM]),ba.add(2347,ca.SINGLE,da.BLUE,ea.CENTER),ba.add(2102,ca.LINE_VERTICAL,da.GREEN,[ea.RIGHT,3,aa.LOW]),ba.add(3341,ca.V_HORIZONTAL,da.RED,[ea.CENTER,3,aa.MEDIUM,aa.LOW]),ba.add(2958,ca.V_HORIZONTAL,da.RED,[ea.EDGE_LEFT,3,aa.LOW,aa.HIGH]),ba.add(2551,ca.LINE_VERTICAL,da.GREEN,[ea.EDGE_LEFT,3,aa.LOW]),ba.add(3265,ca.V_HORIZONTAL_REVERSE,da.RED,[ea.EDGE_RIGHT,3,aa.MEDIUM,aa.MEDIUM]),ba.add(2681,ca.LINE_HORIZONTAL,da.BLUE,[ea.RIGHT,3,aa.MEDIUM]),ba.add(1717,ca.V_HORIZONTAL,da.BLUE,[ea.CENTER,3,aa.MEDIUM,aa.MEDIUM]),ba.new("hard_9"),ba.add(100,ca.V_HORIZONTAL_REVERSE,da.ORANGE,[ea.EDGE_ANY,3,aa.HIGH,aa.LOW]),ba.add(1344,ca.V_HORIZONTAL_REVERSE,da.BLUE,[ea.EDGE_ANY,3,aa.MEDIUM,aa.HIGH]),ba.add(2138,ca.LINE_VERTICAL,da.BLUE,[ea.EDGE_ANY,3,aa.LOW]),ba.add(1878,ca.V_HORIZONTAL_REVERSE,da.BLUE,[ea.EDGE_RIGHT,3,aa.HIGH,aa.LOW]),ba.add(1895,ca.V_HORIZONTAL_REVERSE,da.BLUE,[ea.EDGE_RIGHT,3,aa.LOW,aa.LOW]),ba.add(1178,ca.LINE_VERTICAL,da.BLUE,[ea.EDGE_LEFT,3,aa.LOW]),ba.add(1832,ca.LINE_HORIZONTAL,da.ORANGE,[ea.CENTER,3,aa.MEDIUM]),ba.add(3155,ca.V_HORIZONTAL_REVERSE,da.ORANGE,[ea.EDGE_ANY,3,aa.HIGH,aa.MEDIUM]),ba.add(2200,ca.V_HORIZONTAL_REVERSE,da.ORANGE,[ea.RIGHT,3,aa.HIGH,aa.HIGH]),ba.add(2200,ca.V_HORIZONTAL_REVERSE,da.ORANGE,[ea.LEFT,3,aa.LOW,aa.MEDIUM]),ba.add(2200,ca.V_HORIZONTAL_REVERSE,da.ORANGE,[ea.EDGE_ANY,3,aa.HIGH,aa.MEDIUM]),ba.add(2200,ca.V_HORIZONTAL_REVERSE,da.ORANGE,[ea.RIGHT,3,aa.HIGH,aa.HIGH]),ba.add(2120,ca.V_HORIZONTAL_REVERSE,da.ORANGE,[ea.LEFT,3,aa.LOW,aa.MEDIUM]),ba.add(3344,ca.LINE_VERTICAL,da.ORANGE,[ea.EDGE_RIGHT,3,aa.LOW]),ba.add(2517,ca.V_HORIZONTAL,da.ORANGE,[ea.EDGE_LEFT,3,aa.HIGH,aa.HIGH]),ba.add(1376,ca.LINE_HORIZONTAL,da.ORANGE,[ea.EDGE_ANY,3,aa.HIGH]),ba.add(2835,ca.V_HORIZONTAL_REVERSE,da.GREEN,[ea.EDGE_RIGHT,3,aa.HIGH,aa.LOW]),ba.add(1028,ca.LINE_VERTICAL,da.GREEN,[ea.EDGE_LEFT,3,aa.LOW]),ba.add(2725,ca.V_HORIZONTAL_REVERSE,da.VIOLET,[ea.CENTER,3,aa.LOW,aa.HIGH]),ba.add(1666,ca.V_HORIZONTAL,da.ORANGE,[ea.EDGE_ANY,3,aa.LOW,aa.HIGH]),ba.add(2844,ca.LINE_HORIZONTAL,da.ORANGE,[ea.EDGE_RIGHT,3,aa.MEDIUM]),ba.add(3136,ca.SINGLE,da.ORANGE,ea.EDGE_RIGHT),ba.add(2228,ca.V_HORIZONTAL_REVERSE,da.ORANGE,[ea.EDGE_ANY,3,aa.LOW,aa.HIGH]),ba.add(2613,ca.V_HORIZONTAL_REVERSE,da.ORANGE,[ea.EDGE_RIGHT,3,aa.MEDIUM,aa.HIGH]),ba.add(2802,ca.V_HORIZONTAL_REVERSE,da.ORANGE,[ea.LEFT,3,aa.HIGH,aa.HIGH]),ba.add(1012,ca.LINE_HORIZONTAL,da.ORANGE,[ea.LEFT,3,aa.MEDIUM]),ba.add(2941,ca.SINGLE,da.GREEN,ea.EDGE_RIGHT),ba.add(3437,ca.V_HORIZONTAL_REVERSE,da.ORANGE,[ea.EDGE_ANY,3,aa.LOW,aa.MEDIUM]),ba.add(2756,ca.V_HORIZONTAL,da.ORANGE,[ea.EDGE_RIGHT,3,aa.MEDIUM,aa.HIGH]),ba.new("hard_10"),ba.add(100,ca.V_HORIZONTAL_REVERSE,da.BLUE,[ea.EDGE_RIGHT,3,aa.MEDIUM,aa.LOW]),ba.add(2823,ca.V_HORIZONTAL_REVERSE,da.GREEN,[ea.EDGE_ANY,3,aa.LOW,aa.HIGH]),ba.add(1478,ca.V_HORIZONTAL,da.GREEN,[ea.EDGE_ANY,3,aa.MEDIUM,aa.MEDIUM]),ba.add(3446,ca.SINGLE,da.GREEN,ea.EDGE_ANY),ba.add(2123,ca.SINGLE,da.GREEN,ea.RIGHT),ba.add(2099,ca.LINE_VERTICAL,da.RED,[ea.LEFT,1,aa.HIGH]),ba.add(1338,ca.V_HORIZONTAL,da.GREEN,[ea.EDGE_RIGHT,3,aa.LOW,aa.HIGH]),ba.add(1039,ca.LINE_VERTICAL,da.GREEN,[ea.RIGHT,3,aa.HIGH]),ba.add(1963,ca.SINGLE,da.GREEN,ea.EDGE_ANY),ba.add(1318,ca.LINE_HORIZONTAL,da.GREEN,[ea.EDGE_ANY,3,aa.HIGH]),ba.add(2423,ca.V_HORIZONTAL,da.GREEN,[ea.LEFT,3,aa.HIGH,aa.LOW]),ba.add(1718,ca.LINE_HORIZONTAL,da.GREEN,[ea.RIGHT,3,aa.HIGH]),ba.add(2011,ca.V_HORIZONTAL,da.RED,[ea.EDGE_RIGHT,1,aa.HIGH,aa.HIGH]),ba.add(1133,ca.LINE_HORIZONTAL,da.GREEN,[ea.CENTER,5,aa.HIGH]),ba.add(1133,ca.LINE_HORIZONTAL,da.GREEN,[ea.CENTER,5,aa.HIGH]),ba.add(1133,ca.LINE_HORIZONTAL,da.GREEN,[ea.CENTER,5,aa.HIGH]),ba.add(1133,ca.LINE_HORIZONTAL,da.GREEN,[ea.CENTER,5,aa.HIGH]),ba.add(1133,ca.LINE_HORIZONTAL,da.GREEN,[ea.CENTER,5,aa.HIGH]),ba.add(1133,ca.LINE_HORIZONTAL,da.GREEN,[ea.CENTER,5,aa.HIGH]),ba.add(1133,ca.LINE_HORIZONTAL,da.GREEN,[ea.CENTER,5,aa.HIGH]),ba.add(1133,ca.LINE_HORIZONTAL,da.GREEN,[ea.CENTER,5,aa.HIGH]),ba.add(1332,ca.SINGLE,da.GREEN,ea.EDGE_LEFT),ba.add(1911,ca.LINE_VERTICAL,da.GREEN,[ea.EDGE_RIGHT,3,aa.LOW]),ba.add(1808,ca.V_HORIZONTAL_REVERSE,da.RED,[ea.EDGE_LEFT,1,aa.LOW,aa.MEDIUM]),ba.add(2167,ca.SINGLE,da.GREEN,ea.EDGE_LEFT),ba.add(2209,ca.LINE_VERTICAL,da.GREEN,[ea.EDGE_RIGHT,3,aa.HIGH]),ba.add(2116,ca.LINE_VERTICAL,da.RED,[ea.EDGE_RIGHT,1,aa.MEDIUM]),ba.add(3482,ca.LINE_HORIZONTAL,da.GREEN,[ea.EDGE_ANY,3,aa.MEDIUM]),ba.add(2204,ca.SINGLE,da.GREEN,ea.EDGE_RIGHT),ba.add(2227,ca.V_HORIZONTAL,da.GREEN,[ea.EDGE_LEFT,3,aa.MEDIUM,aa.MEDIUM]),ba.add(2390,ca.LINE_VERTICAL,da.GREEN,[ea.CENTER,3,aa.LOW]),ba.add(2823,ca.LINE_HORIZONTAL,da.RED,[ea.EDGE_RIGHT,1,aa.HIGH]),ba.add(1686,ca.LINE_HORIZONTAL,da.GREEN,[ea.EDGE_LEFT,3,aa.LOW]),ba.add(2789,ca.V_HORIZONTAL_REVERSE,da.GREEN,[ea.RIGHT,3,aa.HIGH,aa.LOW]),ba.add(1604,ca.SINGLE,da.GREEN,ea.CENTER),ba.add(3041,ca.LINE_VERTICAL,da.GREEN,[ea.EDGE_ANY,3,aa.HIGH]),ba.new("hard_11"),ba.add(100,ca.V_HORIZONTAL,da.VIOLET,[ea.CENTER,3,aa.HIGH,aa.MEDIUM]),ba.add(2212,ca.LINE_VERTICAL,da.VIOLET,[ea.RIGHT,3,aa.MEDIUM]),ba.add(3334,ca.LINE_VERTICAL,da.RED,[ea.CENTER,3,aa.LOW]),ba.add(2546,ca.LINE_HORIZONTAL,da.GREEN,[ea.EDGE_LEFT,3,aa.HIGH]),ba.add(1662,ca.LINE_VERTICAL,da.GREEN,[ea.LEFT,3,aa.LOW]),ba.add(1733,ca.LINE_HORIZONTAL,da.ORANGE,[ea.EDGE_LEFT,3,aa.MEDIUM]),ba.add(2428,ca.V_HORIZONTAL_REVERSE,da.GREEN,[ea.RIGHT,3,aa.LOW,aa.LOW]),ba.add(3401,ca.LINE_HORIZONTAL,da.BLUE,[ea.LEFT,3,aa.HIGH]),ba.add(1369,ca.SINGLE,da.BLUE,ea.RIGHT),ba.add(1943,ca.V_HORIZONTAL,da.ORANGE,[ea.EDGE_ANY,3,aa.LOW,aa.MEDIUM]),ba.add(3449,ca.SINGLE,da.RED,ea.CENTER),ba.add(2765,ca.LINE_HORIZONTAL,da.BLUE,[ea.CENTER,3,aa.HIGH]),ba.add(3449,ca.V_HORIZONTAL_REVERSE,da.BLUE,[ea.EDGE_LEFT,3,aa.HIGH,aa.MEDIUM]),ba.add(2470,ca.SINGLE,da.ORANGE,ea.RIGHT),ba.add(2762,ca.SINGLE,da.RED,ea.EDGE_LEFT),ba.add(2413,ca.LINE_HORIZONTAL,da.BLUE,[ea.EDGE_LEFT,3,aa.LOW]),ba.add(1008,ca.SINGLE,da.ORANGE,ea.EDGE_LEFT),ba.add(1960,ca.SINGLE,da.GREEN,ea.EDGE_ANY),ba.add(2134,ca.SINGLE,da.ORANGE,ea.EDGE_LEFT),ba.add(2765,ca.SINGLE,da.ORANGE,ea.EDGE_RIGHT),ba.add(3163,ca.V_HORIZONTAL,da.ORANGE,[ea.EDGE_LEFT,3,aa.MEDIUM,aa.LOW]),ba.add(1933,ca.LINE_HORIZONTAL,da.BLUE,[ea.EDGE_RIGHT,3,aa.MEDIUM]),ba.add(1241,ca.LINE_VERTICAL,da.ORANGE,[ea.EDGE_LEFT,3,aa.LOW]),ba.add(1451,ca.V_HORIZONTAL,da.GREEN,[ea.RIGHT,3,aa.HIGH,aa.HIGH]),ba.add(2378,ca.SINGLE,da.GREEN,ea.EDGE_RIGHT),ba.add(2011,ca.LINE_HORIZONTAL,da.RED,[ea.LEFT,3,aa.MEDIUM]),ba.new("hard_12"),ba.add(100,ca.SINGLE,da.ORANGE,ea.EDGE_LEFT),ba.add(2309,ca.V_HORIZONTAL,da.ORANGE,[ea.EDGE_LEFT,3,aa.MEDIUM,aa.HIGH]),ba.add(3347,ca.LINE_HORIZONTAL,da.GREEN,[ea.EDGE_RIGHT,3,aa.HIGH]),ba.add(2719,ca.V_HORIZONTAL,da.VIOLET,[ea.EDGE_RIGHT,3,aa.HIGH,aa.HIGH]),ba.add(3398,ca.SINGLE,da.GREEN,ea.EDGE_ANY),ba.add(2781,ca.LINE_VERTICAL,da.RED,[ea.EDGE_LEFT,3,aa.HIGH]),ba.add(1333,ca.V_HORIZONTAL_REVERSE,da.GREEN,[ea.CENTER,3,aa.MEDIUM,aa.LOW]),ba.add(1728,ca.LINE_HORIZONTAL,da.RED,[ea.EDGE_ANY,3,aa.MEDIUM]),ba.add(2319,ca.SINGLE,da.BLUE,ea.CENTER),ba.add(3330,ca.V_HORIZONTAL_REVERSE,da.BLUE,[ea.EDGE_ANY,3,aa.LOW,aa.LOW]),ba.add(2551,ca.LINE_HORIZONTAL,da.VIOLET,[ea.CENTER,3,aa.LOW]),ba.add(2120,ca.V_HORIZONTAL_REVERSE,da.VIOLET,[ea.RIGHT,3,aa.LOW,aa.LOW]),ba.add(2869,ca.LINE_VERTICAL,da.ORANGE,[ea.EDGE_ANY,3,aa.MEDIUM]),ba.add(2351,ca.LINE_HORIZONTAL,da.VIOLET,[ea.LEFT,3,aa.LOW]),ba.add(2021,ca.V_HORIZONTAL_REVERSE,da.VIOLET,[ea.LEFT,3,aa.LOW,aa.MEDIUM]),ba.add(2466,ca.LINE_HORIZONTAL,da.BLUE,[ea.CENTER,3,aa.HIGH]),ba.add(1184,ca.LINE_VERTICAL,da.BLUE,[ea.EDGE_RIGHT,3,aa.HIGH]),ba.add(2955,ca.LINE_HORIZONTAL,da.ORANGE,[ea.EDGE_ANY,3,aa.HIGH]),ba.add(3280,ca.LINE_VERTICAL,da.BLUE,[ea.EDGE_ANY,3,aa.HIGH]),ba.add(2671,ca.LINE_VERTICAL,da.GREEN,[ea.RIGHT,3,aa.LOW]),ba.add(1967,ca.LINE_VERTICAL,da.VIOLET,[ea.LEFT,3,aa.LOW]),ba.add(2499,ca.LINE_VERTICAL,da.ORANGE,[ea.EDGE_ANY,3,aa.LOW]),ba.add(1192,ca.V_HORIZONTAL_REVERSE,da.GREEN,[ea.EDGE_ANY,3,aa.MEDIUM,aa.LOW]),ba.add(1169,ca.V_HORIZONTAL,da.GREEN,[ea.EDGE_RIGHT,3,aa.HIGH,aa.HIGH]),ba.add(1878,ca.V_HORIZONTAL,da.GREEN,[ea.EDGE_LEFT,3,aa.HIGH,aa.LOW]),ba.add(1560,ca.LINE_VERTICAL,da.GREEN,[ea.EDGE_LEFT,3,aa.HIGH]),ba.new("hard_13"),ba.add(100,ca.LINE_HORIZONTAL,da.GREEN,[ea.CENTER,5,aa.HIGH]),ba.add(2e3,ca.LINE_HORIZONTAL,da.ORANGE,[ea.CENTER,5,aa.HIGH]),ba.add(2e3,ca.LINE_HORIZONTAL,da.GREEN,[ea.CENTER,5,aa.HIGH]),ba.add(2e3,ca.LINE_HORIZONTAL,da.ORANGE,[ea.CENTER,5,aa.HIGH]),ba.add(2e3,ca.LINE_HORIZONTAL,da.GREEN,[ea.CENTER,5,aa.HIGH]),ba.add(2e3,ca.LINE_HORIZONTAL,da.ORANGE,[ea.CENTER,5,aa.HIGH]),ba.add(2e3,ca.LINE_HORIZONTAL,da.GREEN,[ea.CENTER,5,aa.HIGH]),ba.add(2e3,ca.LINE_HORIZONTAL,da.ORANGE,[ea.CENTER,5,aa.HIGH]),ba.add(1612,ca.SINGLE,da.BLUE,ea.EDGE_RIGHT),ba.new("hard_14"),ba.add(100,ca.V_HORIZONTAL_REVERSE,da.RED,[ea.RIGHT,3,aa.HIGH,aa.HIGH]),ba.add(1542,ca.LINE_HORIZONTAL,da.GREEN,[ea.RIGHT,3,aa.LOW]),ba.add(1252,ca.V_HORIZONTAL_REVERSE,da.ORANGE,[ea.EDGE_RIGHT,3,aa.HIGH,aa.LOW]),ba.add(1855,ca.LINE_VERTICAL,da.BLUE,[ea.RIGHT,3,aa.HIGH]),ba.add(3230,ca.LINE_HORIZONTAL,da.GREEN,[ea.LEFT,3,aa.MEDIUM]),ba.add(1878,ca.LINE_HORIZONTAL,da.GREEN,[ea.CENTER,3,aa.HIGH]),ba.add(1676,ca.SINGLE,da.BLUE,ea.LEFT),ba.add(3267,ca.LINE_VERTICAL,da.VIOLET,[ea.LEFT,3,aa.MEDIUM]),ba.add(2594,ca.LINE_VERTICAL,da.ORANGE,[ea.EDGE_LEFT,3,aa.HIGH]),ba.add(1146,ca.V_HORIZONTAL_REVERSE,da.RED,[ea.EDGE_RIGHT,3,aa.LOW,aa.HIGH]),ba.add(1480,ca.SINGLE,da.ORANGE,ea.EDGE_LEFT),ba.add(1301,ca.LINE_HORIZONTAL,da.GREEN,[ea.CENTER,3,aa.MEDIUM]),ba.add(2053,ca.LINE_HORIZONTAL,da.ORANGE,[ea.EDGE_RIGHT,3,aa.MEDIUM]),ba.add(1274,ca.LINE_HORIZONTAL,da.BLUE,[ea.RIGHT,3,aa.MEDIUM]),ba.add(3192,ca.LINE_VERTICAL,da.BLUE,[ea.LEFT,3,aa.MEDIUM]),ba.add(1177,ca.V_HORIZONTAL_REVERSE,da.BLUE,[ea.RIGHT,3,aa.LOW,aa.LOW]),ba.add(1578,ca.V_HORIZONTAL,da.VIOLET,[ea.EDGE_ANY,3,aa.MEDIUM,aa.HIGH]),ba.add(1517,ca.V_HORIZONTAL_REVERSE,da.RED,[ea.LEFT,3,aa.MEDIUM,aa.LOW]),ba.add(2678,ca.V_HORIZONTAL_REVERSE,da.GREEN,[ea.RIGHT,3,aa.MEDIUM,aa.LOW]),ba.add(2834,ca.SINGLE,da.ORANGE,ea.EDGE_LEFT),ba.add(2616,ca.V_HORIZONTAL_REVERSE,da.GREEN,[ea.RIGHT,3,aa.MEDIUM,aa.HIGH]),ba.add(2785,ca.V_HORIZONTAL,da.BLUE,[ea.EDGE_ANY,3,aa.MEDIUM,aa.HIGH]),ba.add(2477,ca.SINGLE,da.VIOLET,ea.EDGE_LEFT),ba.add(1808,ca.V_HORIZONTAL_REVERSE,da.GREEN,[ea.EDGE_RIGHT,3,aa.LOW,aa.LOW]),ba.add(1129,ca.V_HORIZONTAL_REVERSE,da.ORANGE,[ea.EDGE_ANY,3,aa.MEDIUM,aa.HIGH]),ba.add(1562,ca.V_HORIZONTAL_REVERSE,da.VIOLET,[ea.EDGE_LEFT,3,aa.LOW,aa.HIGH]),ba.add(1740,ca.V_HORIZONTAL,da.RED,[ea.EDGE_ANY,3,aa.HIGH,aa.LOW]),ba.new("hard_15"),ba.add(100,ca.SINGLE,da.ORANGE,ea.EDGE_ANY),ba.add(2713,ca.LINE_HORIZONTAL,da.RED,[ea.EDGE_ANY,3,aa.HIGH]),ba.add(1122,ca.V_HORIZONTAL,da.ORANGE,[ea.EDGE_LEFT,3,aa.MEDIUM,aa.HIGH]),ba.add(3165,ca.V_HORIZONTAL_REVERSE,da.ORANGE,[ea.EDGE_RIGHT,3,aa.HIGH,aa.MEDIUM]),ba.add(2992,ca.V_HORIZONTAL,da.GREEN,[ea.EDGE_LEFT,3,aa.MEDIUM,aa.LOW]),ba.add(1924,ca.SINGLE,da.VIOLET,ea.EDGE_LEFT),ba.add(1333,ca.LINE_VERTICAL,da.ORANGE,[ea.LEFT,3,aa.HIGH]),ba.add(1182,ca.SINGLE,da.GREEN,ea.EDGE_RIGHT),ba.add(1102,ca.V_HORIZONTAL,da.BLUE,[ea.RIGHT,3,aa.MEDIUM,aa.MEDIUM]),ba.add(3471,ca.SINGLE,da.ORANGE,ea.EDGE_RIGHT),ba.add(1166,ca.SINGLE,da.BLUE,ea.EDGE_ANY),ba.add(2419,ca.V_HORIZONTAL_REVERSE,da.ORANGE,[ea.EDGE_LEFT,3,aa.HIGH,aa.LOW]),ba.add(1381,ca.LINE_HORIZONTAL,da.RED,[ea.RIGHT,3,aa.LOW]),ba.add(3089,ca.V_HORIZONTAL,da.VIOLET,[ea.EDGE_LEFT,3,aa.HIGH,aa.MEDIUM]),ba.add(1095,ca.V_HORIZONTAL,da.BLUE,[ea.CENTER,3,aa.MEDIUM,aa.HIGH]),ba.add(1075,ca.LINE_VERTICAL,da.GREEN,[ea.CENTER,3,aa.LOW]),ba.add(2979,ca.LINE_VERTICAL,da.BLUE,[ea.LEFT,3,aa.LOW]),ba.add(1590,ca.SINGLE,da.GREEN,ea.EDGE_RIGHT),ba.add(3157,ca.SINGLE,da.VIOLET,ea.EDGE_RIGHT),ba.add(2907,ca.LINE_VERTICAL,da.VIOLET,[ea.CENTER,3,aa.LOW]),ba.add(1513,ca.SINGLE,da.ORANGE,ea.CENTER),ba.add(2964,ca.LINE_HORIZONTAL,da.ORANGE,[ea.EDGE_ANY,3,aa.HIGH]),ba.add(2497,ca.LINE_HORIZONTAL,da.BLUE,[ea.LEFT,3,aa.LOW]),ba.add(1904,ca.LINE_VERTICAL,da.VIOLET,[ea.CENTER,3,aa.LOW]),ba.add(2432,ca.LINE_HORIZONTAL,da.GREEN,[ea.EDGE_RIGHT,3,aa.MEDIUM]),ba.add(3225,ca.LINE_VERTICAL,da.RED,[ea.EDGE_LEFT,3,aa.LOW]),ba.add(3464,ca.LINE_VERTICAL,da.ORANGE,[ea.CENTER,3,aa.HIGH]),ba.add(1167,ca.V_HORIZONTAL_REVERSE,da.ORANGE,[ea.CENTER,3,aa.LOW,aa.HIGH]),ba.new("hard_16"),ba.add(100,ca.SINGLE,da.ORANGE,ea.EDGE_RIGHT),ba.add(825,ca.LINE_VERTICAL,da.ORANGE,[ea.EDGE_LEFT,3,aa.HIGH]),ba.add(228,ca.SINGLE,da.ORANGE,ea.RIGHT),ba.add(2165,ca.LINE_HORIZONTAL,da.BLUE,[ea.EDGE_LEFT,3,aa.LOW]),ba.add(497,ca.V_HORIZONTAL_REVERSE,da.BLUE,[ea.EDGE_LEFT,3,aa.HIGH,aa.MEDIUM]),ba.add(161,ca.V_HORIZONTAL_REVERSE,da.BLUE,[ea.EDGE_LEFT,3,aa.HIGH,aa.MEDIUM]),ba.add(2631,ca.LINE_HORIZONTAL,da.BLUE,[ea.LEFT,3,aa.MEDIUM]),ba.add(2846,ca.V_HORIZONTAL,da.VIOLET,[ea.RIGHT,3,aa.HIGH,aa.MEDIUM]),ba.add(2640,ca.LINE_HORIZONTAL,da.VIOLET,[ea.LEFT,3,aa.HIGH]),ba.add(1868,ca.LINE_VERTICAL,da.VIOLET,[ea.EDGE_ANY,3,aa.HIGH]),ba.add(2824,ca.LINE_HORIZONTAL,da.VIOLET,[ea.RIGHT,3,aa.LOW]),ba.add(3014,ca.LINE_VERTICAL,da.ORANGE,[ea.EDGE_RIGHT,3,aa.LOW]),ba.add(255,ca.V_HORIZONTAL,da.ORANGE,[ea.LEFT,3,aa.LOW,aa.LOW]),ba.add(449,ca.SINGLE,da.ORANGE,ea.EDGE_LEFT),ba.add(2533,ca.LINE_HORIZONTAL,da.BLUE,[ea.LEFT,3,aa.MEDIUM]),ba.add(577,ca.LINE_VERTICAL,da.BLUE,[ea.EDGE_ANY,3,aa.MEDIUM]),ba.add(116,ca.V_HORIZONTAL,da.BLUE,[ea.RIGHT,3,aa.MEDIUM,aa.MEDIUM]),ba.add(168,ca.LINE_VERTICAL,da.BLUE,[ea.CENTER,3,aa.LOW]),ba.add(2355,ca.SINGLE,da.BLUE,ea.EDGE_ANY),ba.add(965,ca.LINE_HORIZONTAL,da.BLUE,[ea.LEFT,3,aa.HIGH]),ba.add(226,ca.SINGLE,da.BLUE,ea.CENTER),ba.add(2186,ca.LINE_HORIZONTAL,da.ORANGE,[ea.RIGHT,3,aa.MEDIUM]),ba.add(1069,ca.LINE_VERTICAL,da.ORANGE,[ea.RIGHT,3,aa.LOW]),ba.add(2601,ca.V_HORIZONTAL_REVERSE,da.ORANGE,[ea.LEFT,3,aa.LOW,aa.LOW]),ba.add(1493,ca.V_HORIZONTAL,da.ORANGE,[ea.LEFT,3,aa.HIGH,aa.HIGH]),ba.add(2500,ca.SINGLE,da.GREEN,ea.EDGE_ANY),ba.new("hard_17"),ba.add(100,ca.V_HORIZONTAL_REVERSE,da.BLUE,[ea.RIGHT,3,aa.HIGH,aa.HIGH]),ba.add(3284,ca.LINE_HORIZONTAL,da.GREEN,[ea.CENTER,3,aa.LOW]),ba.add(2545,ca.SINGLE,da.ORANGE,ea.CENTER),ba.add(2810,ca.LINE_HORIZONTAL,da.GREEN,[ea.LEFT,3,aa.LOW]),ba.add(3097,ca.LINE_VERTICAL,da.ORANGE,[ea.CENTER,3,aa.LOW]),ba.add(1864,ca.LINE_HORIZONTAL,da.BLUE,[ea.EDGE_LEFT,3,aa.LOW]),ba.add(1999,ca.V_HORIZONTAL_REVERSE,da.BLUE,[ea.RIGHT,3,aa.LOW,aa.LOW]),ba.add(3311,ca.LINE_VERTICAL,da.ORANGE,[ea.RIGHT,3,aa.HIGH]),ba.add(1968,ca.LINE_VERTICAL,da.ORANGE,[ea.CENTER,3,aa.LOW]),ba.add(1756,ca.V_HORIZONTAL_REVERSE,da.GREEN,[ea.EDGE_LEFT,3,aa.LOW,aa.HIGH]),ba.add(3140,ca.V_HORIZONTAL,da.GREEN,[ea.EDGE_ANY,3,aa.HIGH,aa.LOW]),ba.add(2726,ca.LINE_HORIZONTAL,da.ORANGE,[ea.LEFT,3,aa.HIGH]),ba.add(2640,ca.LINE_VERTICAL,da.VIOLET,[ea.CENTER,3,aa.LOW]),ba.add(1275,ca.LINE_VERTICAL,da.ORANGE,[ea.CENTER,3,aa.LOW]),ba.add(1636,ca.SINGLE,da.ORANGE,ea.CENTER),ba.add(1203,ca.V_HORIZONTAL,da.ORANGE,[ea.CENTER,3,aa.MEDIUM,aa.HIGH]),ba.add(1741,ca.V_HORIZONTAL_REVERSE,da.BLUE,[ea.EDGE_LEFT,3,aa.MEDIUM,aa.LOW]),ba.add(2645,ca.V_HORIZONTAL,da.ORANGE,[ea.LEFT,3,aa.MEDIUM,aa.LOW]),ba.add(3064,ca.V_HORIZONTAL_REVERSE,da.RED,[ea.EDGE_RIGHT,3,aa.LOW,aa.LOW]),ba.add(2619,ca.V_HORIZONTAL_REVERSE,da.RED,[ea.LEFT,3,aa.HIGH,aa.HIGH]),ba.add(2499,ca.V_HORIZONTAL_REVERSE,da.BLUE,[ea.EDGE_LEFT,3,aa.LOW,aa.HIGH]),ba.add(2776,ca.V_HORIZONTAL_REVERSE,da.VIOLET,[ea.EDGE_RIGHT,3,aa.MEDIUM,aa.LOW]),ba.new("hard_18"),ba.add(100,ca.V_HORIZONTAL_REVERSE,da.GREEN,[ea.LEFT,3,aa.MEDIUM,aa.HIGH]),ba.add(94,ca.SINGLE,da.VIOLET,ea.EDGE_RIGHT),ba.add(305,ca.LINE_VERTICAL,da.GREEN,[ea.EDGE_RIGHT,3,aa.LOW]),ba.add(380,ca.LINE_VERTICAL,da.GREEN,[ea.EDGE_RIGHT,3,aa.LOW]),ba.add(116,ca.V_HORIZONTAL_REVERSE,da.VIOLET,[ea.EDGE_LEFT,3,aa.MEDIUM,aa.HIGH]),ba.add(339,ca.LINE_HORIZONTAL,da.GREEN,[ea.EDGE_RIGHT,3,aa.LOW]),ba.add(196,ca.SINGLE,da.VIOLET,ea.EDGE_LEFT),ba.add(31,ca.V_HORIZONTAL_REVERSE,da.VIOLET,[ea.CENTER,3,aa.HIGH,aa.LOW]),ba.add(679,ca.LINE_VERTICAL,da.VIOLET,[ea.RIGHT,3,aa.HIGH]),ba.add(583,ca.SINGLE,da.VIOLET,ea.EDGE_RIGHT),ba.add(893,ca.LINE_VERTICAL,da.VIOLET,[ea.EDGE_LEFT,3,aa.MEDIUM]),ba.add(919,ca.V_HORIZONTAL,da.ORANGE,[ea.EDGE_ANY,3,aa.LOW,aa.MEDIUM]),ba.add(843,ca.LINE_HORIZONTAL,da.VIOLET,[ea.CENTER,3,aa.MEDIUM]),ba.add(222,ca.LINE_VERTICAL,da.VIOLET,[ea.RIGHT,3,aa.MEDIUM]),ba.add(971,ca.V_HORIZONTAL_REVERSE,da.GREEN,[ea.EDGE_RIGHT,3,aa.HIGH,aa.LOW]),ba.add(141,ca.V_HORIZONTAL_REVERSE,da.GREEN,[ea.EDGE_ANY,3,aa.LOW,aa.LOW]),ba.add(407,ca.V_HORIZONTAL,da.GREEN,[ea.EDGE_LEFT,3,aa.HIGH,aa.LOW]),ba.add(277,ca.V_HORIZONTAL,da.ORANGE,[ea.RIGHT,3,aa.MEDIUM,aa.MEDIUM]),ba.add(415,ca.V_HORIZONTAL_REVERSE,da.BLUE,[ea.EDGE_ANY,3,aa.LOW,aa.MEDIUM]),ba.add(79,ca.LINE_VERTICAL,da.VIOLET,[ea.EDGE_ANY,3,aa.HIGH]),ba.add(2235,ca.LINE_HORIZONTAL,da.GREEN,[ea.CENTER,3,aa.MEDIUM]),ba.add(282,ca.SINGLE,da.GREEN,ea.EDGE_ANY),ba.add(155,ca.LINE_VERTICAL,da.GREEN,[ea.EDGE_LEFT,3,aa.HIGH]),ba.add(100,ca.LINE_HORIZONTAL,da.GREEN,[ea.CENTER,3,aa.MEDIUM]),ba.add(318,ca.LINE_VERTICAL,da.GREEN,[ea.RIGHT,3,aa.HIGH]),ba.add(546,ca.LINE_VERTICAL,da.GREEN,[ea.EDGE_ANY,3,aa.MEDIUM]),ba.add(651,ca.LINE_VERTICAL,da.GREEN,[ea.EDGE_ANY,3,aa.LOW]),ba.new("hard_19"),ba.add(100,ca.V_HORIZONTAL,da.ORANGE,[ea.EDGE_RIGHT,3,aa.MEDIUM,aa.MEDIUM]),ba.add(1911,ca.V_HORIZONTAL,da.BLUE,[ea.EDGE_ANY,3,aa.HIGH,aa.MEDIUM]),ba.add(1303,ca.LINE_HORIZONTAL,da.GREEN,[ea.CENTER,3,aa.HIGH]),ba.add(1149,ca.LINE_VERTICAL,da.GREEN,[ea.EDGE_LEFT,3,aa.HIGH]),ba.add(3155,ca.V_HORIZONTAL,da.GREEN,[ea.RIGHT,3,aa.HIGH,aa.HIGH]),ba.add(2273,ca.LINE_HORIZONTAL,da.ORANGE,[ea.EDGE_ANY,3,aa.HIGH]),ba.add(3036,ca.SINGLE,da.ORANGE,ea.CENTER),ba.add(1296,ca.LINE_VERTICAL,da.GREEN,[ea.EDGE_LEFT,3,aa.MEDIUM]),ba.add(1908,ca.LINE_VERTICAL,da.ORANGE,[ea.RIGHT,3,aa.LOW]),ba.add(1293,ca.SINGLE,da.VIOLET,ea.EDGE_LEFT),ba.add(3270,ca.SINGLE,da.BLUE,ea.EDGE_ANY),ba.add(2953,ca.V_HORIZONTAL,da.VIOLET,[ea.LEFT,3,aa.LOW,aa.MEDIUM]),ba.add(1555,ca.SINGLE,da.GREEN,ea.EDGE_RIGHT),ba.add(3221,ca.V_HORIZONTAL,da.BLUE,[ea.RIGHT,3,aa.HIGH,aa.MEDIUM]),ba.add(2284,ca.LINE_HORIZONTAL,da.ORANGE,[ea.EDGE_LEFT,3,aa.LOW]),ba.add(2390,ca.V_HORIZONTAL_REVERSE,da.ORANGE,[ea.EDGE_ANY,3,aa.MEDIUM,aa.MEDIUM]),ba.add(1785,ca.LINE_VERTICAL,da.GREEN,[ea.EDGE_LEFT,3,aa.HIGH]),ba.add(1057,ca.SINGLE,da.BLUE,ea.EDGE_LEFT),ba.add(2555,ca.LINE_VERTICAL,da.ORANGE,[ea.EDGE_LEFT,3,aa.LOW]),ba.add(2448,ca.LINE_HORIZONTAL,da.ORANGE,[ea.EDGE_ANY,3,aa.HIGH]),ba.add(1399,ca.V_HORIZONTAL,da.BLUE,[ea.EDGE_LEFT,3,aa.HIGH,aa.HIGH]),ba.add(3082,ca.V_HORIZONTAL,da.VIOLET,[ea.CENTER,3,aa.MEDIUM,aa.HIGH]),ba.add(3454,ca.SINGLE,da.VIOLET,ea.EDGE_LEFT),ba.add(1739,ca.LINE_VERTICAL,da.GREEN,[ea.LEFT,3,aa.LOW]),ba.add(1559,ca.LINE_HORIZONTAL,da.GREEN,[ea.RIGHT,3,aa.HIGH]),ba.add(1282,ca.V_HORIZONTAL_REVERSE,da.BLUE,[ea.EDGE_LEFT,3,aa.LOW,aa.LOW]),ba.add(1356,ca.LINE_VERTICAL,da.GREEN,[ea.EDGE_LEFT,3,aa.HIGH]),ba.add(3217,ca.V_HORIZONTAL,da.BLUE,[ea.EDGE_RIGHT,3,aa.HIGH,aa.LOW]),ba.new("hard_20"),ba.add(100,ca.V_HORIZONTAL_REVERSE,da.GREEN,[ea.EDGE_LEFT,3,aa.MEDIUM,aa.LOW]),ba.add(378,ca.SINGLE,da.GREEN,ea.EDGE_ANY),ba.add(21,ca.V_HORIZONTAL_REVERSE,da.GREEN,[ea.EDGE_ANY,3,aa.HIGH,aa.LOW]),ba.add(360,ca.LINE_VERTICAL,da.GREEN,[ea.CENTER,3,aa.LOW]),ba.add(461,ca.LINE_HORIZONTAL,da.GREEN,[ea.EDGE_RIGHT,3,aa.LOW]),ba.add(297,ca.SINGLE,da.GREEN,ea.CENTER),ba.add(297,ca.SINGLE,da.RED,ea.CENTER),ba.add(2895,ca.SINGLE,da.GREEN,ea.EDGE_ANY),ba.add(300,ca.LINE_VERTICAL,da.GREEN,[ea.EDGE_RIGHT,3,aa.LOW]),ba.add(345,ca.V_HORIZONTAL,da.GREEN,[ea.CENTER,3,aa.LOW,aa.HIGH]),ba.add(193,ca.SINGLE,da.GREEN,ea.CENTER),ba.add(727,ca.LINE_HORIZONTAL,da.GREEN,[ea.RIGHT,3,aa.LOW]),ba.add(297,ca.SINGLE,da.RED,ea.CENTER),ba.add(3209,ca.SINGLE,da.GREEN,ea.RIGHT),ba.add(464,ca.V_HORIZONTAL,da.GREEN,[ea.EDGE_ANY,3,aa.MEDIUM,aa.HIGH]),ba.add(110,ca.SINGLE,da.GREEN,ea.EDGE_LEFT),ba.add(303,ca.LINE_HORIZONTAL,da.GREEN,[ea.EDGE_RIGHT,3,aa.LOW]),ba.add(213,ca.LINE_VERTICAL,da.GREEN,[ea.EDGE_LEFT,3,aa.MEDIUM]),ba.add(332,ca.V_HORIZONTAL,da.GREEN,[ea.LEFT,3,aa.HIGH,aa.HIGH]),ba.add(253,ca.V_HORIZONTAL_REVERSE,da.GREEN,[ea.EDGE_ANY,3,aa.LOW,aa.MEDIUM]),ba.add(350,ca.V_HORIZONTAL,da.GREEN,[ea.EDGE_ANY,3,aa.HIGH,aa.HIGH]),ba.add(175,ca.V_HORIZONTAL_REVERSE,da.GREEN,[ea.EDGE_RIGHT,3,aa.LOW,aa.HIGH]),ba.add(394,ca.LINE_HORIZONTAL,da.GREEN,[ea.EDGE_LEFT,3,aa.LOW]),ba.add(297,ca.SINGLE,da.RED,ea.CENTER),ba.add(2193,ca.SINGLE,da.BLUE,ea.CENTER),ba.new("easy_1"),ba.add(100,ca.LINE_HORIZONTAL,da.GREEN,[ea.CENTER,3,aa.LOW]),ba.add(3e3,ca.LINE_HORIZONTAL,da.GREEN,[ea.CENTER,3,aa.LOW]),ba.add(3e3,ca.LINE_HORIZONTAL,da.GREEN,[ea.CENTER,3,aa.LOW]),ba.add(2500,ca.V_HORIZONTAL,da.VIOLET,[ea.LEFT,3,aa.MEDIUM,aa.LOW]),ba.add(2500,ca.V_HORIZONTAL,da.VIOLET,[ea.RIGHT,3,aa.MEDIUM,aa.LOW]),ba.add(3e3,ca.V_HORIZONTAL,da.GREEN,[ea.LEFT,3,aa.LOW,aa.LOW]),ba.add(1e3,ca.V_HORIZONTAL,da.GREEN,[ea.CENTER,3,aa.LOW,aa.LOW]),ba.add(1e3,ca.V_HORIZONTAL,da.GREEN,[ea.RIGHT,3,aa.LOW,aa.LOW]),ba.add(6e3,ca.LINE_VERTICAL,da.GREEN,[ea.LEFT,3,aa.LOW]),ba.add(1,ca.LINE_VERTICAL,da.GREEN,[ea.CENTER,3,aa.LOW]),ba.add(1,ca.LINE_VERTICAL,da.GREEN,[ea.RIGHT,3,aa.LOW]),ba.add(3e3,ca.LINE_VERTICAL,da.GREEN,[ea.LEFT,3,aa.LOW]),ba.add(1,ca.LINE_VERTICAL,da.GREEN,[ea.CENTER,3,aa.LOW]),ba.add(1,ca.LINE_VERTICAL,da.GREEN,[ea.RIGHT,3,aa.LOW]),ba.add(5e3,ca.LINE_VERTICAL,da.GREEN,[ea.CENTER,2,aa.LOW]),ba.add(1e3,ca.LINE_HORIZONTAL,da.GREEN,[ea.CENTER,5,aa.LOW]),ba.add(1e3,ca.LINE_VERTICAL,da.GREEN,[ea.CENTER,2,aa.LOW]),ba.add(5500,ca.V_HORIZONTAL,da.VIOLET,[ea.RIGHT,3,aa.MEDIUM,aa.LOW]),ba.add(2500,ca.V_HORIZONTAL,da.VIOLET,[ea.LEFT,3,aa.MEDIUM,aa.LOW]),ba.add(5e3,ca.SINGLE,da.RED,ea.CENTER),ba.add(1e4,ca.SINGLE,da.GREEN,ea.CENTER),ba.new("easy_2"),ba.add(100,ca.V_HORIZONTAL,da.GREEN,[ea.LEFT,3,aa.MEDIUM,aa.HIGH]),ba.add(2297,ca.LINE_HORIZONTAL,da.VIOLET,[ea.CENTER,3,aa.MEDIUM]),ba.add(2790,ca.LINE_HORIZONTAL,da.VIOLET,[ea.RIGHT,3,aa.MEDIUM]),ba.add(2737,ca.SINGLE,da.BLUE,ea.EDGE_RIGHT),ba.add(2981,ca.LINE_HORIZONTAL,da.VIOLET,[ea.EDGE_RIGHT,3,aa.HIGH]),ba.add(2926,ca.SINGLE,da.GREEN,ea.LEFT),ba.add(2704,ca.LINE_VERTICAL,da.VIOLET,[ea.EDGE_LEFT,3,aa.LOW]),ba.add(2002,ca.SINGLE,da.GREEN,ea.CENTER),ba.add(2456,ca.LINE_VERTICAL,da.BLUE,[ea.EDGE_LEFT,3,aa.MEDIUM]),ba.add(2462,ca.LINE_HORIZONTAL,da.VIOLET,[ea.LEFT,3,aa.MEDIUM]),ba.add(2052,ca.LINE_VERTICAL,da.GREEN,[ea.EDGE_LEFT,3,aa.MEDIUM]),ba.new("easy_3"),ba.add(100,ca.V_HORIZONTAL_REVERSE,da.GREEN,[ea.LEFT,3,aa.HIGH,aa.MEDIUM]),ba.add(3450,ca.V_HORIZONTAL_REVERSE,da.VIOLET,[ea.CENTER,3,aa.LOW,aa.MEDIUM]),ba.add(3486,ca.LINE_VERTICAL,da.BLUE,[ea.EDGE_RIGHT,3,aa.MEDIUM]),ba.add(2216,ca.V_HORIZONTAL,da.GREEN,[ea.RIGHT,3,aa.LOW,aa.LOW]),ba.add(2216,ca.V_HORIZONTAL,da.GREEN,[ea.LEFT,3,aa.LOW,aa.LOW]),ba.add(2216,ca.V_HORIZONTAL,da.GREEN,[ea.CENTER,3,aa.LOW,aa.LOW]),ba.add(2216,ca.V_HORIZONTAL,da.GREEN,[ea.LEFT,3,aa.LOW,aa.LOW]),ba.add(2216,ca.V_HORIZONTAL,da.GREEN,[ea.RIGHT,3,aa.LOW,aa.LOW]),ba.add(2216,ca.V_HORIZONTAL,da.GREEN,[ea.CENTER,3,aa.LOW,aa.LOW]),ba.add(3924,ca.LINE_HORIZONTAL,da.GREEN,[ea.LEFT,3,aa.HIGH]),ba.add(2465,ca.V_HORIZONTAL_REVERSE,da.BLUE,[ea.EDGE_RIGHT,3,aa.HIGH,aa.MEDIUM]),ba.add(3306,ca.V_HORIZONTAL,da.GREEN,[ea.LEFT,3,aa.LOW,aa.HIGH]),ba.add(2798,ca.LINE_VERTICAL,da.GREEN,[ea.EDGE_ANY,3,aa.MEDIUM]),ba.add(2008,ca.V_HORIZONTAL,da.BLUE,[ea.EDGE_ANY,3,aa.LOW,aa.HIGH]),ba.add(2e3,ca.V_HORIZONTAL,da.GREEN,[ea.CENTER,5,aa.LOW,aa.LOW]),ba.add(2e3,ca.V_HORIZONTAL,da.GREEN,[ea.CENTER,5,aa.LOW,aa.LOW]),ba.add(2e3,ca.V_HORIZONTAL,da.GREEN,[ea.CENTER,5,aa.LOW,aa.LOW]),ba.new("easy_4"),ba.add(100,ca.LINE_HORIZONTAL,da.VIOLET,[ea.RIGHT,3,aa.HIGH]),ba.add(5728,ca.V_HORIZONTAL_REVERSE,da.BLUE,[ea.EDGE_LEFT,3,aa.LOW,aa.MEDIUM]),ba.add(5520,ca.V_HORIZONTAL,da.VIOLET,[ea.RIGHT,3,aa.MEDIUM,aa.LOW]),ba.add(5240,ca.V_HORIZONTAL_REVERSE,da.VIOLET,[ea.EDGE_RIGHT,3,aa.HIGH,aa.HIGH]),ba.add(6914,ca.LINE_HORIZONTAL,da.GREEN,[ea.EDGE_LEFT,3,aa.LOW]),ba.add(4259,ca.V_HORIZONTAL_REVERSE,da.BLUE,[ea.EDGE_LEFT,3,aa.HIGH,aa.LOW]),ba.add(4593,ca.LINE_VERTICAL,da.GREEN,[ea.LEFT,3,aa.MEDIUM]),ba.add(3710,ca.V_HORIZONTAL_REVERSE,da.VIOLET,[ea.CENTER,3,aa.HIGH,aa.HIGH]),ba.add(6980,ca.LINE_HORIZONTAL,da.GREEN,[ea.LEFT,3,aa.LOW]),ba.add(5908,ca.LINE_HORIZONTAL,da.VIOLET,[ea.RIGHT,3,aa.HIGH]),ba.new("easy_5"),ba.add(100,ca.SINGLE,da.BLUE,ea.EDGE_ANY),ba.add(1e3,ca.V_HORIZONTAL_REVERSE,da.ORANGE,[ea.RIGHT,3,aa.HIGH,aa.MEDIUM]),ba.add(4433,ca.SINGLE,da.RED,ea.LEFT),ba.add(4628,ca.V_HORIZONTAL,da.GREEN,[ea.RIGHT,3,aa.LOW,aa.MEDIUM]),ba.add(4299,ca.LINE_VERTICAL,da.GREEN,[ea.EDGE_RIGHT,3,aa.LOW]),ba.add(4023,ca.V_HORIZONTAL,da.GREEN,[ea.RIGHT,3,aa.HIGH,aa.HIGH]),ba.add(2614,ca.V_HORIZONTAL,da.GREEN,[ea.LEFT,3,aa.MEDIUM,aa.LOW]),ba.add(4029,ca.SINGLE,da.VIOLET,ea.EDGE_LEFT),ba.add(2716,ca.V_HORIZONTAL,da.GREEN,[ea.EDGE_LEFT,3,aa.LOW,aa.HIGH]),ba.new("easy_6"),ba.add(100,ca.LINE_HORIZONTAL,da.GREEN,[ea.RIGHT,3,aa.MEDIUM]),ba.add(3214,ca.V_HORIZONTAL_REVERSE,da.VIOLET,[ea.RIGHT,3,aa.HIGH,aa.MEDIUM]),ba.add(3296,ca.LINE_VERTICAL,da.BLUE,[ea.RIGHT,3,aa.MEDIUM]),ba.add(1993,ca.LINE_HORIZONTAL,da.BLUE,[ea.EDGE_RIGHT,3,aa.LOW]),ba.add(2101,ca.SINGLE,da.VIOLET,ea.EDGE_RIGHT),ba.add(2528,ca.SINGLE,da.BLUE,ea.EDGE_ANY),ba.add(1043,ca.LINE_HORIZONTAL,da.BLUE,[ea.EDGE_ANY,3,aa.HIGH]),ba.add(1396,ca.LINE_VERTICAL,da.BLUE,[ea.EDGE_RIGHT,3,aa.HIGH]),ba.add(3395,ca.V_HORIZONTAL_REVERSE,da.BLUE,[ea.EDGE_RIGHT,3,aa.MEDIUM,aa.HIGH]),ba.add(3176,ca.LINE_HORIZONTAL,da.BLUE,[ea.LEFT,3,aa.LOW]),ba.add(2423,ca.SINGLE,da.VIOLET,ea.EDGE_ANY),ba.add(1760,ca.SINGLE,da.BLUE,ea.CENTER),ba.add(2010,ca.LINE_VERTICAL,da.BLUE,[ea.EDGE_ANY,3,aa.HIGH]),ba.new("easy_7"),ba.add(100,ca.SINGLE,da.GREEN,ea.RIGHT),ba.add(3181,ca.LINE_HORIZONTAL,da.VIOLET,[ea.RIGHT,3,aa.LOW]),ba.add(1472,ca.LINE_HORIZONTAL,da.VIOLET,[ea.CENTER,3,aa.LOW]),ba.add(3446,ca.V_HORIZONTAL_REVERSE,da.VIOLET,[ea.LEFT,3,aa.MEDIUM,aa.LOW]),ba.add(1770,ca.V_HORIZONTAL_REVERSE,da.GREEN,[ea.EDGE_LEFT,3,aa.HIGH,aa.LOW]),ba.add(2738,ca.V_HORIZONTAL,da.VIOLET,[ea.CENTER,3,aa.HIGH,aa.LOW]),ba.add(2943,ca.LINE_HORIZONTAL,da.BLUE,[ea.CENTER,3,aa.HIGH]),ba.add(1043,ca.V_HORIZONTAL,da.GREEN,[ea.EDGE_LEFT,3,aa.HIGH,aa.HIGH]),ba.add(3076,ca.LINE_HORIZONTAL,da.VIOLET,[ea.EDGE_RIGHT,3,aa.LOW]),ba.add(3100,ca.LINE_VERTICAL,da.BLUE,[ea.EDGE_RIGHT,3,aa.LOW]),ba.add(2364,ca.LINE_HORIZONTAL,da.GREEN,[ea.CENTER,3,aa.HIGH]),ba.add(1996,ca.LINE_VERTICAL,da.GREEN,[ea.RIGHT,3,aa.HIGH]),ba.new("easy_8"),ba.add(100,ca.SINGLE,da.GREEN,ea.EDGE_ANY),ba.add(3104,ca.V_HORIZONTAL_REVERSE,da.GREEN,[ea.EDGE_LEFT,3,aa.MEDIUM,aa.LOW]),ba.add(2570,ca.V_HORIZONTAL_REVERSE,da.BLUE,[ea.CENTER,3,aa.MEDIUM,aa.HIGH]),ba.add(3034,ca.SINGLE,da.BLUE,ea.CENTER),ba.add(2382,ca.V_HORIZONTAL,da.GREEN,[ea.LEFT,3,aa.HIGH,aa.MEDIUM]),ba.add(1070,ca.V_HORIZONTAL_REVERSE,da.VIOLET,[ea.EDGE_ANY,3,aa.HIGH,aa.LOW]),ba.add(2386,ca.LINE_VERTICAL,da.BLUE,[ea.EDGE_LEFT,3,aa.LOW]),ba.add(1046,ca.V_HORIZONTAL,da.VIOLET,[ea.EDGE_LEFT,3,aa.HIGH,aa.LOW]),ba.add(1674,ca.LINE_HORIZONTAL,da.BLUE,[ea.RIGHT,3,aa.HIGH]),ba.add(1544,ca.LINE_VERTICAL,da.GREEN,[ea.EDGE_ANY,3,aa.MEDIUM]),ba.add(2838,ca.SINGLE,da.GREEN,ea.RIGHT),ba.add(2103,ca.LINE_VERTICAL,da.BLUE,[ea.CENTER,3,aa.LOW]),ba.add(3393,ca.V_HORIZONTAL_REVERSE,da.BLUE,[ea.CENTER,3,aa.HIGH,aa.LOW]),ba.add(2882,ca.V_HORIZONTAL,da.BLUE,[ea.EDGE_RIGHT,3,aa.HIGH,aa.HIGH]),ba.add(1372,ca.SINGLE,da.VIOLET,ea.EDGE_ANY),ba.add(3222,ca.V_HORIZONTAL_REVERSE,da.VIOLET,[ea.CENTER,3,aa.HIGH,aa.MEDIUM]),ba.new("easy_9"),ba.add(100,ca.SINGLE,da.VIOLET,ea.EDGE_LEFT),ba.add(1351,ca.V_HORIZONTAL,da.BLUE,[ea.EDGE_ANY,3,aa.MEDIUM,aa.LOW]),ba.add(1285,ca.LINE_HORIZONTAL,da.GREEN,[ea.RIGHT,3,aa.MEDIUM]),ba.add(2169,ca.SINGLE,da.BLUE,ea.CENTER),ba.add(1617,ca.SINGLE,da.VIOLET,ea.RIGHT),ba.add(1307,ca.SINGLE,da.GREEN,ea.RIGHT),ba.add(1721,ca.LINE_HORIZONTAL,da.GREEN,[ea.LEFT,3,aa.MEDIUM]),ba.add(1584,ca.V_HORIZONTAL,da.VIOLET,[ea.CENTER,3,aa.MEDIUM,aa.LOW]),ba.add(2591,ca.V_HORIZONTAL,da.GREEN,[ea.CENTER,3,aa.LOW,aa.HIGH]),ba.add(3460,ca.SINGLE,da.BLUE,ea.RIGHT),ba.add(1183,ca.SINGLE,da.GREEN,ea.EDGE_LEFT),ba.add(1070,ca.LINE_VERTICAL,da.GREEN,[ea.RIGHT,3,aa.MEDIUM]),ba.add(1853,ca.LINE_HORIZONTAL,da.BLUE,[ea.EDGE_ANY,3,aa.HIGH]),ba.add(1078,ca.LINE_VERTICAL,da.GREEN,[ea.EDGE_RIGHT,3,aa.HIGH]),ba.new("easy_10"),ba.add(100,ca.SINGLE,da.GREEN,ea.EDGE_LEFT),ba.add(2215,ca.LINE_HORIZONTAL,da.GREEN,[ea.RIGHT,3,aa.LOW]),ba.add(1795,ca.SINGLE,da.BLUE,ea.RIGHT),ba.add(2773,ca.V_HORIZONTAL,da.GREEN,[ea.EDGE_ANY,3,aa.MEDIUM,aa.HIGH]),ba.add(2148,ca.V_HORIZONTAL,da.BLUE,[ea.EDGE_ANY,3,aa.HIGH,aa.LOW]),ba.add(3005,ca.SINGLE,da.BLUE,ea.EDGE_RIGHT),ba.add(1426,ca.V_HORIZONTAL_REVERSE,da.BLUE,[ea.EDGE_LEFT,3,aa.HIGH,aa.LOW]),ba.add(3107,ca.LINE_VERTICAL,da.GREEN,[ea.EDGE_ANY,3,aa.HIGH]),ba.add(1852,ca.V_HORIZONTAL_REVERSE,da.GREEN,[ea.EDGE_ANY,3,aa.MEDIUM,aa.HIGH]),ba.add(1945,ca.LINE_HORIZONTAL,da.GREEN,[ea.LEFT,3,aa.HIGH]),ba.add(3262,ca.LINE_HORIZONTAL,da.GREEN,[ea.EDGE_LEFT,3,aa.HIGH]),ba.add(3170,ca.SINGLE,da.BLUE,ea.LEFT),ba.add(1649,ca.LINE_VERTICAL,da.GREEN,[ea.EDGE_LEFT,3,aa.HIGH]),ba.add(1289,ca.LINE_HORIZONTAL,da.GREEN,[ea.EDGE_ANY,3,aa.MEDIUM]),ba.add(1443,ca.SINGLE,da.BLUE,ea.EDGE_RIGHT),ba.add(1306,ca.V_HORIZONTAL,da.BLUE,[ea.EDGE_RIGHT,3,aa.HIGH,aa.HIGH]),ba.add(1658,ca.LINE_VERTICAL,da.BLUE,[ea.CENTER,3,aa.LOW]),ba.add(3022,ca.LINE_VERTICAL,da.BLUE,[ea.EDGE_RIGHT,3,aa.MEDIUM]),ba.add(3011,ca.SINGLE,da.VIOLET,ea.CENTER),ba.add(1617,ca.V_HORIZONTAL,da.VIOLET,[ea.EDGE_LEFT,3,aa.HIGH,aa.HIGH]),ba.add(1463,ca.V_HORIZONTAL_REVERSE,da.BLUE,[ea.EDGE_LEFT,3,aa.HIGH,aa.HIGH]),ba.add(2560,ca.LINE_VERTICAL,da.VIOLET,[ea.LEFT,3,aa.LOW]),ba.add(2744,ca.LINE_HORIZONTAL,da.BLUE,[ea.CENTER,3,aa.MEDIUM]),ba.add(2992,ca.V_HORIZONTAL,da.VIOLET,[ea.CENTER,3,aa.LOW,aa.HIGH]),ba.add(1751,ca.V_HORIZONTAL,da.VIOLET,[ea.RIGHT,3,aa.HIGH,aa.HIGH]),ba.add(2705,ca.V_HORIZONTAL,da.VIOLET,[ea.LEFT,3,aa.HIGH,aa.LOW]),ba.add(2526,ca.V_HORIZONTAL,da.VIOLET,[ea.EDGE_ANY,3,aa.MEDIUM,aa.MEDIUM]),ba.finish()}}]),$}();function hC(e,a){if(!(e instanceof a))throw new TypeError("Cannot call a class as a function")}function Sm(e,a){for(var r=0;r<a.length;r++){var o=a[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function iC(e,a,r){return a&&Sm(e.prototype,a),r&&Sm(e,r),e}var gb=-200,jC=function(){function e(){hC(this,e)}return iC(e,[{key:"single",value:function(e,a){var r=this[e],o=this._getPosX(a);console.assert(0==isNaN(o),"single-> pos 'x' is NaN: ",o),console.assert(0==isNaN(gb),"single-> pos 'BASE_Y' is NaN",gb),r(o,gb)}},{key:"line_horizontal",value:function(e,a,r,o){for(var t=this._getFormationLine(o,0,r),s=this[e],n=this._getPosX(a),i=0;i<t.length;i++)console.assert(0==isNaN(n),"line_horizontal-> pos 'x' is NaN: ",n),console.assert(0==isNaN(gb),"line_horizontal-> pos 'BASE_Y' is NaN",gb),console.assert(0==isNaN(t[i].x),"line_horizontal-> pos 'arr[i].x' is NaN",t[i].x),console.assert(0==isNaN(t[i].y),"line_horizontal-> pos 'arr[i].y' is NaN",t[i].y),s(n+t[i].x,gb+t[i].y)}},{key:"line_vertical",value:function(e,a,r,o){for(var t=this._getFormationLine(0,o,r),s=this[e],n=this._getPosX(a),i=0;i<t.length;i++)console.assert(0==isNaN(n),"line_vertical-> pos 'x' is NaN: ",n),console.assert(0==isNaN(gb),"line_vertical-> pos 'BASE_Y' is NaN",gb),console.assert(0==isNaN(t[i].x),"line_vertical-> pos 'arr[i].x' is NaN",t[i].x),console.assert(0==isNaN(t[i].y),"line_vertical-> pos 'arr[i].y' is NaN",t[i].y),s(n+t[i].x,gb+t[i].y)}},{key:"v_horizontal",value:function(e,a,r,o,t){for(var s=this._getFormation_V(o,t,r),n=this[e],i=this._getPosX(a),$=0;$<s.length;$++)console.assert(0==isNaN(i),"v_horizontal-> pos 'x' is NaN: ",i),console.assert(0==isNaN(gb),"v_horizontal-> pos 'BASE_Y' is NaN",gb),console.assert(0==isNaN(s[$].x),"v_horizontal-> pos 'arr[i].x' is NaN",s[$].x),console.assert(0==isNaN(s[$].y),"v_horizontal-> pos 'arr[i].y' is NaN",s[$].y),n(i+s[$].x,gb+s[$].y)}},{key:"v_horizontal_reverse",value:function(e,a,r,o,t){for(var s=this._getFormation_V_reverse(o,t,r),n=this[e],i=this._getPosX(a),$=0;$<s.length;$++)console.assert(0==isNaN(i),"v_horizontal_reverse-> pos 'x' is NaN: ",i),console.assert(0==isNaN(gb),"v_horizontal_reverse-> pos 'BASE_Y' is NaN",gb),console.assert(0==isNaN(s[$].x),"v_horizontal_reverse-> pos 'arr[i].x' is NaN",s[$].x),console.assert(0==isNaN(s[$].y),"v_horizontal_reverse-> pos 'arr[i].y' is NaN",s[$].y),n(i+s[$].x,gb+s[$].y)}},{key:"green",value:function(e,a){ha.GetBagItemCount(ja.ENEMY)>=dd||va.EnemyPlane_1_GREEN(e,a)}},{key:"red",value:function(e,a){ha.GetBagItemCount(ja.ENEMY)>=dd||va.EnemyPlane_4_RED(e,a)}},{key:"blue",value:function(){if(!(ha.GetBagItemCount(ja.ENEMY)>=dd)){var e=Phaser.Utils.Array.GetRandom([{x:Phaser.Math.Between(-420,-420),y:Phaser.Math.Between(100,ta.GetScreenMaxHeight()-100),angle:Phaser.Math.Between(-50,50)},{x:Phaser.Math.Between(420,420),y:Phaser.Math.Between(100,ta.GetScreenMaxHeight()-100),angle:Phaser.Math.Between(130,230)},{x:Phaser.Math.Between(-220,220),y:Phaser.Math.Between(-100,-100),angle:Phaser.Math.Between(50,130)},{x:Phaser.Math.Between(-220,220),y:Phaser.Math.Between(ta.GetScreenMaxHeight()+100,ta.GetScreenMaxHeight()+100),angle:Phaser.Math.Between(230,310)}]);va.EnemyPlane_2_BLUE(e.x,e.y,e.angle)}}},{key:"violet",value:function(e,a){ha.GetBagItemCount(ja.ENEMY)>=dd||va.EnemyPlane_3_VIOLET(e,a)}},{key:"orange",value:function(e,a){ha.GetBagItemCount(ja.ENEMY)>=dd||va.EnemyPlane_5_Orange(e,a)}},{key:"boss_red",value:function(e,a){va.EnemyBoss_1_RED(e,a)}},{key:"boss_olive",value:function(e,a){va.EnemyBoss_2_OLIVE(e,a)}},{key:"boss_green",value:function(e,a){va.EnemyBoss_3_GREEN(e,a)}},{key:"_getPosX",value:function(e){return e?"left"==e?Phaser.Math.Between(-300,-50):"center"==e?Phaser.Math.Between(-125,125):"right"==e?Phaser.Math.Between(50,300):"edge_any"==e?Phaser.Utils.Array.GetRandom([Phaser.Math.Between(-300,-150),Phaser.Math.Between(150,300)]):"edge_left"==e?Phaser.Math.Between(-300,-150):"edge_right"==e?Phaser.Math.Between(150,300):0:Phaser.Math.Between(-250,250)}},{key:"_getFormationLine",value:function(e,a,r){for(var o=[],t=0;t<r;t++)o.push({x:e*t,y:a*t});if(o.length>1)for(var s=o[o.length-1],n=0;n<o.length;n++)o[n].x-=s.x/2,o[n].y-=s.y/2;return o}},{key:"_getFormation_V",value:function(e,a,r){var o=[];o.push({x:0,y:0});var t=r-1;t=Math.floor(t/2);for(var s=0;s<t;s++)o.push({x:e*(s+1),y:-a*(s+1)}),o.push({x:-e*(s+1),y:-a*(s+1)});return o}},{key:"_getFormation_V_reverse",value:function(e,a,r){var o=[],t=r-1;t=Math.floor(t/2),o.push({x:0,y:-a*t});for(var s=0;s<t;s++)o.push({x:e*(s+1),y:-a*(t-(s+1))}),o.push({x:-e*(s+1),y:-a*(t-(s+1))});return o}}]),e}();var dd=5;var kC=10;var lC=function e(){Gm(this,e),this.gameplayStarted=!1,this.gameplayEnded=!1,this.score=0,this.score=0,this.difficulty=1,this.playerShootBulletEnabled=!0,this.playerBulletDamage=5,this.playerDead=0,this.debug_bulletCollisionCount=0,this.debug_playerInfiniteBullet=!1,this.upgrades={},this.upgrades.shootSpeedMultiplier=1,this.spawnDelay=0,this.chain=[],this.chainIndex=0,this.chainLevel=0,this.canUpdateSpawnModel=!0,this.atBoss=!1,this.createShorterChain=!1,this.scoreMultiplier=1,this.playerMaxHealth=3},mC=function(e){OB(t,WB);var a=QB(t);function t(){return Gm(this,t),a.call(this)}return MB(t,[{key:"onEnter",value:function(e,a){Jd(ec(t.prototype),"onEnter",this).call(this,e,a),Vg.Tutorial(),dh.Rebuild(),this.parentState=e,this.parentScene=a,this.spawnModel=new jC,this.vals=new lC,this.spawnScenario=new rf(this.parentScene),this.spawnAtBossScenario=new rf(this.parentScene),this._defineChain(),ta.SetCameraPosYForScene(vd,0);for(var r=0;r<6;r++){var o=va.BackgroundTile();fa.MoveByXY(o,0,fa.GetDisplayHeight(o)*r)}for(var i=0;i<5;i++){var s=va.CloudRight(360,0);fa.MoveByXY(s,0,fa.GetDisplayHeight(s)*i);var $=va.CloudLeft(-360,0);fa.MoveByXY($,0,fa.GetDisplayHeight($)*i),$.displayed.setFlipX(!0)}var n=va.ElemSide(0,0);fa.SetDisplaySize(n,1e3,3e3),fa.MoveByHalfOwnSizeInDir(n,-1,0),fa.MoveByHalfOwnSizeInDir(n,-1,0),fa.MoveByXY(n,50,0);var l=va.ElemSide(0,0);fa.SetDisplaySize(l,1e3,3e3),fa.MoveByHalfOwnSizeInDir(l,1,0),fa.MoveByHalfOwnSizeInDir(l,1,0),fa.MoveByXY(l,-50,0),va.PlayerPlane(0,620);for(var p=1e3;p>-2e3;){var S=Phaser.Math.Between(150,250);Phaser.Math.Between(0,4)>=3?(va.ElemCloud(Phaser.Math.Between(-250,-50),p-Phaser.Math.Between(10,30)),va.ElemCloud(Phaser.Math.Between(50,250),p+Phaser.Math.Between(10,30))):va.ElemCloud(Phaser.Math.Between(-250,250),p),p-=S}dd=5,kC=10,bo.DumpAllActorsBagLength()}},{key:"onExitInstant",value:function(){Jd(ec(t.prototype),"onExitInstant",this).call(this),ha.TriggerActionOnAllActorsInBag(xf,ka.GAMEPLAY)}},{key:"onExitDelayed",value:function(){Jd(ec(t.prototype),"onExitDelayed",this).call(this),Da.MassQueueDisposeEntities(ja.GAMEPLAY),Da.MassQueueDisposeEntities(ka.GAMEPLAY)}},{key:"onUpdate",value:function(e,a){Jd(ec(t.prototype),"onUpdate",this).call(this,e,a),Fj.Update(a),Ff.OverlapGroups(this.parentScene,La.BULLET_PLAYER,La.ENEMY,this._onCollidePlayerBulletWithEnemy,null,this),Ff.OverlapGroups(this.parentScene,La.PLAYER,La.BULLET_ENEMY,this._onCollidPlayerWithEnemyBullet,null,this),Ff.OverlapGroups(this.parentScene,La.PLAYER,La.UPGRADE,this._onCollidePlayerWithBonus,null,this),Ff.OverlapGroups(this.parentScene,La.PLAYER,La.ENEMY,this._onCollidePlayerWithEnemyPlane,null,this),td.Update(a,ja.SCROLL_0),td.Update(a,ja.SCROLL_CLOUDS),td.Update(a,ja.SCROLL_1_LEFT),td.Update(a,ja.SCROLL_1_RIGHT);var r=zb.GetPointerIfNotPressingButton();if(0==this.vals.gameplayStarted){if(!r||!r.isDown||!zb.IsInputActive())return;this.onGameplayActualStart()}var o=!1;if(r&&r.isDown&&!this.vals.playerDead){var i=ha.GetActorByAlias("player");this._destroyTut();var s=-100;sa.desktop&&(s=-50);var $=ta.GetValueScaledByReverseScreenScale(r.x),n=ta.GetValueScaledByReverseScreenScale(r.y)+s,l=fa.GetEntityLayerToWorldOffset(i);($-=ta.GetValueScaledByReverseScreenScale(l.x))<-300&&($=-300),$>300&&($=300),(n-=ta.GetValueScaledByReverseScreenScale(l.y))>1030&&(n=1030),n<20&&(n=20),i.plugins.rexMoveTo.setEnable(!0),i.plugins.rexMoveTo.moveTo($,n),o=!0}this.vals.playerDead||o||ha.GetActorByAlias("player").plugins.rexMoveTo.setEnable(!1);if(ha.GetBagItemCount(ja.BOSS)>=1&&0==this.vals.atBoss&&(this.vals.atBoss=!0,kC+=2,dd<10&&(dd+=1)),1==this.vals.atBoss&&0==ha.GetBagItemCount(ja.BOSS)&&(this.vals.atBoss=!1,this.spawnAtBossScenario.clear(),this.spawnScenario.continue("proceed")),!this.vals.playerDead){if(this.vals.playerShootBulletEnabled&&Yd.Update(Jb.PLAYER_SHOOT_BULLETS,a*this.vals.upgrades.shootSpeedMultiplier),this.vals.canUpdateSpawnModel){if(!this.spawnScenario.isRunning)if(this.vals.spawnDelay>0)this.vals.spawnDelay-=a;else{var p=this.vals.chain[this.vals.chainIndex],S=!0;if("easy_"==p?(p+=Phaser.Math.Between(1,10),S=!1):"hard_"==p?p+=Phaser.Math.Between(1,20):"boss_"==p&&(p+=Phaser.Math.Between(1,3),fC.BossLabel()),console.log("SPAWN SEQUENCE: ",p),this.spawnScenario.load(dh.Get(p),this.spawnModel,{timeUnit:"ms"}),this.spawnScenario.start(),this.vals.spawnDelay=Phaser.Math.Between(50,100),S){var g=ha.GetActorByAlias("player");za.GetValue(g,"bulletCount")<5&&va.UpgradeBaloon(0,400)}this.vals.chainIndex+=1,this.vals.chainIndex>=this.vals.chain.length&&this._defineChain()}if(!this.spawnAtBossScenario.isRunning&&1==this.vals.atBoss){this.spawnAtBossScenario.load(dh.Get("support_0"),this.spawnModel,{timeUnit:"ms"}),this.spawnAtBossScenario.start()}}Yd.Update(Jb.ENEMY_SHOOT_BULLETS,a)}bj.Update(Rb.TICK_AI_RED_ENEMY,a),Ij.Update(a),Xi.Update(a),Bj.Update(a),Yd.Update("DELAY",a);for(var c=0,u=ha.GetBagItemsList(ja.PLAYER_HIT_SCREEN_EFFECT),m=0;m<u.length;m++){u[m].displayed.alpha>=.5&&c++}if(c>=this.vals.playerMaxHealth&&!this.vals.playerDead){var x=ha.GetActorByAlias("player");this._explodeContainer(x.displayed,15),this._killPlayerGameOver()}Pj.Update()}},{key:"onGameplayActualStart",value:function(){Jd(ec(t.prototype),"onGameplayActualStart",this).call(this),ha.IsActorByAliasExisting("alias_upgrades_score_mult")&&xa.GetToggleState(ha.GetActorByAlias("alias_upgrades_score_mult"))&&(ya.GetDataObject().consumable.doubleScore-=1,this.vals.scoreMultiplier=2),ha.IsActorByAliasExisting("alias_upgrades_bullet_count")&&xa.GetToggleState(ha.GetActorByAlias("alias_upgrades_bullet_count"))&&(ya.GetDataObject().consumable.extraBullets-=1,this._upgradePlayerBulletCount()),ha.IsActorByAliasExisting("alias_upgrades_armor")&&xa.GetToggleState(ha.GetActorByAlias("alias_upgrades_armor"))&&(ya.GetDataObject().consumable.extraHealth-=1,this.vals.playerMaxHealth=5),ya.SaveSaveDataObject();var e=ha.GetActorByAliasIfExists("alias_settings_btn_pause");e?fa.SetVisible(e,!0):_l.ButtonPause(),pa.GetGameRemix().playAudio(ic.tap),Vg.ScorePanel(),Vg.ScoreText(),Ga.SetTextWithZeroPad(Ec("alias_gameplay_text_score"),0,6),ha.TriggerActionOnAllActorsInBag(wf,ka.GAMEPLAY),this.vals.gameplayStarted=!0}},{key:"_onCollidePlayerWithEnemyPlane",value:function(e,a){var t=fa.GetActorFromDisplayObject(e),r=fa.GetActorFromDisplayObject(a),o=Aa.GetValue(r,"collisionDamage"),i=Phaser.Math.Between(60,120),s=Phaser.Utils.Array.GetRandom([-1,1]);i*=s,2==o?(this._onKillEnemy(r),va.CreatePlayerHit(t.displayed.x,t.displayed.y),va.CreateHit(t.displayed.x,t.displayed.y),va.CreatePlayerHit(t.displayed.x+i,t.displayed.y+i),va.CreateHit(t.displayed.x+i,t.displayed.y+i)):3==o&&(va.CreatePlayerHit(t.displayed.x,t.displayed.y),va.CreateHit(t.displayed.x,t.displayed.y),va.CreatePlayerHit(t.displayed.x+i,t.displayed.y+i),va.CreateHit(t.displayed.x+i,t.displayed.y+i),i*=s*=-1,va.CreatePlayerHit(t.displayed.x+i,t.displayed.y+i),va.CreateHit(t.displayed.x+i,t.displayed.y+i))}},{key:"_onCollidePlayerBulletWithEnemy",value:function(e,a){var t=fa.GetActorFromDisplayObject(e),r=fa.GetActorFromDisplayObject(a);fa.IsActorOnScreen(r)&&(Ya.HasTag(t,fb.BULLET_PLAYER)&&(va.CreateHit(t.displayed.x,t.displayed.y),Da.queueEntity(t),this.vals.debug_bulletCollisionCount+=1,this.audioPlayMetalHit()),Ya.HasTag(r,fb.ENEMY)&&(r.vals.mm_health.cur-=this.vals.playerBulletDamage,r.vals.mm_health.cur<=0&&(this._onKillEnemy(r),this.audioPlayMetalHit())))}},{key:"_onCollidPlayerWithEnemyBullet",value:function(e,a){var t=fa.GetActorFromDisplayObject(e),r=fa.GetActorFromDisplayObject(a);Ya.HasTag(t,fb.PLAYER)&&(va.CreatePlayerHit(t.displayed.x,t.displayed.y),va.CreateHit(t.displayed.x,t.displayed.y),this.audioPlayMetalHit()),Ya.HasTag(r,fb.BULLET_ENEMY)&&Da.queueEntity(r)}},{key:"_onCollidePlayerWithBonus",value:function(e,a){var t=fa.GetActorFromDisplayObject(a);0==t.vals.s_picked&&t.displayed.alpha>=.3&&(t.vals.s_picked=1,Da.queueEntity(t),Aa.HasValue(t,"upgrade")?(pa.GetGameRemix().playAudio(Ra.upgrade),"bullet_count"==Aa.GetValue(t,"upgrade")&&this._upgradePlayerBulletCount()):(pa.GetGameRemix().playAudio(Ra.star),this._increasePlayerScore(100)))}},{key:"_upgradePlayerBulletCount",value:function(){var e=ha.GetActorByAlias("player"),a=za.GetValue(e,"bulletCount");a+=1,za.SetCurValue(e,"bulletCount",a)}},{key:"_onKillEnemy",value:function(e){e.disposeQueued||(this._explodeContainer(e.displayed,e.vals.s_explodeCount),Phaser.Math.Between(0,100)>=90&&va.BonusScore(e.displayed.x,e.displayed.y),e.vals.mm_score.cur&&this._increasePlayerScore(e.vals.mm_score.cur),Da.queueEntity(e))}},{key:"_increasePlayerScore",value:function(e){1!=this.vals.playerDead&&(this.vals.score+=e*this.vals.scoreMultiplier,Ga.SetTextWithZeroPad(Ec("alias_gameplay_text_score"),this.vals.score,6))}},{key:"_explodeContainer",value:function(e,a){var t=e.x+Phaser.Math.Between(-50,50),r=e.y+Phaser.Math.Between(-50,50);va.CreateExplosion(t,r,0),this.audioPlayBoom();var o=Phaser.Math.Between(2,4);null!=a&&(o=a);for(var i=0;i<o;i++)t=e.x+Phaser.Math.Between(-e.displayWidth/2,e.displayWidth/2),r=e.y+Phaser.Math.Between(-e.displayHeight/2,e.displayHeight/2),va.CreateExplosion(t,r,Phaser.Utils.Array.GetRandom([25,50,75,100,125,150])+Phaser.Math.Between(0,7))}},{key:"_destroyTut",value:function(){Da.IfEntityByAliasExistsThenDispose("alias_howtoplay_generic_anim")}},{key:"_killPlayerGameOver",value:function(){if(1!=this.vals.playerDead){this.audioPlayBoom(),Da.IfEntityByAliasExistsThenDispose("bossLabel"),this.vals.playerDead=1,this.vals.gameplayEnded=!0;var e=ha.GetActorByAlias("player");Da.queueEntity(e),this.spawnAtBossScenario.shutdown(),this.spawnScenario.shutdown(),pa.GetGameRemix().passEventOnGameplayFinished({score:this.vals.score})}}},{key:"_defineChain",value:function(){0==this.vals.createShorterChain?(this.vals.chain=["easy_","hard_","hard_","boss_"],this.vals.createShorterChain=!0):this.vals.chain=["hard_","hard_","boss_"],gC.length,this.vals.chainIndex=0}},{key:"audioPlayBoom",value:function(){pa.GetGameRemix().playAudio(Phaser.Utils.Array.GetRandom([Ra.boom_1,Ra.boom_2,Ra.boom_3]))}},{key:"audioPlayMetalHit",value:function(){pa.GetGameRemix().playAudio(Phaser.Utils.Array.GetRandom([Ra.metal_hit_1,Ra.metal_hit_2,Ra.metal_hit_4]))}},{key:"hasGameplayStarted",value:function(){return this.vals.gameplayStarted}},{key:"hasGameplayEnded",value:function(){return this.vals.gameplayEnded}}]),t}();var ed=function(){function e(){JB(this,e)}return KB(e,null,[{key:"InjectIntoActor",value:function(t,n,r){t.vals.actions.triggerOn[n]||(t.vals.actions.triggerOn[n]=[]),t.vals.actions.triggerOn[n].push({name:e.Name,data:r}),t.vals.actions.dict[e.Name]=!0}},{key:"OnAct",value:function(e,t){ha.GetBagItemCount(ja.ENEMY_PROJECTILE)<kC&&cd.OnAct(e,t)}},{key:"Name",get:function(){return"WunderplanesEnemyShootShotgunBulletAction"}}]),e}();function nC(e,s){if(!(e instanceof s))throw new TypeError("Cannot call a class as a function")}function Tm(e,s){for(var n=0;n<s.length;n++){var r=s[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function oC(e,s,n){return s&&Tm(e.prototype,s),n&&Tm(e,n),e}var pC=function(){function e(){nC(this,e)}return oC(e,null,[{key:"GetModuleAssetBundlesData",value:function(){var e={module:"wunderplanes",assetPrefix:"wp"},s=[];return s.push(wb.ProcessAndGetAssetBundle("image","assets/wunderplanes/textures/",la)),s.push(wb.ProcessAndGetAssetBundle("spine","assets/wunderplanes/spines/",bh)),s.push(wb.ProcessAndGetAssetBundle("audio","assets/wunderplanes/sounds/",Ra)),s.push(wb.ProcessAndGetAssetBundle("font","assets/wunderplanes/fonts/",Gd)),e.bundles=s,e}}]),e}();var qC=function(o){o.audioLib[ic.tap]={cfg:{volume:1}},o.audioLib[Ra.music]={cfg:{volume:.3,loop:!0}},o.audioLib[Ra.upgrade]={cfg:{volume:1}},o.audioLib[Ra.boom_1]={cfg:{volume:.3}},o.audioLib[Ra.boom_2]={cfg:{volume:.3}},o.audioLib[Ra.boom_3]={cfg:{volume:.3}},o.audioLib[Ra.metal_hit_1]={cfg:{volume:.2}},o.audioLib[Ra.metal_hit_2]={cfg:{volume:.2}},o.audioLib[Ra.metal_hit_3]={cfg:{volume:.2}},o.audioLib[Ra.metal_hit_4]={cfg:{volume:.2}},o.audioLib[Ra.industrial_tap]={cfg:{volume:.3}},o.audioLib[Ra.star]={cfg:{volume:1}}};function Ab(r,e,$){return e in r?Object.defineProperty(r,e,{value:$,enumerable:!0,configurable:!0,writable:!0}):r[e]=$,r}var rC={cover_title:Ab({},yb,{x:0,y:-200}),cover_logo:Ab({},yb,{x:-85,y:5}),cover_highscore_icon:Ab({},yb,{x:10,y:80}),cover_score_panel:Ab({},yb,{x:0,y:0}),cover_score_font:Ab({},yb,{x:65,y:5}),gameplay_score_panel:Ab({},yb,{x:0,y:0}),gameplay_score_font:Ab({},yb,{x:65,y:5}),gameover_icon:Ab({},yb,{x:0,y:-50}),gameover_big_highscore:Ab({},yb,{x:0,y:-300}),gameover_tryagain:Ab({},yb,{x:0,y:-50}),gameover_tap_to_continue:Ab({},yb,{x:0,y:250})};var sC=!0,tC="Wunderplanes_2021_06_10_1",uC="wp_ws_2020_02_18_1",vC="Wunderplanes",wC="wunderplanes",xC="0x7A9F6F",yC={default:"arcade",arcade:{debug:!1,gravity:{y:0}}},zC=function(e){xB(r,Yr);var t=zB(r);function r(){var e;return vB(this,r),console.log("main.js->load:: Game version: "+uC),(e=t.call(this,{gameTitle:vC,folderName:wC,backgroundColour:xC,gameplayGroups:La,skipPregame:sC,templating:rC,physicsCfg:yC,assetBundlesList:[HB.GetModuleAssetBundlesData("wunderplanes"),pC.GetModuleAssetBundlesData()],funcDoConfigureAudio:qC,funcDoConfigureStatesDelays:IB,funcDoEnterFromPregame:function(){na.EnterState(Fd),na.EnterState(_b),na.EnterState(Fb)},funcDoInitializeSaveData:function(){ya.SetSaveSlot(tC),ya.IsSaveDataExistingOnPlatform()?ya.LoadSaveDataObject():(ya.SetSaveDataObject({score:0,consumable:{extraBullets:0,doubleScore:0,extraHealth:0}}),ya.SaveSaveDataObject())},funcDoRegisterRemixSpecificActions:function(){Oa.register(cd.Name,cd),Oa.register(ed.Name,ed),Oa.register(qb.Name,qb)}})).wunderplanesGameplayLoop=null,Dm(),e}return wB(r,[{key:"_custom_onFirstTouch",value:function(){pa.GetGameRemix().playAudio(Ra.music)}},{key:"_custom_passEventOnEnterInstantCover",value:function(){Bd.CoverTitle(),Bd.Bmlogo(),Bd.ScorePanel(),Bd.Highscoreicon();var e=ya.GetDataObject();Ga.SetTextWithZeroPad(Bd.Scorefont(),e.score,6)}},{key:"_custom_passEventOnEnterInstantGameplay",value:function(e){this.wunderplanesGameplayLoop=new mC,this.wunderplanesGameplayLoop.onEnter(e,e.scene)}},{key:"_custom_passEventOnEnterInstantGameOver",value:function(){Ef().enableTapToCover(),Ef().canShowHigherScoreTrophy()&&Zc.Highscore(),Zc.GameOverIcon(),Zc.TryAgainSpinned(),Zc.TapToContinue()}},{key:"_custom_passEventOnExitInstantGameplay",value:function(){this.wunderplanesGameplayLoop.onExitInstant()}},{key:"_custom_passEventOnExitDelayedGameplay",value:function(){this.wunderplanesGameplayLoop.onExitDelayed()}},{key:"_custom_passEventOnUpdateGameOverState",value:function(e,t,r){na.IsStateActive(yc)||Ef().doGameOverWantsToQuit()&&ha.IsActorByAliasExisting("alias_gameover_tap_to_continue")&&1==ha.GetActorByAlias("alias_gameover_tap_to_continue").displayed.visible&&(pa.GetGameRemix().playAudio(ic.tap),na.ExitState(_g),Xa.RunCommand(xg.Name))}},{key:"_custom_passEventOnUpdateGameplayState",value:function(e,t,r){this.wunderplanesGameplayLoop.onUpdate(t,r)}},{key:"_custom_passEventOnGameplayActualStart",value:function(){na.ExitState(zf),Xa.RunCommand(wg.Name,null)}},{key:"_custom_passEventOnGameplayFinished",value:function(e){Xa.RunCommand(vg.Name);var t=ya.GetDataObject();pa.GetGameRemix().getSessionData().latestGameplayScore=e.score,t.score<e.score&&(Ef().enableHigherScoreTrophy(),t.score=e.score,ya.SaveSaveDataObject());var r=ha.GetActorByAliasIfExists("alias_settings_btn_pause");r&&fa.SetVisible(r,!1)}},{key:"_custom_tryCallPause",value:function(){this.wunderplanesGameplayLoop&&this.wunderplanesGameplayLoop.hasGameplayStarted()&&!this.wunderplanesGameplayLoop.hasGameplayEnded()&&na.EnterState(Pc)}}]),r}();window.addEventListener("load",function(){tB.Run({klass:zC,isKlass:!0},{klass:gs,isKlass:!0},{overrideToggles:{showingAds:!1}})});return{"epB2":{}};});